System.register("@progress/kendo-dateinputs-common",["@progress/kendo-date-math","tslib"],function(r,t){var o={},l={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(l,"__esModule",{value:!0}),{setters:[function(e){Object.keys(e).forEach(function(t){o[t]=e[t]})},function(e){Object.keys(e).forEach(function(t){l[t]=e[t]})}],execute:function(){function i(t){var e=s[t];return void 0!==e||(e=s[t]={exports:{}},n[t](e,e.exports,i)),e.exports}var n,s,t,e,a;r((n={761:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0,e.Constants={formatSeparator:"_",twoDigitYearMax:68,defaultDateFormat:"d",defaultLocaleId:"en"}},953:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DateObject=void 0;var at=i(618),o=i(930),rt=i(506),ot=i(849),c=i(761),n=/d|M|H|h|m|s/;function s(t){var e=t.intlService,i=t.formatPlaceholder,n=t.format,s=t.cycleTime,s=void 0!==s&&s,a=t.twoDigitYearMax,a=void 0===a?c.Constants.twoDigitYearMax:a,r=t.value,r=void 0===r?null:r,o=t.autoCorrectParts,o=void 0===o||o,l=t.toggleDayPeriod,l=void 0!==l&&l,t=t.autoSwitchParts,t=void 0===t||t;if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=this.getDefaultDate(),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:e,formatPlaceholder:i,format:n,cycleTime:s,twoDigitYearMax:a,value:r,autoCorrectParts:o,toggleDayPeriod:l,autoSwitchParts:t}),r)this._value=(0,at.cloneDate)(r);else{this._value=this.getDefaultDate();for(var h=this.dateFormatString(this.value,this.format).symbols,u=0;u<h.length;u++)this.setExisting(h[u],!1)}}Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){(!t||t instanceof Date)&&(this._value=t,this.resetInvalidDate())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"localeId",{get:function(){for(var t=c.Constants.defaultLocaleId,e=Object.keys(this.intl.cldr),i=0;i<e.length;i++){var n=e[i],n=this.intl.cldr[n];if(n.name&&n.calendar&&n.numbers&&n.name!==c.Constants.defaultLocaleId){t=n.name;break}}return t},enumerable:!1,configurable:!0}),s.prototype.setOptions=function(t){this.intl=t.intlService,this.formatPlaceholder=t.formatPlaceholder||"wide",this.format=t.format,this.cycleTime=t.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=t.twoDigitYearMax,this.autoCorrectParts=t.autoCorrectParts,this.toggleDayPeriod=t.toggleDayPeriod,this.autoSwitchParts=t.autoSwitchParts},s.prototype.setValue=function(t){t?(0,at.isEqual)(t,this._value)?(0,at.isEqual)(t,this._value)&&this.dayPeriods&&this.setExisting("a",!0):(this._value=(0,at.cloneDate)(t),this.modifyExisting(!0)):(this._value=this.getDefaultDate(),this.modifyExisting(!1)),this.resetInvalidDate()},s.prototype.hasValue=function(){var i=this;return this.intl.splitDateFormat(this.format,this.localeId).reduce(function(t,e){return t||"literal"!==e.type&&"dayperiod"!==e.type&&i.getExisting(e.pattern[0])},!1)},s.prototype.getValue=function(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return(0,at.cloneDate)(this.value)},s.prototype.createDefaultDate=function(){return(0,at.createDate)(2e3,0,31)},s.prototype.getDefaultDate=function(){return(0,at.getDate)(this.createDefaultDate())},s.prototype.getFormattedDate=function(t){return this.intl.formatDate(this.getValue(),t,this.localeId)},s.prototype.getTextAndFormat=function(t){var t=(t=void 0===t?"":t)||this.format,e=this.intl.formatDate(this.value,t,this.localeId),i=this.dateFormatString(this.value,t);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){for(var n="",s=this.intl.formatDate(this.value,t,this.localeId),a=this.getFormattedInvalidDates(t),r=0;r<s.length;r++){var o,l,h=i.symbols[r];"literal"!==i.partMap[r].type&&this.getInvalidDatePartValue(h)?(o=this.getPartsForSegment(i,r),"M"===h?(l=((0,ot.parseToInt)(this.getInvalidDatePartValue(h))+1).toString(),!(2<o.length)&&this.getInvalidDatePartValue(h)?(n+=(0,rt.padZero)(o.length-l.length)+l,r+=o.length-1):n+=a[h][r]):this.getInvalidDatePartValue(h)?(l=this.getInvalidDatePartValue(h).toString(),n+=(0,rt.padZero)(o.length-l.length)+l,r+=o.length-1):n+=a[h][r]):n+=e[r]}e=n}return this.merge(e,i)},s.prototype.getFormattedInvalidDates=function(t){var i=this,n=(t=void 0===t?"":t)||this.format,s={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(t){var e=i.getInvalidDatePart(t).date;e&&(e=i.intl.formatDate(e,n,i.localeId),s[t]=e)}),s},s.prototype.modifyExisting=function(t){for(var e=this.dateFormatString(this.value,this.format).symbols,i=0;i<e.length;i++)this.setExisting(e[i],t)},s.prototype.getExisting=function(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}},s.prototype.setExisting=function(t,e){switch(t){case"y":!1===(this.year=e)&&this._value.setFullYear(2e3);break;case"M":!1===(this.month=e)&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"t":case"a":this.dayperiod=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;case"S":this.milliseconds=e}this.getValue()&&this.resetInvalidDate()},s.prototype.modifyPart=function(t,e){if((0,ot.isPresent)(t)&&(0,ot.isPresent)(e)&&0!==e){var i,n=(0,at.cloneDate)(this.value),s=!1,a="M"===t,r="d"===t||"E"===t,o=this.getExisting(t);if(this.autoCorrectParts||!r&&!a){var l=n.getHours();switch(t){case"y":n.setFullYear(n.getFullYear()+e);break;case"M":n=(0,at.addMonths)(this.value,e);break;case"d":case"E":n.setDate(n.getDate()+e);break;case"h":case"H":n.setHours(n.getHours()+e),s=!0;break;case"m":n.setMinutes(n.getMinutes()+e),s=!0;break;case"s":n.setSeconds(n.getSeconds()+e),s=!0;break;case"S":n.setMilliseconds(n.getMilliseconds()+e);break;case"a":this.toggleDayPeriod?n.setHours(12<=l?l-12:l+12):n.setHours(n.getHours()+12*e),s=!0}}else{var h=this._partiallyInvalidDate.invalidDateParts||{},u=this.getInvalidDatePartValue(t),c=h.y.value||n.getFullYear(),d=h.M.value||n.getMonth(),p=h.d.value||h.E.value||n.getDate(),m=h.h.value||h.H.value||n.getHours(),g=h.m.value||n.getMinutes(),v=h.s.value||n.getSeconds(),h=h.S.value||n.getMilliseconds();switch(t){case"y":c+=e;break;case"M":d+=e;break;case"d":case"E":p+=e}if("M"===t){if((d<0||11<d)&&o)return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t);o||(d=d<0?(0,ot.clamp)(d%11+1+11,0,11):(f=(0,ot.isPresent)(u)?d:(e-1)%12,(0,ot.clamp)(f,0,11)),d=(0,ot.clamp)(d,0,11)),d=(0,ot.clamp)(d,0,11)}else if("d"===t)if(o){if(p<=0||31<p)return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t)}else if(!o){if((0,ot.isPresent)(u)&&(p<=0||31<p))return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t);p=(f=e<0?(0,ot.isPresent)(u)?p:31-Math.abs(e%31)+1:(0,ot.isPresent)(u)?p:e%31,(0,ot.clamp)(f,1,31)),p=(0,ot.clamp)(p,1,31)}var o=(0,at.createDate)(c,d,p,m,g,v,h),u=a||r?this.modifyDateSymbolWithValue(n,t,a?d:p):null,f=(0,ot.areDatePartsEqualTo)(o,c,d,p,m,g,v,h);this.getValue()&&(0,ot.areDatePartsEqualTo)(o,c,d,p,m,g,v,h)?(n=(0,at.cloneDate)(o),this.markDatePartsAsExisting()):a&&u?u.getMonth()===d?this.getExisting("d")?f?(n=(0,at.cloneDate)(o),this.resetInvalidDateSymbol(t)):(i=!0,this.setInvalidDatePart(t,{value:d,date:(0,at.cloneDate)(u),startDateOffset:e,startDate:(0,at.cloneDate)(this.value)}),this.setExisting(t,!1)):f?(this.resetInvalidDateSymbol(t),n=(0,at.cloneDate)(o),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(t),n=(0,at.cloneDate)(u)):(i=!0,this.setInvalidDatePart(t,{value:d,date:(0,at.cloneDate)(u),startDateOffset:e,startDate:(0,at.cloneDate)(this.value)}),this.setExisting(t,!1)):r&&u&&(u.getDate()===p?this.getExisting("M")?f?(n=(0,at.cloneDate)(o),this.resetInvalidDateSymbol(t)):(i=!0,this.setInvalidDatePart(t,{value:p,date:(0,at.cloneDate)(u),startDateOffset:e,startDate:(0,at.cloneDate)(this.value)}),this.setExisting(t,!1)):f?(n=(0,at.cloneDate)(o),this.resetInvalidDateSymbol(t),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(t),n=(0,at.cloneDate)(u)):(i=!0,this.setInvalidDatePart(t,{value:p,date:(0,at.cloneDate)(this.value),startDateOffset:e,startDate:(0,at.cloneDate)(this.value)}),this.setExisting(t,!1)))}this.shouldNormalizeCentury()&&(n=this.normalizeCentury(n)),s&&!this.cycleTime&&(n.getDate(),this._value.getDate()),i||(this.setExisting(t,!0),this._value=n,this.getValue()&&this.resetInvalidDate())}},s.prototype.parsePart=function(t){for(var e=t.symbol,i=t.currentChar,N=t.resetSegmentValue,n=t.rawTextValue,j=t.isDeleting,s=t.originalFormat,a=!t.cycleSegmentValue,r=this.dateFormatString(this.value,this.format),o=r.partMap.filter(function(t){return"literal"===t.type}).map(function(t,e){return{datePartIndex:e,type:t.type,pattern:t.pattern,literal:""}}),l=r.partMap.map(function(t){return{type:t.type,pattern:t.pattern,text:""}}),h=0;h<o.length;h++){for(var u=o[h],c=0;c<u.pattern.length;c++)o[h+c]&&(o[h+c].literal=u.pattern[c]);h+=u.pattern.length-1}for(h=0;h<l.length;h++){for(u=l[h],c=0;c<u.pattern.length;c++)l[h+c]&&(l[h+c].text=u.pattern[c]);h+=u.pattern.length-1}var d={value:null,switchToNext:!1,resetPart:a&&"M"===e&&r.partMap.filter(function(t){return"month"===t.type}).some(function(t){return 2<t.pattern.length}),hasInvalidDatePart:!1};if(!i){if(!a)return this.resetLeadingZero(),this.setExisting(e,!1),this.resetInvalidDateSymbol(e),(0,ot.extend)(d,{value:null,switchToNext:!1});for(h=0;h<o.length;h++){var L=o[h].literal,K=n.startsWith(L),W=n.endsWith(L),L=0<=n.indexOf(L+L);if(K||W||L)return this.resetLeadingZero(),this.setExisting(e,!1),this.resetInvalidDateSymbol(e),(0,ot.extend)(d,{value:null,switchToNext:!1})}}var p=this.intl.formatDate(this.value,this.format,this.localeId),H=r.symbols,m=!1,g="",v="",f="",y="",D="",E="",B="";for(h=0;h<l.length;h++)B+=l[h].text;var t=this.format===H||this.format===B||this.format===s||this.format.length===s.length,P=(t?B:s).indexOf(e),Z=(t?B:s).lastIndexOf(e)-P+1,R=s.length-n.length;if(a||!a&&!this.autoCorrectParts){var b,S,Y=0;for(h=0;h<p.length;h++)H[h]===e?(b=this.getExisting(e),"y"===e?!this.hasInvalidDatePart()&&this.getExisting("y")?v+=p[h]:(S=this.getInvalidDatePartValue(e),(0,ot.isPresent)(S)?(v+=(S||"").toString()[Y]||"",Y++):v+=b?p[h]:"0"):v+=b?p[h]:"0",0<R&&!(f.length+R<Z)||(f+=n[h]||""),m=!0):m?(E+=p[h],D+=p[h]):(g+=p[h],y+=p[h]);if(t&&(B.length<n.length?f+=i:j||(s.length,n.length),f.length>Z))return(0,ot.extend)(d,{value:null,switchToNext:!1});if(!t||!this.autoCorrectParts){for(var v="",f="",g="",E="",m=!1,U=0,h=0;h<s.length;h++)s[h]===e?(b=this.getExisting(e),"y"===e?!this.hasInvalidDatePart()&&this.getExisting("y")?v+=p[h]:(S=this.getInvalidDatePartValue(e),(0,ot.isPresent)(S)?(v+=(S||"").toString()[U]||"",U++):v+=b?p[h]:"0"):v+=b?p[h]||"":"0",0<R&&!(f.length+R<Z)||(f+=n[h]||""),m=!0):m?E+=n[h-R]||"":g+=n[h]||"";s.length<n.length&&(f+=i)}}if(!a)if(this.autoCorrectParts)for(E=g=f=v="",m=!1,h=0;h<p.length;h++)H[h]===e?(v+=(b=this.getExisting(e))?p[h]:"0",m=!0):m?E+=p[h]:g+=p[h];else v=N?f:v;var M=null,z=this.matchMonth(i),P=this.matchDayPeriod(i,e),I="0"===i,q=this.leadingZero||{},x=(I?("0"===f&&(f=v),0!==(0,ot.parseToInt)(N?i:(a?f:v)+i)||this.isAbbrMonth(r.partMap,e)||"a"===e||this.incrementLeadingZero(e)):this.resetLeadingZero(),this.partPattern(r.partMap,e)),G=x?x.pattern:null,J=this.patternLength(G)||G.length;if(a&&j&&!f)this.setExisting(e,!1);else{var x=v.length-3,$=!0,O=a?f:v;for(h=Math.max(0,x);h<=v.length&&$;h++){O=N?i:a?f:v.substring(h)+i,this.autoSwitchParts&&"h"===e&&"12"===v.substring(h)&&(O=O.replace("12","0")),!a&&this.autoCorrectParts||(O=($=!1,rt.unpadZero)(O),O=(0,rt.padZero)(J-O.length)+O);var Q,X=parseInt(O,10),tt=((M=this.intl.parseDate(g+O+E,this.format,this.localeId))&&this.value&&r.partMap.every(function(t){return"year"!==t.type&&"month"!==t.type&&"day"!=t.type})&&(M.setFullYear(this.value.getFullYear()),M.setMonth(this.value.getMonth()),M.setDate(this.value.getDate())),!1),et=(a&&!(0,ot.isValidDate)(M)&&this.autoCorrectParts&&(M=this.intl.parseDate(y+O+D,this.format,this.localeId),tt=!0),!isNaN(parseInt(i,10))||a&&j&&""===i);if(!M&&!isNaN(X)&&et&&this.autoCorrectParts&&("M"!==e||z||-1<(et=X-1)&&et<12&&((M=(0,at.cloneDate)(this.value)).setMonth(et),M.getMonth()!==et)&&(M=(0,at.lastDayOfMonth)((0,at.addMonths)(M,-1))),"y"===e)&&(M=(0,at.createDate)(parseInt(O,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),a&&(0,ot.isValidDate)(M)||!a&&M)&&this.date&&M.getDate()!==this.value.getDate()&&(M=(0,at.lastDayOfMonth)((0,at.addMonths)(M,-1))),a&&(0,ot.isValidDate)(M)||!a&&M)return Q=(X=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:tt,middle:O,patternValue:G,basePrefix:y,baseSuffix:D,prefix:g,suffix:E,symbol:e,patternLength:J,leadingZero:q})).switchToNext,this.shouldNormalizeCentury()&&(M=this.normalizeCentury(M)),"H"===e&&12<=M.getHours()&&this.setExisting("a",!0),this._value=M,this.setExisting(e,!0),this.resetInvalidDateSymbol(e),this.autoCorrectParts||("M"===e?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===e?this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")):"y"===e&&this.markDatePartsAsExisting(),this.hasInvalidDatePart())||(this.markDatePartsAsExisting(),X.peekedDate)||!X.switchToNext||this.autoCorrectParts||"M"===e||"d"===e&&30===X.parsedPeekedValue&&1===this.value.getMonth()&&(Q=!1),(0,ot.extend)(d,{value:this.value,switchToNext:Q})}if(z&&(M=this.intl.parseDate(g+z+E,this.format,this.localeId)))return this._value=M,this.setExisting(e,!0),(0,ot.extend)(d,{value:this.value,switchToNext:!1});if(P&&(M=this.intl.parseDate(g+P+E,this.format)||this.intl.parseDate(y+P+D,this.format)))return this._value=M,this.setExisting(e,!0),(0,ot.extend)(d,{value:this.value,switchToNext:!0});if(I&&"a"!==e&&this.setExisting(e,!1),!this.autoCorrectParts){var it,nt,st,w,C,F,V,k,_,T,A,x=void 0,P=a?f:O,I=(0,ot.parseToInt)(P);if((0,ot.isNumber)(I)&&(0,ot.isParseableToInt)(P)){if("d"===e&&(I<=0||31<I)||"M"===e&&(I<=0||11<I)){if(a)return(0,ot.extend)(d,{value:null,switchToNext:!1});I=(0,ot.parseToInt)(P=i)}return(0,ot.isNumber)(I)&&(0,ot.isParseableToInt)(P)?(x="M"===e?I-1:I,it="y"===e,nt="M"===e,st="d"===e,w=(0,at.cloneDate)(this._value),A=this._partiallyInvalidDate.invalidDateParts||{},C=it?x:A.y.value||w.getFullYear(),F=nt?x:A.M.value||w.getMonth(),x=st?x:A.d.value||A.E.value||w.getDate(),k=A.h.value||A.H.value||w.getHours(),_=A.m.value||w.getMinutes(),T=A.s.value||w.getSeconds(),A=A.S.value||w.getMilliseconds(),V=(0,at.createDate)(C,F,x,k,_,T,A),k=(0,ot.areDatePartsEqualTo)(V,C,F,x,k,_,T,A),_=it||nt||st?this.modifyDateSymbolWithValue(w,e,it?C:nt?F:x):null,T=!1,nt&&_?_.getMonth()===F?this.getExisting("d")?k?(w=(0,at.cloneDate)(V),this.resetInvalidDateSymbol(e)):(T=!0,this.setInvalidDatePart(e,{value:F,date:(0,at.cloneDate)(_),startDate:(0,at.cloneDate)(this.value)}),this.setExisting(e,!1)):k?(this.resetInvalidDateSymbol(e),w=(0,at.cloneDate)(V),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(e),w=(0,at.cloneDate)(_)):(T=!0,this.setInvalidDatePart(e,{value:F,date:(0,at.cloneDate)(_),startDate:(0,at.cloneDate)(this.value)}),this.setExisting(e,!1)):st&&_?_.getDate()===x?this.getExisting("M")?k?(w=(0,at.cloneDate)(V),this.resetInvalidDateSymbol(e)):(T=!0,this.setInvalidDatePart(e,{value:x,date:(0,at.cloneDate)(_),startDate:(0,at.cloneDate)(this.value)}),this.setExisting(e,!1)):k?(w=(0,at.cloneDate)(V),this.resetInvalidDateSymbol(e),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(e),w=(0,at.cloneDate)(_)):(T=!0,this.setInvalidDatePart(e,{value:x,date:(0,at.cloneDate)(this.value),startDate:(0,at.cloneDate)(this.value)}),this.setExisting(e,!1)):it&&_&&(_.getFullYear()===C?this.getExisting("d")&&this.getExisting("M")?k?(w=(0,at.cloneDate)(V),this.resetInvalidDateSymbol(e)):(T=!0,this.setInvalidDatePart(e,{value:C,date:(0,at.cloneDate)(_),startDate:(0,at.cloneDate)(this.value)}),this.setExisting(e,!1)):k?(this.resetInvalidDateSymbol(e),w=(0,at.cloneDate)(V),this.getExisting("M")&&this.getExisting("d")&&(this.setExisting("y",!0),this.resetInvalidDateSymbol("y"))):(this.resetInvalidDateSymbol(e),w=(0,at.cloneDate)(_)):(T=!0,this.setInvalidDatePart(e,{value:C,date:(0,at.cloneDate)(_),startDate:(0,at.cloneDate)(this.value)}),this.setExisting(e,!1))),T||(this.setExisting(e,!0),a&&!(0,ot.isValidDate)(M)?(A=this.intl.parseDate(y+O+D,this.format,this.localeId),(0,ot.isValidDate)(A)&&(this._value=A)):this._value=w,this.getValue()&&this.resetInvalidDate()),Q=!1,Q="M"===e?2<=I||2<=P.length:t?this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:!this.autoCorrectParts,middle:O,patternValue:G,basePrefix:y,baseSuffix:D,prefix:g,suffix:E,symbol:e,patternLength:J,leadingZero:q}).switchToNext:P.length>Z,(0,ot.extend)(d,{value:null,switchToNext:Q,hasInvalidDatePart:T})):(0,ot.extend)(d,{value:null,switchToNext:!1})}}}return(0,ot.extend)(d,{value:null,switchToNext:!1})},s.prototype.symbolMap=function(t){return this.intl.splitDateFormat(this.format,this.localeId).reduce(rt.dateSymbolMap,{})[t]},s.prototype.resetLeadingZero=function(){var t=null!==this.leadingZero;return this.setLeadingZero(null),t},s.prototype.setLeadingZero=function(t){this.leadingZero=t},s.prototype.getLeadingZero=function(){return this.leadingZero||{}},s.prototype.normalizeCentury=function(t){var e,i;return(0,ot.isPresent)(t)?(e=(0,ot.cropTwoDigitYear)(t),i=this.getNormalizedCenturyBase(e),(0,ot.setYears)(t,i+e)):t},s.prototype.incrementLeadingZero=function(t){var e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e},s.prototype.isAbbrMonth=function(t,e){t=this.partPattern(t,e);return"month"===t.type&&t.names},s.prototype.partPattern=function(t,e){return t.filter(function(t){return-1!==t.pattern.indexOf(e)})[0]},s.prototype.peek=function(t,e){t=t.replace(/^0*/,"")+"0";return(0,rt.padZero)(e.length-t.length)+t},s.prototype.matchMonth=function(t){if(this.typedMonthPart+=t.toLowerCase(),0!==this.monthNames.length)for(;0<this.typedMonthPart.length;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var i=parseInt(this.typedMonthPart,10);if(1<=i&&i<=12&&i.toString()===this.typedMonthPart)return this.monthNames[i-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""},s.prototype.matchDayPeriod=function(t,e){t=t.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(t))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(t))return this.dayPeriods.pm}return""},s.prototype.allFormattedMonths=function(t){void 0===t&&(t="en");for(var e=this.intl.splitDateFormat(this.format,this.localeId),i=0;i<e.length;i++)if("month"===e[i].type&&e[i].names)return this.intl.dateFormatNames(t,e[i].names);return[]},s.prototype.allDayPeriods=function(t){void 0===t&&(t="en");for(var e=this.intl.splitDateFormat(this.format),i=0;i<e.length;i++)if("dayperiod"===e[i].type&&e[i].names)return this.intl.dateFormatNames(t,e[i].names);return null},s.prototype.patternLength=function(t){return"y"===t[0]?4:n.test(t)?2:0},s.prototype.dateFormatString=function(t,e){for(var i=this.intl.splitDateFormat(e,this.localeId),n=[],s=[],a=0;a<i.length;a++)for(var r=this.intl.formatDate(t,{pattern:i[a].pattern},this.localeId).length;0<r;)n.push(this.symbols[i[a].pattern[0]]||c.Constants.formatSeparator),s.push(i[a]),r--;e=new o.Mask;return e.symbols=n.join(""),e.partMap=s,e},s.prototype.merge=function(t,e){for(var i="",n="",s=e.symbols,a=!1,r=0,o=this.getFormattedInvalidDates(s),l=s.length-1;0<=l;l--){var h=this.getPartsForSegment(e,l);if(-1===this.knownParts.indexOf(s[l])||this.getExisting(s[l]))this.autoCorrectParts||t.length===s.length||a?i=t[l]+i:0<r?(i=t[l]+i,--r<=0&&(a=!0)):i=(t[l+t.length-s.length]||"")+i,n=s[l]+n;else{var u,c=s[l],d=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(c)){for(;0<=l&&c===s[l];)l--;l++}for(this.leadingZero&&this.leadingZero[c]?i="0"+i:!this.autoCorrectParts&&this.getInvalidDatePartValue(c)?(u=this.getInvalidDatePartValue(c).toString(),"M"===c?(u=((0,ot.parseToInt)(this.getInvalidDatePartValue(c))+1).toString(),2<h.length?i=o[c][l]+i:(u=((0,ot.parseToInt)(this.getInvalidDatePartValue(c))+1).toString(),i=(0,rt.padZero)(h.length-u.length)+u+i,d=h.length-1,r=u.length-h.length)):(i=(0,rt.padZero)(h.length-u.length)+u+i,d=h.length-1,r=u.length-h.length)):i=this.dateFieldName(e.partMap[l])+i;n.length<i.length;)n=s[l]+n;0!==d&&(l=l-d+(t.length-s.length))}}return{text:i,format:n}},s.prototype.dateFieldName=function(t){var e=this.formatPlaceholder||"wide";return e[t.type]||("formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e})))},s.prototype.getNormalizedCenturyBase=function(t){return t>this.twoDigitYearMax?1900:2e3},s.prototype.shouldNormalizeCentury=function(){return this.intl.splitDateFormat(this.format).some(function(t){return"yy"===t.pattern})},s.prototype.resetInvalidDate=function(){var e=this;this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(t){e.resetInvalidDatePart(t)})},s.prototype.resetInvalidDateSymbol=function(t){var e=this,i=(this.resetInvalidDatePart(t),!0);Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(t){e._partiallyInvalidDate.invalidDateParts[t]&&(0,ot.isPresent)(e._partiallyInvalidDate.invalidDateParts[t].value)&&(i=!1)}),i&&this.resetInvalidDate()},s.prototype.resetInvalidDatePart=function(t){this._partiallyInvalidDate.invalidDateParts[t]&&(this._partiallyInvalidDate.invalidDateParts[t]={value:null,date:null,startDateOffset:0})},s.prototype.getInvalidDatePart=function(t){return this._partiallyInvalidDate.invalidDateParts[t]||{}},s.prototype.getInvalidDatePartValue=function(t){return(this._partiallyInvalidDate.invalidDateParts[t]||{}).value},s.prototype.setInvalidDatePart=function(t,e){var i=e.value,n=e.date,n=void 0===n?null:n,s=e.startDateOffset,s=void 0===s?0:s,e=e.startDate,e=void 0===e?null:e;this._partiallyInvalidDate.invalidDateParts[t]&&(this._partiallyInvalidDate.invalidDateParts[t].value=void 0===i?null:i,this._partiallyInvalidDate.invalidDateParts[t].date=n,this._partiallyInvalidDate.invalidDateParts[t].startDateOffset=s,this._partiallyInvalidDate.startDate=e)},s.prototype.hasInvalidDatePart=function(){var e=this,i=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(t){e._partiallyInvalidDate.invalidDateParts[t]&&(0,ot.isPresent)(e._partiallyInvalidDate.invalidDateParts[t].value)&&(i=!0)}),i},s.prototype.modifyDateSymbolWithOffset=function(t,e,i){var n=(0,at.cloneDate)(t),s=!1;switch(e){case"y":n.setFullYear(n.getFullYear()+i);break;case"M":n=(0,at.addMonths)(this.value,i);break;case"d":case"E":n.setDate(n.getDate()+i);break;case"h":case"H":n.setHours(n.getHours()+i),s=!0;break;case"m":n.setMinutes(n.getMinutes()+i),s=!0;break;case"s":n.setSeconds(n.getSeconds()+i),s=!0;break;case"S":n.setMilliseconds(n.getMilliseconds()+i);break;case"a":n.setHours(n.getHours()+12*i),s=!0}return{date:n,timeModified:s}},s.prototype.modifyDateSymbolWithValue=function(t,e,i){var n=(0,at.cloneDate)(t);switch(e){case"y":n.setFullYear(i);break;case"M":n=(0,at.addMonths)(t,i-t.getMonth());break;case"d":case"E":n.setDate(i);break;case"h":case"H":case"a":n.setHours(i);break;case"m":n.setMinutes(i);break;case"s":n.setSeconds(i);break;case"S":n.setMilliseconds(i)}return n},s.prototype.markDatePartsAsExisting=function(){this.modifyExisting(!0)},s.prototype.getPartsForSegment=function(t,e){for(var i=t.partMap[e],n=[],s=e;s<t.partMap.length;s++){var a=t.partMap[s];if(i.type!==a.type||i.pattern!==a.pattern)break;n.push(a)}for(s=e-1;0<=s&&(a=t.partMap[s],i.type===a.type)&&i.pattern===a.pattern;s--)n.unshift(a);return n},s.prototype.isPeekDateOverflowingDatePart=function(t){var e=t.useBasePrefixAndSuffix,i=t.middle,n=t.patternValue,s=t.basePrefix,a=t.baseSuffix,r=t.prefix,o=t.suffix,l=t.symbol,h=t.patternLength,t=t.leadingZero,u=this.peek(i,n),e=e?"".concat(s).concat(u).concat(a):"".concat(r).concat(u).concat(o),s=this.intl.parseDate(e,this.format,this.localeId),a=((this.leadingZero||{})[l]||0)+(0,rt.unpadZero)(i).length>=h;return{peekedDate:s,peekedDateString:e,peekedValue:u,parsedPeekedValue:(0,ot.parseToInt)(u),switchToNext:null===s||(t[l]?n.length<=i.length:a)}},e.DateObject=s},503:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Key=void 0,e.Key={DELETE:"Delete",BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",SPACE:" ",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"}},874:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCode=void 0,e.KeyCode={BACKSPACE:8,DELETE:46,TAB:9,ENTER:13,ESCAPE:27,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,SPACE:32,END:35,HOME:36,PAGE_UP:33,PAGE_DOWN:34}},930:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0,e.Mask=function(){this.symbols="",this.partMap=[]}},179:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var n=i(849),s={events:{}};function a(t){this.options=(0,n.extend)({},s,t)}a.prototype.destroy=function(){this.options={}},a.prototype.trigger=function(t,e){void 0===e&&(e={});var i={defaultPrevented:!1,preventDefault:function(){i.defaultPrevented=!0}};return!!(0,n.isFunction)(this.options.events[t])&&(this.options.events[t]((0,n.extend)(i,e,{sender:this})),i.defaultPrevented)},e.Observable=a},849:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isIOS=r.isValidDate=r.areDatePartsEqualTo=r.millisecondStepFor=r.millisecondDigitsInFormat=r.setYears=r.cropTwoDigitYear=r.isFunction=r.noop=r.deepExtend=r.extend=r.clamp=r.isParseableToInt=r.parseToInt=r.isNumber=r.isDocumentAvailable=r.isPresent=void 0;function o(t){return t&&"object"==typeof t&&!Array.isArray(t)}var l=e(109),i=e(618);r.isPresent=function(t){return null!=t},r.isDocumentAvailable=function(){return!!document},r.isNumber=function(t){return(0,r.isPresent)(t)&&"number"==typeof t&&!Number.isNaN(t)},r.parseToInt=function(t){return parseInt(t,10)},r.isParseableToInt=function(t){return(0,r.isNumber)((0,r.parseToInt)(t))&&/^[0-9]+$/.test(t)},r.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},r.extend=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,t)},r.deepExtend=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(!i.length)return t;var s=i.shift();if(o(t)&&o(s))for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&"__proto__"!==a&&"constructor"!==a&&"prototype"!==a&&(s[a]instanceof HTMLElement?t[a]=s[a]:!o(s[a])||s[a]instanceof Date?(0,r.extend)(t,((e={})[a]=s[a],e)):(t[a]&&o(t[a])||(0,r.extend)(t,((e={})[a]={},e)),(0,r.deepExtend)(t[a],s[a])));return r.deepExtend.apply(void 0,l.__spreadArray([t],i,!1))},r.noop=function(){},r.isFunction=function(t){return"function"==typeof t},r.cropTwoDigitYear=function(t){return!(0,r.isPresent)(t)||isNaN(t.getTime())?0:Number(t.getFullYear().toString().slice(-2))},r.setYears=function(t,e){t=(0,i.cloneDate)(t);return t.setFullYear(e),t},r.millisecondDigitsInFormat=function(t){t=t&&t.match(/S+(\1)/);return t?t[0].length:0},r.millisecondStepFor=function(t){return Math.pow(10,3-t)},r.areDatePartsEqualTo=function(t,e,i,n,s,a,r,o){return!(!t||t.getFullYear()!==e||t.getMonth()!==i||t.getDate()!==n||t.getHours()!==s||t.getMinutes()!==a||t.getSeconds()!==r||t.getMilliseconds()!==o)},r.isValidDate=function(t){return(0,r.isPresent)(t)&&t.getTime&&(0,r.isNumber)(t.getTime())},r.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&/Macintosh/i.test(navigator.userAgent)}},415:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DateInput=void 0;var n,s=i(109),a=i(953),I=i(506),x=i(874),O=i(503),w=i(849),r=i(179),C=i(655),F=i(618),V=i(761),o="dragStart",l="touchstart",h="mousedown",u="mouseup",c="input",d="keydown",p="focus",m="blur",g="DOMMouseScroll",v="mousewheel",f="valueChange",y="inputEnd",D="blurEnd",E="focusEnd",P="change",b={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:((i={})[f]=null,i[c]=null,i[y]=null,i[p]=null,i[E]=null,i[m]=null,i[D]=null,i[d]=null,i[v]=null,i[P]=null,i),selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:V.Constants.twoDigitYearMax,autoCorrectParts:!0,autoFill:!1,toggleDayPeriod:!1},i=(n=r.Observable,s.__extends(S,n),Object.defineProperty(S.prototype,"value",{get:function(){return this.dateObject&&this.dateObject.getValue()},enumerable:!1,configurable:!0}),S.prototype.init=function(t,e){var i=(0,w.isValidDate)(this.options.value)?(0,F.cloneDate)(this.options.value):new Date(e.formattedValue);(0,w.isValidDate)(i)||(i=null),this.element=t,this.options=(0,w.extend)({},b,e,{steps:s.__assign(s.__assign({},b.steps),e.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(i),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=C.DateInputInteractionMode.None,this.forceUpdate()},S.prototype.destroy=function(){this.unbindEvents(),this.dateObject=null,n.prototype.destroy.call(this)},S.prototype.bindEvents=function(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener(o,this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener("drop",this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener("click",this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener(h,this.onElementMouseDown),this.element.addEventListener(l,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener(u,this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(c,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(d,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(p,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(m,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(P,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener("paste",this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(g,this.onElementMouseWheel),this.element.addEventListener(v,this.onElementMouseWheel)},S.prototype.unbindEvents=function(){this.element.removeEventListener(o,this.onElementDragStart),this.element.removeEventListener("drop",this.onElementDrop),this.element.removeEventListener(l,this.onElementMouseDown),this.element.removeEventListener(h,this.onElementMouseDown),this.element.removeEventListener(u,this.onElementMouseUp),this.element.removeEventListener("click",this.onElementClick),this.element.removeEventListener(c,this.onElementInput),this.element.removeEventListener(d,this.onElementKeyDown),this.element.removeEventListener(p,this.onElementFocus),this.element.removeEventListener(m,this.onElementBlur),this.element.removeEventListener(P,this.onElementChange),this.element.removeEventListener("paste",this.onElementPaste),this.element.removeEventListener(g,this.onElementMouseWheel),this.element.removeEventListener(v,this.onElementMouseWheel)},S.prototype.setOptions=function(t,e){void 0===e&&(e=!1),this.options=(0,w.extend)({},this.options,t,{steps:s.__assign(s.__assign({},b.steps),t.steps)}),this.setDateObjectOptions(),e&&(this.unbindEvents(),this.init(this.element,this.options))},S.prototype.setDateObjectOptions=function(){var t;this.dateObject&&(t=this.getDateObjectOptions(),this.dateObject.setOptions(t))},S.prototype.resetLocale=function(){this.unbindEvents(),this.init(this.element,this.options)},S.prototype.isInCaretMode=function(){return this.interactionMode===C.DateInputInteractionMode.Caret},S.prototype.focus=function(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)},S.prototype.onElementDragStart=function(t){t.preventDefault()},S.prototype.onElementDrop=function(t){t.preventDefault()},S.prototype.onElementMouseDown=function(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive},S.prototype.onElementMouseUp=function(t){this.mouseDownStarted=!1,t.preventDefault()},S.prototype.onElementClick=function(t){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;var e,i=this.selection;this.isInCaretMode()&&this.forceUpdate(),3!==t.detail&&(this.isActive&&this.options.selectNearestSegmentOnFocus?(t=this.element.selectionStart!==this.element.selectionEnd,e=(0,w.isPresent)(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,t=!t&&e?0:this.caret()[0],this.selectNearestSegment(t)):this.setSelection(this.selectionByIndex(i.start)))},S.prototype.onElementInput=function(t){this.triggerInput({event:t});var e=this.elementValue;if(this.element&&this.dateObject){var i=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(t),this.isPasteInProgress=!1;else{var n=this.keyDownEvent||{},s=n.keyCode===x.KeyCode.BACKSPACE||n.key===O.Key.BACKSPACE,a=n.keyCode===x.KeyCode.DELETE||n.key===O.Key.DELETE,n=this.interactionMode,r=(!this.options.allowCaretMode||n===C.DateInputInteractionMode.Caret||a||s||(this.resetSegmentValue=!0),this.options.allowCaretMode?this.interactionMode=C.DateInputInteractionMode.Caret:this.interactionMode=C.DateInputInteractionMode.Selection,this.isInCaretMode());if(r&&this.keyDownEvent.key===O.Key.SPACE)this.restorePreviousInputEventState();else{var o=this.dateObject&&this.dateObject.getValue(),l=this.dateObject?this.dateObject.value:null,h=this.dateObject.getTextAndFormat(),u=h.text,n=(this.currentFormat=h.format,h=r&&(s||a||n===C.DateInputInteractionMode.Caret)?this.previousElementValue:u,this.elementValue),c=(0,I.approximateStringMatching)({oldText:h,newText:n,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:r,keyEvent:this.keyDownEvent});if(c&&c.length&&c[0]&&c[0][1]!==V.Constants.formatSeparator&&(this.switchedPartOnPreviousKeyAction=!1),!r||c&&0!==c.length){if(r&&1===c.length){if(!c[0]||!c[0][0])return void this.restorePreviousInputEventState();if(r&&c[0]&&(c[0][0]===V.Constants.formatSeparator||c[0][1]===V.Constants.formatSeparator))return void this.restorePreviousInputEventState()}var u=1===c.length&&c[0][1]===V.Constants.formatSeparator,d=[],p=!1,m=null;if(!u)for(var g=0;g<c.length;g++){var v=this.dateObject.parsePart({symbol:c[g][0],currentChar:c[g][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:s||a,originalFormat:this.currentFormat});d.push(v),v.value||(m={type:"parse"}),p=v.switchToNext}this.options.autoSwitchParts||(p=!1),this.resetSegmentValue=!1;var f,h=this.options.format===this.currentFormat||(0,w.isPresent)(this.options.format)&&1<this.options.format.length,n=d[d.length-1],y=n&&!(0,w.isPresent)(n.value),D=r&&(s||a)&&y,E=!!n&&n.resetPart,P=this.dateObject.getValue(),b=!(0,F.isEqual)(o,P),S=this.dateObject.value,M=this.selection;r?(f=c&&0<c.length?c[0][0]:null,f=this.dateObject.getLeadingZero()[f],c.length&&c[0][0]!==V.Constants.formatSeparator?p?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):E?(E=this.currentFormat[M.start])?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(E))):this.restorePreviousInputEventState():D?(this.forceUpdate(),c.length&&c[0][0]!==V.Constants.formatSeparator&&this.setSelection(this.selectionBySymbol(c[0][0]))):y?"0"===t.data&&f||((0,w.isPresent)(o)&&!(0,w.isPresent)(P)?this.restorePreviousInputEventState():!(0,w.isPresent)(o)&&(0,w.isPresent)(P)?this.forceUpdateWithSelection():(0,w.isPresent)(o)&&(0,w.isPresent)(P)?b?this.forceUpdateWithSelection():this.restorePreviousInputEventState():(0,w.isPresent)(o)||(0,w.isPresent)(P)?l===S&&this.restorePreviousInputEventState():this.forceUpdateWithSelection()):h||this.forceUpdateWithSelection():!this.options.autoSwitchParts&&c[0][1]===V.Constants.formatSeparator||this.setSelection(this.selectionBySymbol(c[0][0]))):(this.forceUpdate(),c.length&&c[0][0]!==V.Constants.formatSeparator&&this.setSelection(this.selectionBySymbol(c[0][0])),this.options.autoSwitchParts?u?(this.resetSegmentValue=!0,i||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):p&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):n&&n.switchToNext?this.resetSegmentValue=!0:u&&(this.resetSegmentValue=!0,i||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),s&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1)),this.tryTriggerValueChange({oldValue:o,event:t}),this.triggerInputEnd({event:t,error:m,oldElementValue:e,newElementValue:this.elementValue}),r&&this.setTextAndFormat()}else this.restorePreviousInputEventState()}}}},S.prototype.onElementFocus=function(t){this.triggerFocus({event:t})||(this.isActive=!0,this.interactionMode=C.DateInputInteractionMode.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:t}))},S.prototype.onElementBlur=function(t){this.resetSegmentValue=!0,this.isActive=!1,this.triggerBlur({event:t})||(this.options.autoFill&&this.autoFill(),this.interactionMode=C.DateInputInteractionMode.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:t}))},S.prototype.onElementChange=function(t){this.triggerChange({event:t})},S.prototype.onElementKeyDown=function(t){if(!this.triggerKeyDown({event:t})){var e=this.selection,i=e.start,e=e.end,n=t;if(this.keyDownEvent=t,this.previousElementValue=this.element.value,this.previousElementSelection={start:i,end:e},this.keyEventMatchesAutoSwitchKeys(t)){i=t.keyCode===x.KeyCode.TAB;if(!i)return t.preventDefault(),void this.switchDateSegment(1);var e=this.selection,s=e.start,e=e.end;if(t.shiftKey&&i?this.switchDateSegment(-1):this.switchDateSegment(1),s!==this.selection.start||e!==this.selection.end)return void t.preventDefault()}var a=this.currentFormat[this.selection.start],r=this.getStepFromSymbol(a),o=!1,l=this.elementValue;if(!(t.altKey||t.ctrlKey||t.metaKey||t.keyCode===x.KeyCode.TAB)){switch(t.keyCode){case x.KeyCode.ARROW_LEFT:this.switchDateSegment(-1),this.switchedPartOnPreviousKeyAction=!(o=!0);break;case x.KeyCode.ARROW_UP:this.modifyDateSegmentValue(r,a,n),l!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:l}),this.switchedPartOnPreviousKeyAction=!(o=!0);break;case x.KeyCode.ARROW_RIGHT:this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!(o=!0);break;case x.KeyCode.ARROW_DOWN:this.modifyDateSegmentValue(-r,a,n),l!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:l}),this.switchedPartOnPreviousKeyAction=!(o=!0);break;case x.KeyCode.ENTER:break;case x.KeyCode.HOME:this.selectNearestSegment(0),this.switchedPartOnPreviousKeyAction=!(o=!0),this.resetSegmentValue=!0;break;case x.KeyCode.END:this.selectNearestSegment(this.elementValue.length),this.switchedPartOnPreviousKeyAction=!(o=!0),this.resetSegmentValue=!0;break;default:return}o&&t.preventDefault()}}},S.prototype.onElementPaste=function(){this.isPasteInProgress=!0},S.prototype.onElementMouseWheel=function(t){var e,i=this.elementValue;this.options.enableMouseWheel&&!this.triggerMouseWheel({event:t})&&this.isActive&&((e=t).shiftKey?this.switchDateSegment(0<(e.wheelDelta||-e.detail)?-1:1):this.modifyDateSegmentValue(0<(e.wheelDelta||-e.detail)?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),i!==this.elementValue)&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:i})},S.prototype.updateOnPaste=function(t){var e=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value,i=((0,w.isPresent)(e)&&this.dateObject.shouldNormalizeCentury()&&(e=this.dateObject.normalizeCentury(e)),this.dateObject&&this.dateObject.getValue());this.writeValue(e),this.tryTriggerValueChange({oldValue:i,event:t})},Object.defineProperty(S.prototype,"elementValue",{get:function(){return(this.element||{}).value||""},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"inputFormat",{get:function(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.inputFormat:V.Constants.defaultDateFormat},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"displayFormat",{get:function(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.displayFormat:V.Constants.defaultDateFormat},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"selection",{get:function(){var t={start:0,end:0};return t=null!==this.element&&void 0!==this.element.selectionStart?{start:this.element.selectionStart,end:this.element.selectionEnd}:t},enumerable:!1,configurable:!0}),S.prototype.setSelection=function(t){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(t.start,t.end),(0,w.isDocumentAvailable)()&&(0,w.isIOS)()&&this.element.scrollIntoView({block:"nearest",inline:"nearest"}),t.start!==t.end)&&(this.interactionMode=C.DateInputInteractionMode.Selection)},S.prototype.selectionBySymbol=function(t){for(var e=-1,i=0,n=0;n<this.currentFormat.length;n++)this.currentFormat[n]===t&&(i=n+1,-1===e)&&(e=n);return e<0&&(e=0),this.options.autoCorrectParts||this.currentFormat.length===this.currentText.length||(this.currentFormat.length<this.currentText.length?i+=this.currentText.length-this.currentFormat.length:i=Math.max(0,i-(this.currentFormat.length-this.currentText.length))),{start:e,end:i}},S.prototype.selectionByIndex=function(t){for(var e={start:t,end:t},i=t,n=t-1;i<this.currentFormat.length||0<=n;i++,n--){if(i<this.currentFormat.length&&this.currentFormat[i]!==V.Constants.formatSeparator){e=this.selectionBySymbol(this.currentFormat[i]);break}if(0<=n&&this.currentFormat[n]!==V.Constants.formatSeparator){e=this.selectionBySymbol(this.currentFormat[n]);break}}return e},S.prototype.switchDateSegment=function(t){var e=this.selection;if(this.isInCaretMode()){var i=e.start,n=this.currentFormat[i-1],s="",a="";if(t<0){for(var r=i+t;0<=r;r--)if((a=this.currentFormat[r])!==V.Constants.formatSeparator&&a!==n){i=r,s=a;break}}else for(r=i+t;r<this.currentFormat.length;r++)if((a=this.currentFormat[r])!==V.Constants.formatSeparator&&a!==n){i=r,s=a;break}if(s)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(s)),void(this.interactionMode=C.DateInputInteractionMode.Selection)}this.interactionMode=C.DateInputInteractionMode.None;var e=this.selection,o=e.start,e=e.end;if(o<e&&this.currentFormat[o]!==this.currentFormat[e-1])this.setSelection(this.selectionByIndex(0<t?o:e-1)),this.resetSegmentValue=!0,this.interactionMode=C.DateInputInteractionMode.None;else{for(var l=this.currentFormat[o],h=o+t;0<h&&h<this.currentFormat.length&&(this.currentFormat[h]===l||this.currentFormat[h]===V.Constants.formatSeparator);)h+=t;if(this.currentFormat[h]!==V.Constants.formatSeparator){for(var u=h;0<=u&&u<this.currentFormat.length&&this.currentFormat[u]===this.currentFormat[h];)u+=t;u<h&&(u+1!==o||h+1!==e)?(this.setSelection({start:u+1,end:h+1}),this.resetSegmentValue=!0):h<u&&(h!==o||u!==e)&&(this.setSelection({start:h,end:u}),this.resetSegmentValue=!0),this.interactionMode=C.DateInputInteractionMode.None}}},S.prototype.modifyDateSegmentValue=function(t,e,i){var n,s,a;void 0===e&&(e=""),void 0===i&&(i={}),this.dateObject&&!this.options.readonly&&(n=this.value,a=1,s=this.caret(),"S"!==(e=e||this.currentFormat[s[0]])||this.options.steps.millisecond&&1!==this.options.steps.millisecond||(s=(0,w.millisecondDigitsInFormat)(this.inputFormat),a=(0,w.millisecondStepFor)(s)),this.dateObject.modifyPart(e,a*t),this.tryTriggerValueChange({oldValue:n,event:i}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e)))},S.prototype.tryTriggerValueChange=function(t){if(!(0,F.isEqual)(this.value,(t=void 0===t?{oldValue:null,event:{}}:t).oldValue))return this.triggerValueChange(t)},S.prototype.triggerValueChange=function(t){return this.trigger(f,(0,w.extend)(t=void 0===t?{oldValue:null,event:{}}:t,{value:this.value}))},S.prototype.triggerInput=function(t){return this.trigger(c,(0,w.extend)(t=void 0===t?{event:{}}:t,{value:this.value}))},S.prototype.triggerInputEnd=function(t){return this.trigger(y,(0,w.extend)(t=void 0===t?{event:{},error:null,oldElementValue:"",newElementValue:""}:t,{value:this.value}))},S.prototype.triggerFocus=function(t){return this.trigger(p,(0,w.extend)({},t=void 0===t?{event:{}}:t))},S.prototype.triggerFocusEnd=function(t){return this.trigger(E,(0,w.extend)({},t=void 0===t?{event:{}}:t))},S.prototype.triggerBlur=function(t){return this.trigger(m,(0,w.extend)({},t=void 0===t?{event:{}}:t))},S.prototype.triggerBlurEnd=function(t){return this.trigger(D,(0,w.extend)({},t=void 0===t?{event:{}}:t))},S.prototype.triggerChange=function(t){return this.trigger(P,(0,w.extend)(t=void 0===t?{event:{}}:t,{value:this.value}))},S.prototype.triggerKeyDown=function(t){return this.trigger(d,(0,w.extend)({},t=void 0===t?{event:{}}:t))},S.prototype.triggerMouseWheel=function(t){return this.trigger(v,(0,w.extend)({},t=void 0===t?{event:{}}:t))},S.prototype.forceUpdate=function(){this.setTextAndFormat(),this.refreshElementValue()},S.prototype.forceUpdateWithSelection=function(){var t=this.selection,e=t.start,t=t.end,i=this.elementValue.length,i=(this.forceUpdate(),this.elementValue.length-i);this.setSelection({start:e+i,end:t+i})},S.prototype.setTextAndFormat=function(){var t=this.dateObject.getTextAndFormat(),e=t.text;this.currentFormat=t.format,this.currentText=e},S.prototype.setElementValue=function(t){this.element.value=t},S.prototype.getStepFromSymbol=function(t){switch(t){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}},S.prototype.restorePreviousInputEventState=function(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()},S.prototype.restorePreviousElementValue=function(){this.setElementValue(this.previousElementValue||"")},S.prototype.restorePreviousElementSelection=function(){var t=this.previousElementSelection,e=t.start;this.setSelection({start:e||0,end:t.end||0})},S.prototype.writeValue=function(t){this.verifyValue(t),this.dateObject=this.getDateObject(t),this.refreshElementValue()},S.prototype.verifyValue=function(t){if(t&&!(0,w.isValidDate)(t))throw new Error("The 'value' should be a valid JavaScript Date instance.")},S.prototype.refreshElementValue=function(){var t=this.element,e=this.isActive?this.inputFormat:this.displayFormat,e=this.dateObject.getTextAndFormat(e),i=e.text,e=(this.currentFormat=e.format,this.currentText=i,this.options.hasPlaceholder||(0,w.isPresent)(this.options.placeholder)),n=!this.isActive&&e&&!this.dateObject.hasValue(),e=(e&&(0,w.isPresent)(this.options.placeholder)&&(t.placeholder=this.options.placeholder),n?"":i);this.previousElementValue=this.elementValue,this.setElementValue(e)},S.prototype.caret=function(t,e){void 0===e&&(e=t);var i=void 0!==t,n=[t,t],s=this.element;if(!i||!this.options.disabled&&!this.options.readonly){try{void 0!==s.selectionStart&&(i&&((0,w.isDocumentAvailable)()&&document.activeElement!==s&&s.focus(),s.setSelectionRange(t,e)),n=[s.selectionStart,s.selectionEnd])}catch(t){n=[]}return n}},S.prototype.selectNearestSegment=function(t){for(var e=t,i=t-1;e<this.currentFormat.length||0<=i;e++,i--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(0<=i&&"_"!==this.currentFormat[i])return void this.selectDateSegment(this.currentFormat[i])}},S.prototype.selectDateSegment=function(t){for(var e=-1,i=0,n=0;n<this.currentFormat.length;n++)this.currentFormat[n]===t&&(i=n+1,-1===e)&&(e=n);e<0&&(e=0),this.caret(0,0),this.caret(e,i)},S.prototype.getDateObject=function(t){var e=(this.dateObject||{}).leadingZero,t=(this.options.value=t,this.createDateObject());return t.setLeadingZero(this.isActive?e:null),t},S.prototype.createDateObject=function(){var t=this.getDateObjectOptions();return new a.DateObject((0,w.extend)({},t))},S.prototype.getDateObjectOptions=function(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder||"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value,toggleDayPeriod:this.options.toggleDayPeriod,autoSwitchParts:this.options.autoSwitchParts}},S.prototype.keyEventMatchesAutoSwitchKeys=function(t){var e=(this.options.autoSwitchKeys||[]).map(function(t){return t.toString().toLowerCase().trim()});return 0<=e.indexOf(t.keyCode.toString())||0<=e.indexOf(t.keyCode)||0<=e.indexOf(t.key.toLowerCase().trim())},S.prototype.autoFill=function(){var t,e,i,n,s,a=this.dateObject,r=new Date;(a.date||a.month||a.year||a.hours||a.minutes||a.seconds)&&(i=(a.year?a.value:r).getFullYear(),e=(a.month?a.value:r).getMonth(),t=(a.date?a.value:r).getDate(),n=(a.hours?a.value:r).getHours(),s=(a.minutes?a.value:r).getMinutes(),r=(a.seconds?a.value:r).getSeconds(),a.setValue(new Date(i,e,t,n,s,r)),this.refreshElementValue(),this.triggerValueChange())},S);function S(t,e){var i=n.call(this,e)||this;return i.dateObject=null,i.currentText="",i.currentFormat="",i.interactionMode=C.DateInputInteractionMode.None,i.previousElementSelection={start:0,end:0},i.init(t,e),i}e.DateInput=i},655:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DateInputInteractionMode=void 0,e.DateInputInteractionMode={None:"none",Caret:"caret",Selection:"selection"}},506:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isInRange=e.dateSymbolMap=e.approximateStringMatching=e.unpadZero=e.padZero=void 0;var p=i(761),m=i(503);e.padZero=function(t){return new Array(Math.max(t,0)).fill("0").join("")},e.unpadZero=function(t){return t.replace(/^0*/,"")},e.approximateStringMatching=function(t){var e=t.oldText,i=t.newText,n=t.formatPattern,s=t.selectionStart,a=t.isInCaretMode,t=t.keyEvent,r=s+e.length-i.length,o=e[r],l=e.substring(0,r),e=i.substring(0,s),h=[];if(l===e&&0<s)return h.push([n[s-1],e[s-1]]),h;if(0===l.indexOf(e)&&a&&(t.key===m.Key.DELETE||t.key===m.Key.BACKSPACE)||0===l.indexOf(e)&&!a&&(0===e.length||n[e.length-1]!==n[e.length])){var u="";a||1!==e.length||h.push([n[0],e[0]]);for(var c=e.length;c<l.length;c++)n[c]!==u&&n[c]!==p.Constants.formatSeparator&&(u=n[c],h.push([u,""]));return h}if((!a||0!==e.indexOf(l)&&n[s-1]!==p.Constants.formatSeparator)&&(a||0!==e.indexOf(l)&&n[s-1]!==p.Constants.formatSeparator))return" "===e[e.length-1]||e[e.length-1]===o&&"_"===n[r]?[[n[s-1],p.Constants.formatSeparator]]:[[n[s-1],e[s-1]]];for(var d=n[0],c=Math.max(0,l.length-1);c<n.length;c++)if(n[c]!==p.Constants.formatSeparator){d=n[c];break}return[[d,e[s-1]]]},e.dateSymbolMap=function(t,e){return t[e.pattern[0]]=e.type,t},e.isInRange=function(t,e,i){return null===t||!(e&&t<e||i&&i<t)}},618:t=>{t.exports=o},109:t=>{t.exports=l}},s={},t=a={},Object.defineProperty(t,"__esModule",{value:!0}),t.DateInput=void 0,e=i(415),Object.defineProperty(t,"DateInput",{enumerable:!0,get:function(){return e.DateInput}}),a))}}});