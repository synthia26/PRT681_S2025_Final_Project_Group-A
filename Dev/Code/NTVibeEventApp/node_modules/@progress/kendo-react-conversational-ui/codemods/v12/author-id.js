/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use strict";const i=require("./utils.js");function l(f,p){const e=p.jscodeshift,s=e(f.source),m=i.findImportedName(e,s,"Chat","@progress/kendo-react-conversational-ui")||"Chat",c=new Set;s.find(e.Identifier).forEach(t=>c.add(t.node.name));const b=t=>e.JSXIdentifier.check(t.name)&&t.name.name===m,h=(t,o)=>{const r=e(t).closest(e.Statement);if(r.size()>0){r.insertBefore(o);return}s.get().node.program.body.unshift(o)};return s.find(e.JSXOpeningElement).forEach(t=>{const o=t.node;if(!b(o))return;const r=o.attributes||[],a=i.findAttribute(r,"user");if(!a)return;if(i.doesAttributeExist(r,"authorId")){i.removeAttribute(r,"user");return}if(a.type!=="JSXAttribute"||!a.value||a.value.type!=="JSXExpressionContainer")return;const n=a.value.expression,d=u=>{r.push(e.jsxAttribute(e.jsxIdentifier("authorId"),e.jsxExpressionContainer(e.memberExpression(u,e.identifier("id")))))};if(n.type==="ObjectExpression"){const u=i.generateUniqueName("kendoUserDataObject",c);c.add(u);const x=e.variableDeclaration("const",[e.variableDeclarator(e.identifier(u),n)]);h(t,x),d(e.identifier(u)),i.removeAttribute(r,"user");return}(n.type==="Identifier"||n.type==="MemberExpression"||n.type==="CallExpression"||n.type==="ThisExpression")&&(d(n),i.removeAttribute(r,"user"))}),s.toSource()}module.exports=l;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aG9yLWlkLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb252ZXJzYXRpb25hbC11aS9jb2RlbW9kcy92MTIvYXV0aG9yLWlkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQVBJLCBGaWxlSW5mbywgSlNDb2Rlc2hpZnQgfSBmcm9tICdqc2NvZGVzaGlmdCc7XG5pbXBvcnQgeyBmaW5kSW1wb3J0ZWROYW1lLCBnZW5lcmF0ZVVuaXF1ZU5hbWUsIGZpbmRBdHRyaWJ1dGUsIGRvZXNBdHRyaWJ1dGVFeGlzdCwgcmVtb3ZlQXR0cmlidXRlIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKGZpbGU6IEZpbGVJbmZvLCBhcGk6IEFQSSkge1xuICBjb25zdCBqOiBKU0NvZGVzaGlmdCA9IGFwaS5qc2NvZGVzaGlmdDtcbiAgY29uc3Qgcm9vdCA9IGooZmlsZS5zb3VyY2UpO1xuXG4gIGNvbnN0IGNoYXROYW1lID1cbiAgICBmaW5kSW1wb3J0ZWROYW1lKGosIHJvb3QsICdDaGF0JywgJ0Bwcm9ncmVzcy9rZW5kby1yZWFjdC1jb252ZXJzYXRpb25hbC11aScpIHx8ICdDaGF0JztcblxuICAvLyBCdWlsZCBhIHNldCBvZiB1c2VkIGlkZW50aWZpZXJzIGZvciB1bmlxdWVuZXNzXG4gIGNvbnN0IHVzZWQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgcm9vdC5maW5kKGouSWRlbnRpZmllcikuZm9yRWFjaChwID0+IHVzZWQuYWRkKHAubm9kZS5uYW1lKSk7XG5cbiAgY29uc3QgaXNDaGF0T3BlbmluZyA9IChub2RlOiBhbnkpID0+XG4gICAgai5KU1hJZGVudGlmaWVyLmNoZWNrKG5vZGUubmFtZSkgJiYgbm9kZS5uYW1lLm5hbWUgPT09IGNoYXROYW1lO1xuXG4gIGNvbnN0IGluc2VydFZhckJlZm9yZSA9IChhbmNob3I6IGFueSwgZGVjbDogYW55KSA9PiB7XG4gICAgY29uc3Qgc3RtdFBhdGggPSBqKGFuY2hvcikuY2xvc2VzdChqLlN0YXRlbWVudCk7XG4gICAgaWYgKHN0bXRQYXRoLnNpemUoKSA+IDApIHtcbiAgICAgIHN0bXRQYXRoLmluc2VydEJlZm9yZShkZWNsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRmFsbGJhY2s6IHRvcCBvZiBmaWxlXG4gICAgcm9vdC5nZXQoKS5ub2RlLnByb2dyYW0uYm9keS51bnNoaWZ0KGRlY2wpO1xuICB9O1xuXG4gIHJvb3QuZmluZChqLkpTWE9wZW5pbmdFbGVtZW50KS5mb3JFYWNoKHBhdGggPT4ge1xuICAgIGNvbnN0IG5vZGUgPSBwYXRoLm5vZGU7XG4gICAgaWYgKCFpc0NoYXRPcGVuaW5nKG5vZGUpKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgYXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMgfHwgW107XG5cbiAgICBjb25zdCB1c2VyQXR0ciA9IGZpbmRBdHRyaWJ1dGUoYXR0cnMgYXMgYW55W10sICd1c2VyJyk7XG4gICAgaWYgKCF1c2VyQXR0cikgeyByZXR1cm47IH1cblxuICAgIGlmIChkb2VzQXR0cmlidXRlRXhpc3QoYXR0cnMgYXMgYW55W10sICdhdXRob3JJZCcpKSB7XG4gICAgICByZW1vdmVBdHRyaWJ1dGUoYXR0cnMgYXMgYW55W10sICd1c2VyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHVzZXJBdHRyLnR5cGUgIT09ICdKU1hBdHRyaWJ1dGUnKSB7IHJldHVybjsgfVxuICAgIGlmICghdXNlckF0dHIudmFsdWUgfHwgdXNlckF0dHIudmFsdWUudHlwZSAhPT0gJ0pTWEV4cHJlc3Npb25Db250YWluZXInKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgZXhwciA9IHVzZXJBdHRyLnZhbHVlLmV4cHJlc3Npb247XG5cbiAgICBjb25zdCBhZGRBdXRob3JJZEF0dHIgPSAoYmFzZUV4cHJlc3Npb246IGFueSkgPT4ge1xuICAgICAgYXR0cnMucHVzaChcbiAgICAgICAgai5qc3hBdHRyaWJ1dGUoXG4gICAgICAgICAgai5qc3hJZGVudGlmaWVyKCdhdXRob3JJZCcpLFxuICAgICAgICAgIGouanN4RXhwcmVzc2lvbkNvbnRhaW5lcihqLm1lbWJlckV4cHJlc3Npb24oYmFzZUV4cHJlc3Npb24sIGouaWRlbnRpZmllcignaWQnKSkpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGlmIChleHByLnR5cGUgPT09ICdPYmplY3RFeHByZXNzaW9uJykge1xuICAgICAgLy8gTGlmdCBpbmxpbmUgb2JqZWN0IHRvIGNvbnN0IGJlZm9yZSB0aGUgZWxlbWVudCdzIHN0YXRlbWVudFxuICAgICAgY29uc3QgdW5pcXVlVmFyID0gZ2VuZXJhdGVVbmlxdWVOYW1lKCdrZW5kb1VzZXJEYXRhT2JqZWN0JywgdXNlZCk7XG4gICAgICB1c2VkLmFkZCh1bmlxdWVWYXIpO1xuXG4gICAgICBjb25zdCB2YXJEZWNsID0gai52YXJpYWJsZURlY2xhcmF0aW9uKCdjb25zdCcsIFtcbiAgICAgICAgai52YXJpYWJsZURlY2xhcmF0b3Ioai5pZGVudGlmaWVyKHVuaXF1ZVZhciksIGV4cHIpXG4gICAgICBdKTtcblxuICAgICAgaW5zZXJ0VmFyQmVmb3JlKHBhdGgsIHZhckRlY2wpO1xuXG4gICAgICBhZGRBdXRob3JJZEF0dHIoai5pZGVudGlmaWVyKHVuaXF1ZVZhcikpO1xuICAgICAgcmVtb3ZlQXR0cmlidXRlKGF0dHJzIGFzIGFueVtdLCAndXNlcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGV4cHIudHlwZSA9PT0gJ0lkZW50aWZpZXInIHx8XG4gICAgICBleHByLnR5cGUgPT09ICdNZW1iZXJFeHByZXNzaW9uJyB8fFxuICAgICAgZXhwci50eXBlID09PSAnQ2FsbEV4cHJlc3Npb24nIHx8XG4gICAgICBleHByLnR5cGUgPT09ICdUaGlzRXhwcmVzc2lvbidcbiAgICApIHtcbiAgICAgIGFkZEF1dGhvcklkQXR0cihleHByKTtcbiAgICAgIHJlbW92ZUF0dHJpYnV0ZShhdHRycyBhcyBhbnlbXSwgJ3VzZXInKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByb290LnRvU291cmNlKCk7XG59XG4iXSwibmFtZXMiOlsidHJhbnNmb3JtZXIiLCJmaWxlIiwiYXBpIiwiaiIsInJvb3QiLCJjaGF0TmFtZSIsImZpbmRJbXBvcnRlZE5hbWUiLCJ1c2VkIiwicCIsImlzQ2hhdE9wZW5pbmciLCJub2RlIiwiaW5zZXJ0VmFyQmVmb3JlIiwiYW5jaG9yIiwiZGVjbCIsInN0bXRQYXRoIiwicGF0aCIsImF0dHJzIiwidXNlckF0dHIiLCJmaW5kQXR0cmlidXRlIiwiZG9lc0F0dHJpYnV0ZUV4aXN0IiwicmVtb3ZlQXR0cmlidXRlIiwiZXhwciIsImFkZEF1dGhvcklkQXR0ciIsImJhc2VFeHByZXNzaW9uIiwidW5pcXVlVmFyIiwiZ2VuZXJhdGVVbmlxdWVOYW1lIiwidmFyRGVjbCJdLCJtYXBwaW5ncyI6IjJDQUd3QixTQUFBQSxFQUFZQyxFQUFnQkMsRUFBVSxDQUM1RCxNQUFNQyxFQUFpQkQsRUFBSSxZQUNyQkUsRUFBT0QsRUFBRUYsRUFBSyxNQUFNLEVBRXBCSSxFQUNKQyxFQUFBQSxpQkFBaUJILEVBQUdDLEVBQU0sT0FBUSx5Q0FBeUMsR0FBSyxPQUc1RUcsTUFBVyxJQUNaSCxFQUFBLEtBQUtELEVBQUUsVUFBVSxFQUFFLFFBQWFLLEdBQUFELEVBQUssSUFBSUMsRUFBRSxLQUFLLElBQUksQ0FBQyxFQUVwRCxNQUFBQyxFQUFpQkMsR0FDckJQLEVBQUUsY0FBYyxNQUFNTyxFQUFLLElBQUksR0FBS0EsRUFBSyxLQUFLLE9BQVNMLEVBRW5ETSxFQUFrQixDQUFDQyxFQUFhQyxJQUFjLENBQ2xELE1BQU1DLEVBQVdYLEVBQUVTLENBQU0sRUFBRSxRQUFRVCxFQUFFLFNBQVMsRUFDMUMsR0FBQVcsRUFBUyxLQUFLLEVBQUksRUFBRyxDQUN2QkEsRUFBUyxhQUFhRCxDQUFJLEVBQzFCLE1BQ0YsQ0FFQVQsRUFBSyxNQUFNLEtBQUssUUFBUSxLQUFLLFFBQVFTLENBQUksQ0FBQSxFQUczQyxPQUFBVCxFQUFLLEtBQUtELEVBQUUsaUJBQWlCLEVBQUUsUUFBZ0JZLEdBQUEsQ0FDN0MsTUFBTUwsRUFBT0ssRUFBSyxLQUNkLEdBQUEsQ0FBQ04sRUFBY0MsQ0FBSSxFQUFLLE9BRXRCLE1BQUFNLEVBQVFOLEVBQUssWUFBYyxHQUUzQk8sRUFBV0MsRUFBQUEsY0FBY0YsRUFBZ0IsTUFBTSxFQUNyRCxHQUFJLENBQUNDLEVBQVksT0FFYixHQUFBRSxFQUFBLG1CQUFtQkgsRUFBZ0IsVUFBVSxFQUFHLENBQ2xESSxrQkFBZ0JKLEVBQWdCLE1BQU0sRUFDdEMsTUFDRixDQUdBLEdBRElDLEVBQVMsT0FBUyxnQkFDbEIsQ0FBQ0EsRUFBUyxPQUFTQSxFQUFTLE1BQU0sT0FBUyx5QkFBNEIsT0FFckUsTUFBQUksRUFBT0osRUFBUyxNQUFNLFdBRXRCSyxFQUFtQkMsR0FBd0IsQ0FDekNQLEVBQUEsS0FDSmIsRUFBRSxhQUNBQSxFQUFFLGNBQWMsVUFBVSxFQUMxQkEsRUFBRSx1QkFBdUJBLEVBQUUsaUJBQWlCb0IsRUFBZ0JwQixFQUFFLFdBQVcsSUFBSSxDQUFDLENBQUMsQ0FDakYsQ0FBQSxDQUNGLEVBR0UsR0FBQWtCLEVBQUssT0FBUyxtQkFBb0IsQ0FFOUIsTUFBQUcsRUFBWUMsRUFBQUEsbUJBQW1CLHNCQUF1QmxCLENBQUksRUFDaEVBLEVBQUssSUFBSWlCLENBQVMsRUFFWixNQUFBRSxFQUFVdkIsRUFBRSxvQkFBb0IsUUFBUyxDQUM3Q0EsRUFBRSxtQkFBbUJBLEVBQUUsV0FBV3FCLENBQVMsRUFBR0gsQ0FBSSxDQUFBLENBQ25ELEVBRURWLEVBQWdCSSxFQUFNVyxDQUFPLEVBRWJKLEVBQUFuQixFQUFFLFdBQVdxQixDQUFTLENBQUMsRUFDdkNKLGtCQUFnQkosRUFBZ0IsTUFBTSxFQUN0QyxNQUNGLEVBR0VLLEVBQUssT0FBUyxjQUNkQSxFQUFLLE9BQVMsb0JBQ2RBLEVBQUssT0FBUyxrQkFDZEEsRUFBSyxPQUFTLG9CQUVkQyxFQUFnQkQsQ0FBSSxFQUNwQkQsa0JBQWdCSixFQUFnQixNQUFNLEVBQ3hDLENBQ0QsRUFFTVosRUFBSyxVQUNkIn0=
