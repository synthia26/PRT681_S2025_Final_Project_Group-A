/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use strict";const C=require("react"),f=require("@progress/kendo-react-common"),g=require("@progress/kendo-react-buttons"),l=require("@progress/kendo-svg-icons"),b=require("@progress/kendo-react-intl"),o=require("../../../messages/index.js");function F(r){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const n in r)if(n!=="default"){const c=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(i,n,c.get?c:{enumerable:!0,get:()=>r[n]})}}return i.default=r,Object.freeze(i)}const a=F(C),M=r=>{const{files:i,onFileRemove:n,onFileAction:c,onDownload:m,fileActions:k,renderInTextarea:I=!1}=r,u=b.useLocalization(),h=[{id:"download",label:"Download",svgIcon:l.downloadIcon}],d=k||h,x=e=>{if(e==null)return"";if(e===0)return"0 B";const s=1024,t=["B","KB","MB","GB","TB"],p=Math.floor(Math.log(e)/Math.log(s));return`${parseFloat((e/Math.pow(s,p)).toFixed(2))} ${t[p]}`},B=e=>"."+e.split(".").pop()||"",E=(e,s)=>{e.item.id==="download"&&(m==null||m([s])),c==null||c(e.item,e,s)},v=e=>I?a.createElement(g.Button,{fillMode:"flat",themeColor:"base",svgIcon:l.xIcon,onClick:t=>{t.stopPropagation(),n==null||n(e.name)},"aria-label":`${u.toLanguageString(o.removeFile,o.messages[o.removeFile])} ${e.name}`}):"uid"in e||!("rawFile"in e)?d.length>0&&a.createElement(g.DropDownButton,{fillMode:"flat",themeColor:"base",svgIcon:l.moreVerticalIcon,onClick:t=>{t.syntheticEvent.stopPropagation()},onItemClick:t=>E(t,e),items:d.map(t=>({id:t.id,icon:t.icon,text:t.label,svgIcon:t.svgIcon})),"aria-label":`${u.toLanguageString(o.fileActions,o.messages[o.fileActions])} ${e.name}`}):a.createElement(g.Button,{fillMode:"flat",themeColor:"base",svgIcon:l.xIcon,onClick:t=>{t.stopPropagation(),n==null||n(e.name)},"aria-label":`${u.toLanguageString(o.removeFile,o.messages[o.removeFile])} ${e.name}`});return a.createElement("ul",{className:"k-chat-file-wrapper"},i.map(e=>a.createElement("li",{key:e.name,className:"k-chat-file"},a.createElement(f.IconWrap,{size:"xxlarge",...f.getFileExtensionIcon(B(e.name))}),a.createElement("div",{className:"k-chat-file-info"},a.createElement("span",{className:"k-chat-file-name"},e.name),a.createElement("span",{className:"k-chat-file-size"},x(e.size))),v(e))))};module.exports=M;
