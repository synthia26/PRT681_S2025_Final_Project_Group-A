/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-data-query"),require("@progress/kendo-react-data-tools"),require("@progress/kendo-react-common"),require("@progress/kendo-react-intl"),require("@progress/kendo-svg-icons"),require("@progress/kendo-react-inputs"),require("@progress/kendo-react-dateinputs"),require("@progress/kendo-react-popup"),require("@progress/kendo-react-layout"),require("@progress/kendo-react-buttons"),require("react-dom"),require("@progress/kendo-react-dropdowns"),require("@progress/kendo-react-indicators"),require("@progress/kendo-react-labels"),require("@progress/kendo-react-dialogs"),require("@progress/kendo-react-form"),require("@progress/kendo-react-animation"),require("axios"),require("@progress/kendo-react-conversational-ui")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-data-query","@progress/kendo-react-data-tools","@progress/kendo-react-common","@progress/kendo-react-intl","@progress/kendo-svg-icons","@progress/kendo-react-inputs","@progress/kendo-react-dateinputs","@progress/kendo-react-popup","@progress/kendo-react-layout","@progress/kendo-react-buttons","react-dom","@progress/kendo-react-dropdowns","@progress/kendo-react-indicators","@progress/kendo-react-labels","@progress/kendo-react-dialogs","@progress/kendo-react-form","@progress/kendo-react-animation","axios","@progress/kendo-react-conversational-ui"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactGrid={},e.React,e.PropTypes,e.KendoDataQuery,e.KendoReactDataTools,e.KendoReactCommon,e.KendoReactIntl,e.KendoSvgIcons,e.KendoReactInputs,e.KendoReactDateinputs,e.KendoReactPopup,e.KendoReactLayout,e.KendoReactButtons,e.ReactDOM,e.KendoReactDropdowns,e.KendoReactIndicators,e.KendoReactLabels,e.KendoReactDialogs,e.KendoReactForm,e.KendoReactAnimation,e.axios,e.KendoReactConversationalUi)}(this,(function(e,t,n,l,r,o,a,i,s,c,d,u,m,p,g,f,h,v,C,E,b,k){"use strict";function x(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var y=x(t);const I=e=>null;I.displayName="KendoReactGridColumn";const S={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};I.propTypes={field:n.string,title:n.string,editable:n.bool,sortable:n.oneOfType([n.bool,n.shape({allowUnsort:n.bool.isRequired})]),cell:n.any,filterCell:n.any,filterTitle:n.string,filterable:n.bool,filter:n.oneOf(["text","numeric","boolean","date"]),editor:n.oneOf(["text","numeric","boolean","date"]),width:n.oneOfType([n.string,n.number]),minResizableWidth:n.number,headerCell:n.any,footerCell:n.any,headerSelectionValue:n.bool,format:n.string,headerClassName:n.string,className:n.string,reorderable:n.bool,resizable:n.bool,orderIndex:n.number,groupable:n.bool,columnMenu:n.any,menuIcon:n.any,locked:n.bool,hidden:n.bool,media:n.string};const w=()=>t.createElement(t.Fragment,null),R=w;var N=(e=>(e.head="head",e.body="body",e))(N||{}),P=(e=>(e.create="create",e.edit="edit",e.delete="delete",e.select="select",e.copySelection="copySelection",e.copySelectionNoHeaders="copySelectionNoHeaders",e.paste="paste",e.reorderRow="reorderRow",e.exportPDF="exportPDF",e.exportExcel="exportExcel",e.separator="separator",e.sortAsc="sortAsc",e.sortDesc="sortDesc",e))(P||{});function M(e,t){const n=(null!=e?e:"").split(".");let l=t;return n.forEach((e=>{l=l?l[e]:void 0})),l}function T(e,t,n,o,a,i,s,c,d,u=0,m){var p;let g=u;for(let f=0;f<t.length;f++){let h;if(!a||void 0===t[f].value||void 0===t[f].items){e[e.length]={dataIndex:o.index,dataItem:t[f],rowType:"data",level:u,group:m,expanded:null!=(p=!!d&&!(null==i||!i[l.getter(d)(t[f])]))&&p},o.index++;continue}{let e;e=null!=m&&m.parents?[{field:m.field,value:m.value},...m.parents]:m?[m]:[],h={field:t[f].field,value:t[f].value,parents:e}}g=Math.max(g,u+1);let v=!1;const C=r.findGroupExpand(s||[],h);v=C?!1!==C.expanded:!1!==c,e[e.length]={dataIndex:-1,dataItem:t[f],level:u,group:h,rowType:"groupHeader",expanded:v},v&&(h.expanded=v,g=Math.max(T(e,t[f].items,n,o,a,i,s,c,d,u+1,h),g)),("always"===n||v&&"visible"===n)&&(e[e.length]={dataIndex:-1,dataItem:t[f],rowType:"groupFooter",level:u,expanded:v})}return g}function D(e,t,n,l=0,a=!1){const i=[];if(!e)return[];e&&void 0===e.length&&(e=[e]),e.forEach(((e,s)=>{const c=(e=e.props?e.props:e).id?e.id:r.tableKeyboardNavigationTools.generateNavigatableId(""+n.prevId++,n.idPrefix,"column"),d=!!(o.canUseDOM&&e.media&&window.matchMedia)&&!window.matchMedia(e.media).matches,u=a||d||e.hidden,m=null==t?void 0:t.find((e=>e.id===c)),p=D(e.children,(null==m?void 0:m.children)||[],n,l+1,u);i.push(Object.assign({depth:l},S,p.length?{cell:()=>null,filterCell:()=>null}:{},e,{id:c,declarationIndex:i.length,children:p,headerColSpan:0,rowSpan:0,columnType:e.columnType||"data",colSpan:e.colSpan||1,isAccessible:!0,hidden:u,left:null,right:null,rowSpannable:e.rowSpannable},m?{width:m.width,orderIndex:m.orderIndex}:{}))}));if(i.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===l){const e=[],t=(n,l)=>n.forEach((n=>{n.parentIndex=l,t(n.children,e.push(n)-1)}));return t(i,-1),e}return i}const L=e=>Array.isArray(e)?e:e?e.data:[];const A=e=>void 0!==e.width?Math.floor(parseFloat(e.width.toString()))+"px":void 0,F=(e,t)=>t&&t.filter((t=>t.field===e)).length>0,G=e=>(e.sort(((e,t)=>e.declarationIndex-t.declarationIndex)),e.map((e=>{const{declarationIndex:t,parentIndex:n,depth:l,headerColSpan:r,rowSpan:o,index:a,kFirst:i,children:s,...c}=e;return s.length?{children:G(s),...c}:c}))),B=e=>{const{cells:t,rowSpannable:n,defaultCell:l,...r}=e;return e.children.length?{...r,children:e.children.map(B)}:r},O=e=>({id:e.id,field:e.field,title:e.title,width:e.width,hidden:!1,children:e.children?z(e.children):null}),z=e=>e.map(O),H=e=>{const t=[],n=e=>null==e?void 0:e.forEach((e=>{t.push(e),n(e.children)}));return n(e),t},K="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),V=(e,t)=>{if(e||t)return t?e?{...e,...t,select:{...e.select||{},...t.select||{}},hierarchy:{...e.hierarchy||{},...t.hierarchy||{}},group:{...e.group||{},...t.group||{}},edit:{...e.edit||{},...t.edit||{}}}:t:e},q=e=>{var t;return"object"==typeof e?null==(t=e.enabled)||t:null!=e&&e},W=e=>!(!e||e.$$typeof!==Symbol.for("react.client.reference")),_=e=>({id:e.id,ariaColumnIndex:e.ariaColumnIndex,isSelected:e.isSelected,isHighlighted:e.isHighlighted,isInEdit:e.isInEdit,isSorted:e.isSorted,isAlt:e.isAlt,expanded:e.expanded,className:e.className,style:e.style,field:e.field,dataItem:e.dataItem,format:e.format,colSpan:e.colSpan,dataIndex:e.dataIndex,columnIndex:e.columnIndex,columnsCount:e.columnsCount,rowType:e.rowType,level:e.level,editor:e.editor,locked:e.locked,isRtl:e.isRtl,rowDataIndex:e.rowDataIndex,columnPosition:e.columnPosition,group:e.group}),U=e=>{var t,n;const r="object"==typeof e?null==(t=e.enabled)||t:null!=e&&e,o="object"==typeof e&&null!=(n=e.valueGetter)?n:(e,t)=>l.getter(t)(e);return{enabled:r,valueGetter:o}},j=(e,t)=>{const n=(e=>{var t;return y.isValidElement(e)?e:null==(t=y.Children.toArray(e))?void 0:t[0]})(e);return n?y.cloneElement(n,t):null},$=t.createContext([{},()=>{},{}]),X=()=>t.useContext($),Y=e=>{var n,l,r,o,a,i,s,c,d,u,m,p,g,f,h,v,C,E,b,k,x,y,I;const{children:S,onEditChange:w,onFilterChange:R,onSortChange:N,onSearchChange:P,onPageChange:M,onGroupChange:T,onDataStateChange:D,onSelectionChange:L,onDetailExpandChange:A,onGroupExpandChange:F,onHeaderSelectionChange:G,onColumnsStateChange:B}=e,[O,z]=t.useState({edit:null!=(n=e.defaultEdit)?n:e.edit,filter:null!=(l=e.defaultFilter)?l:e.filter,highlight:e.highlight,select:null!=(r=e.defaultSelect)?r:e.select,search:null!=(o=e.defaultSearch)?o:e.search,sort:null!=(a=e.defaultSort)?a:e.sort,take:null!=(i=e.defaultTake)?i:e.take,skip:null!=(s=e.defaultSkip)?s:e.skip,group:null!=(c=e.defaultGroup)?c:e.group,detailExpand:null!=(d=e.defaultDetailExpand)?d:e.detailExpand,groupExpand:null!=(u=e.defaultGroupExpand)?u:e.groupExpand,columnsState:null!=(m=e.defaultColumnsState)?m:e.columnsState}),H={edit:null!=(p=e.edit)?p:O.edit,filter:null!=(g=e.filter)?g:O.filter,highlight:null!=(f=e.highlight)?f:O.highlight,search:null!=(h=e.search)?h:O.search,sort:null!=(v=e.sort)?v:O.sort,take:null!=(C=e.take)?C:O.take,skip:null!=(E=e.skip)?E:O.skip,group:null!=(b=e.group)?b:O.group,select:null!=(k=e.select)?k:O.select,detailExpand:null!=(x=e.detailExpand)?x:O.detailExpand,groupExpand:null!=(y=e.groupExpand)?y:O.groupExpand,columnsState:null!=(I=e.columnsState)?I:O.columnsState};return t.createElement($.Provider,{value:[H,e=>{},{onEditChange:e=>{z((t=>({...t,edit:e.edit}))),null==w||w(e)},onFilterChange:R&&(e=>{z((t=>({...t,filter:e.filter}))),null==R||R(e)}),onSearchChange:e=>{z((t=>({...t,search:e.search}))),null==P||P(e)},onHighlightChange:t=>{z((e=>({...e,highlight:t.highlight}))),e.onHighlightChange&&e.onHighlightChange(t)},onSortChange:N&&(e=>{z((t=>({...t,sort:e.sort}))),null==N||N(e)}),onPageChange:M&&(e=>{z((t=>({...t,...e.page}))),null==M||M(e)}),onGroupChange:T&&(e=>{z((t=>({...t,group:e.group}))),null==T||T(e)}),onDataStateChange:e=>{z((t=>({...t,...e.dataState}))),null==D||D(e)},onSelectionChange:e=>{z((t=>({...t,select:e.select}))),null==L||L(e)},onHeaderSelectionChange:e=>{z((t=>({...t,select:e.select}))),null==G||G(e)},onDetailExpandChange:e=>{z((t=>({...t,detailExpand:e.detailExpand}))),null==A||A(e)},onGroupExpandChange:e=>{z((t=>({...t,groupExpand:e.groupExpand}))),null==F||F(e)},onColumnsStateChange:e=>{z((t=>({...t,columnsState:e.columnsState}))),null==B||B(e)}}]},S)},J=e=>{const t=o.useId(),n=e.id||t,l=o.useUnstyled(),r=a.useLocalization(),i=a.useInternationalization(),[,s]=y.useReducer((e=>!e),!0),c=y.useRef(0),d=y.useRef(0),u=y.useRef(0),m=y.useRef(0),p=y.useRef(0),[g,,f]=X();return j(e.children,{...g,...f,id:n,unstyled:l,localization:r,intl:i,scrollLeftRef:c,widthRef:d,containerHeightRef:u,minRowHeightRef:m,virtualSkipRef:p,forceUpdate:s,isClient:!0})},Q=y.createContext(void 0),Z="grid.noRecords",ee="grid.pagerInfo",te="grid.pagerFirstPage",ne="grid.pagerPreviousPage",le="grid.pagerNextPage",re="grid.pagerLastPage",oe="grid.pagerItemsPerPage",ae="grid.groupPanelEmpty",ie="grid.groupColumn",se="grid.ungroupColumn",ce="grid.columnMenu",de="grid.filterApplyButton",ue="grid.filterClearButton",me="grid.filterClearAllButton",pe="grid.filterResetButton",ge="grid.filterSubmitButton",fe="grid.filterTitle",he="grid.sortAscending",ve="grid.sortDescending",Ce="grid.sortClearButton",Ee="grid.sortApplyButton",be="grid.searchPlaceholder",ke="grid.searchboxPlaceholder",xe="grid.exportPDF",ye="grid.filterCheckAll",Ie="grid.filterChooseOperator",Se="grid.filterSelectAll",we="grid.filterSelectedItems",Re="grid.sortAriaLabel",Ne="grid.editDialogTitle",Pe="grid.editDialogSaveButtonTitle",Me="grid.editDialogCancelButtonTitle",Te="grid.filterAriaLabel",De="grid.groupPanelAriaLabel",Le="grid.groupExpand",Ae="grid.groupCollapse",Fe="grid.groupClearButton",Ge="grid.groupApplyButton",Be="grid.detailExpand",Oe="grid.detailCollapse",ze="grid.selectRow",He="grid.gridAriaLabel",Ke="grid.gridRowReorderAriaLabel",Ve="grid.gridAdaptiveColumnMenuFilterTitle",qe="grid.columnMenuColumnChooserSelectedItems",We="grid.adaptiveColumnMenuChooserTitle",_e="grid.adaptiveColumnMenuChooserSubTitle",Ue="grid.adaptiveColumnMenuCheckboxFilterTitle",je="grid.adaptiveToolbarSortTitle",$e="grid.adaptiveToolbarGroupTitle",Xe="grid.toolbarSort",Ye="grid.toolbarAI",Je="grid.aIResponseData",Qe="grid.generatedWithAI",Ze="grid.toolbarAIApply",et="grid.toolbarGroup",tt="grid.toolbarFilter",nt="grid.toolbarColumnsChooser",lt="grid.toolbarCheckboxFilter",rt={[Be]:"Expand detail row",[Oe]:"Collapse detail row",[Le]:"Expand group",[Ae]:"Collapse Group",[Fe]:"Clear grouping",[Ge]:"Done",[Z]:"No records available",[ae]:"Drag a column header and drop it here to group by that column",[de]:"Apply",[ue]:"Clear",[me]:"Clear all filters",[pe]:"Reset",[ge]:"Filter",[fe]:"Filter",[he]:"Sort Ascending",[ve]:"Sort Descending",[Ce]:"Clear sorting",[Ee]:"Done",[Re]:"Sortable",[je]:"Sort by",[$e]:"Group by",[Xe]:"Sort",[Ye]:"AI Assistant",[Ze]:"Apply",[Je]:"Operation is successful. Data is: \n",[Qe]:"Generated with AI",[et]:"Group",[tt]:"Filter",[nt]:"Columns",[lt]:"Filter",[ie]:"Group Column",[se]:"Ungroup Column",[ce]:"Column menu",[oe]:"items per page",[ee]:"{0} - {1} of {2} items",[te]:"Go to the first page",[ne]:"Go to the previous page",[le]:"Go to the next page",[re]:"Go to the last page","grid.pagerPage":"Page","grid.pagerPageSizeAriaLabel":"Page size","grid.pagerOf":"of","grid.pagerTotalPages":"{0}",[be]:"Search",[ke]:"Search...",[xe]:"Export PDF",[ye]:"Check All",[Ne]:"Edit Dialog",[Pe]:"Save",[Me]:"Cancel",[Ie]:"Choose Operator",[we]:"selected items",[Se]:"Select All",[Te]:"Filter",[De]:"Group panel",[He]:"Table",[Ke]:"Drag row",[ze]:"Select Row","grid.columnMenuColumnChooserTitle":"Columns Chooser",[Ve]:"Filter by",[We]:"Columns Chooser",[_e]:"Selected fields are visible",[Ue]:"Filter by",[qe]:"Selected items","grid.columnChooserApplyButton":"Apply","grid.columnChooserResetButton":"Reset","grid.filterEqOperator":"Is equal to","grid.filterNotEqOperator":"Is not equal to","grid.filterIsNullOperator":"Is null","grid.filterIsNotNullOperator":"Is not null","grid.filterIsEmptyOperator":"Is empty","grid.filterIsNotEmptyOperator":"Is not empty","grid.filterStartsWithOperator":"Starts with","grid.filterContainsOperator":"Contains","grid.filterNotContainsOperator":"Does not contain","grid.filterEndsWithOperator":"Ends with","grid.filterGteOperator":"Is greater than or equal to","grid.filterGtOperator":"Is greater than","grid.filterLteOperator":"Is less than or equal to","grid.filterLtOperator":"Is less than","grid.filterIsTrue":"Is true","grid.filterIsFalse":"Is false","grid.filterBooleanAll":"(All)","grid.filterAfterOrEqualOperator":"Is after or equal to","grid.filterAfterOperator":"Is after","grid.filterBeforeOperator":"Is before","grid.filterBeforeOrEqualOperator":"Is before or equal to","grid.filterAndLogic":"And","grid.filterOrLogic":"Or"},ot=e=>{const t=y.useContext(Q),n=a.useLocalization(),l=e.expanded,s=l?Oe:Be,c=n.toLanguageString(s,rt[s]);return y.createElement("a",{onClick:n=>{n.preventDefault(),null!=t&&t.itemChange&&t.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:n,field:e.field,value:!l,_expand:!0}),void 0!==e.dataItem[t.dataItemKey]&&(null==t||t.dispatchDetailExpand({type:r.DETAIL_EXPAND_ACTION.TOGGLE,id:e.dataItem[t.dataItemKey]}))},"aria-label":c,href:"#",tabIndex:-1},y.createElement(o.IconWrap,{name:l?"minus":"plus",icon:l?i.minusIcon:i.plusIcon}))},at=e=>{let t=null,n=null;const l=_(e);return"groupFooter"===e.rowType?t={className:"k-table-td k-hierarchy-cell",role:"gridcell"}:"groupHeader"!==e.rowType&&(t={className:"k-table-td k-hierarchy-cell",role:"gridcell","aria-expanded":!!e.expanded,"aria-colindex":e.ariaColumnIndex},n=y.createElement(ot,{...l})),{tdProps:t,content:n}},it=e=>{var t,n;return null==(n=null==(t=e.cells)?void 0:t.hierarchy)?void 0:n[e.rowType||"data"]},st=e=>{const t=y.useContext(Q),n=r.useTableKeyboardNavigation(e.id),l=y.useCallback((n=>{n.isDefaultPrevented()||n.keyCode===o.Keys.enter&&null!=t&&t.dispatchDetailExpand&&(n.preventDefault(),t.dispatchDetailExpand({type:r.DETAIL_EXPAND_ACTION.TOGGLE,id:o.getter(t.dataItemKey)(e.dataItem)}))}),[e.dataItem,t]);return{...n,..."groupHeader"!==e.rowType&&"groupFooter"!==e.rowType?{onKeyDown:l}:{}}},ct=e=>{const t=y.useContext(Q);return{onContextMenu:t.onContextMenu,onChange:t.itemChange,selectionChange:n=>{t.selectionChange({event:n,dataItem:e.dataItem,dataIndex:e.rowDataIndex,columnIndex:e.columnIndex})}}},dt=(e,t)=>{const n=y.useContext(Q);return y.useCallback((l=>{null!=n&&n.onContextMenu&&n.onContextMenu.call(void 0,l,e,t)}),[n,e,t])},ut=e=>{const t=y.useContext(Q).getCellPositionStyle(e.columnPosition)||{};return{...e.style,...t}},mt=e=>{const{cellProps:t}=e,{tdProps:n,content:l}=at(t),r=st(t),o=ct(t),a=it(t);return a?y.createElement(a,{...t,...o,tdProps:{...n,...r}},l):"groupHeader"!==t.rowType?y.createElement("td",{...n,...r},l):null},pt=e=>{const{cellProps:t}=e,n=y.useContext(Q),l=o.useId(),a=o.getNestedValue(t.field,t.dataItem);let i=null;const d=y.useCallback((e=>{null!=n&&n.itemChange&&n.itemChange({dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,syntheticEvent:e.syntheticEvent,value:e.value})}),[n,t.dataItem,t.dataIndex,t.field]);switch(t.editor){case"numeric":i=y.createElement(s.NumericTextBox,{className:e.className,value:void 0===a?null:a,onChange:d,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0});break;case"date":i=y.createElement(c.DatePicker,{className:e.className,value:a,onChange:d,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0});break;case"boolean":i=y.createElement(s.Checkbox,{className:e.className,checked:a||!1,id:l,onChange:d,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0});break;default:i=y.createElement(s.TextBox,{className:e.className,value:a||"",onChange:d,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0})}return i},gt=r.TABLE_ROW_INDEX_ATTRIBUTE,ft=r.TABLE_COL_INDEX_ATTRIBUTE,ht=r.TABLE_PREVENT_SELECTION_ELEMENT,vt=/^(?!.*\bChrome).*\bSafari/i,Ct=e=>{let t=null;const n=e.unstyled,l=n&&n.uGrid?n.uGrid:o.uGrid,r=o.classNames(l.editTd({selected:e.isSelected}),e.className);return t={colSpan:e.colSpan,style:e.style,className:r,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[ft]:e.columnIndex,role:"gridcell"},{tdProps:t}},Et=e=>{var t,n,l;return(null==(n=null==(t=e.cells)?void 0:t.edit)?void 0:n[e.editor||"text"])||(null==(l=e.cells)?void 0:l.data)},bt=e=>({...r.useTableKeyboardNavigation(e.id),onContextMenu:dt(e.dataItem,e.field),style:ut(e)}),kt=e=>{const{cellProps:t}=e,{tdProps:n}=Ct(t),l=bt(t),r=ct(t),o=y.createElement(pt,{cellProps:t}),a=Et(t);return a?y.createElement(a,{...t,...r,tdProps:{...n,...l}},o):n?y.createElement("td",{...n,...l},o):null},xt=e=>{const t=y.useRef(null),n=y.useRef(null),l=y.useRef(!1),a=y.useContext(Q),i=o.useRtl(a.headerElementRef);a.columnResizeRef.current&&a.columnResizeRef.current.setIsRtl("rtl"===i),y.useImperativeHandle(a.headerRef,(()=>({setScrollLeft:e=>{t.current&&t.current.scrollLeft!==e&&(l.current=!0,t.current.scrollLeft=e)},setWidth:e=>{n.current&&(n.current.style.width=e?e+"px":"")},table:()=>n.current})));const s=o.useUnstyled(),c=s&&s.uGrid?s.uGrid:o.uGrid,{size:d="md"}=e;return e.staticHeaders?y.createElement("div",{ref:a.headerElementRef,className:o.classNames(c.header({draggable:e.draggable}),e.className),role:"presentation"},y.createElement("div",{ref:t,className:o.classNames(c.headerWrap({})),onScroll:e=>{var n;if(l.current)return void(l.current=!1);if(!t.current)return;const r=t.current.scrollLeft,o=(null==(n=a.vsRef.current)?void 0:n.container)||null;o&&o.scrollLeft!==r&&(o.scrollLeft=r)},role:"presentation"},y.createElement("table",{ref:n,className:o.classNames(c.headerTable({size:d}),e.className),role:"presentation"},y.createElement("colgroup",{ref:e=>{a.columnResizeRef.current&&(a.columnResizeRef.current.colGroupHeader=e)}},e.cols),y.createElement("thead",{className:o.classNames(c.tableThead({})),role:"rowgroup",...r.tableKeyboardNavigationHeaderAttributes},e.headerRow,e.filterRow)))):y.createElement("thead",{role:"presentation",className:o.classNames(c.thead({draggable:e.draggable}),e.className),...r.tableKeyboardNavigationHeaderAttributes},e.headerRow,e.filterRow)};xt.displayName="KendoReactHeader";const yt=t.createContext(void 0),It=e=>{const n=t.useRef(null),l=t.useRef(null),r=t.useRef(null),o=t.useMemo((()=>({actionSheetRef:n,firstViewRef:l,secondViewRef:r})),[]);return t.createElement(yt.Provider,{value:o},e.children)},St=e=>{const n=t.useContext(Q),{actionSheetRef:l,firstViewRef:r,secondViewRef:s}=t.useContext(yt),c=o.useAdaptiveModeContext(),d=a.useLocalization(),p={animation:!0,navigatable:!1,navigatableElements:[],expand:e.computedShow,animationStyles:c&&n.adaptiveColumnMenuRef<=c.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:c&&n.adaptiveColumnMenuRef<=c.small?"fullscreen":void 0};return t.createElement(u.ActionSheet,{...p,ref:l,style:{"--kendo-actionsheet-view-current":1},onClose:()=>{e.closeMenu()}},t.createElement(u.ActionSheetView,{className:"k-actionsheet-view-animated",ref:r,style:{transitionDuration:"500ms",transitionProperty:"transform"}},t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},n.adaptiveTitle||d.toLanguageString(ce,rt[ce]))),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{svgIcon:i.xIcon,onClick:e.closeMenu,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-column-menu k-column-menu-lg"},e.children))),t.createElement(u.ActionSheetView,{className:"k-actionsheet-view-animated",ref:s,style:{transitionDuration:"500ms",transitionProperty:"transform"}}))},wt=[".k-columnmenu-item-content",".k-filter-menu-container"].map((e=>o.TABBABLE_ELEMENTS.map((t=>`${e} ${t}`)))),Rt=[[".k-tabstrip-items"],[".k-columnmenu-item"],...wt],Nt=e=>{var t;const n=y.useContext(Q),[l,r]=y.useState(!1),s=y.useRef(null),c=y.useRef(null),u=y.useRef(null),m=y.useRef(0),g=o.useDocument(s),{columnMenu:f,...h}=e,{column:v,columnMenuIcon:C,navigatable:E}=e,b=a.useLocalization(),k=v.title||v.field,x=k?`${k} `:"",I=()=>{e.onCloseMenu&&e.onCloseMenu(),r(!1),!e.navigatable&&s.current&&s.current.focus()},S=y.useMemo((()=>void 0!==e.show?e.show:l),[e.show,l]),w=(e,t,n)=>{n.preventDefault(),n.shiftKey?t.focusPrevious(e):t.focusNext(e)},R=(e,t,n)=>{e&&(n.preventDefault(),e.click())},N=(e,t,n)=>{n.preventDefault(),I()},P=(e,t,n)=>{t.focusElement(e)},M=y.useCallback(((e,t)=>{const n=[];if(!t||"object"!=typeof t)return!1;if(Array.isArray(t.filters))for(const n of t.filters)if(M(e,n))return!0;return"field"in t&&"string"==typeof t.field&&n.push(t.field),n.includes(e)}),[]),T=y.useCallback(((e,t)=>!(!t||!Array.isArray(t))&&t.some((t=>t.field===e))),[]),D=y.useMemo((()=>v.field&&(M(v.field,n.filter)||T(v.field,n.group))),[v.field,n.filter,n.group,M,T]);return y.useEffect((()=>(S&&c.current&&(u.current=new o.Navigation({tabIndex:0,root:c,selectors:Rt,keyboardEvents:{keydown:{Tab:w,Enter:R,Escape:N}},mouseEvents:{mousedown:P}}),u.current.focusElement(u.current.first,null)),()=>{u.current&&(u.current=null)})),[S]),y.createElement(y.Fragment,null,y.createElement("a",{className:o.classNames("k-grid-header-menu k-grid-column-menu",{"k-active":D}),ref:s,onClick:t=>{t.preventDefault(),l&&e.onCloseMenu&&e.onCloseMenu(),r(!l)},onKeyDown:e=>{var t;if(e.keyCode===o.Keys.tab){const n=e.target,l=n&&(null==(t=n.closest(".k-grid"))?void 0:t.getElementsByClassName("k-grid-content")[0]);l&&l.scrollWidth>l.clientWidth&&n.scrollIntoView({inline:"center"})}},href:"#",tabIndex:E?-1:void 0,"aria-label":`${E?"":x}${b.toLanguageString(ce,rt[ce])}`},C?y.createElement(o.IconWrap,{name:C.name,icon:C}):y.createElement(o.IconWrap,{name:"more-vertical",icon:i.moreVerticalIcon})),y.createElement(It,null,n.mobileMode?y.createElement(y.Fragment,null,p.createPortal(y.createElement(St,{computedShow:S,ColumnMenu:f,closeMenu:I},f&&y.createElement(f,{...h,onCloseMenu:I})),null==(t=g())?void 0:t.body)):y.createElement(d.Popup,{anchor:s.current,show:S,popupClass:"k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&r(!1)}},y.createElement("div",{ref:c,onBlur:e=>{const t=o.getActiveElement(document);clearTimeout(m.current),m.current=window.setTimeout((()=>{!n.mobileMode&&t&&e.relatedTarget!==s.current&&c.current&&!c.current.contains(t)&&I()}))},onFocus:()=>{clearTimeout(m.current)},onMouseDown:e=>{var t;null==(t=u.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=u.current)||t.triggerKeyboardEvent(e)},className:"k-column-menu k-column-menu-md"},f&&y.createElement(f,{...h,onCloseMenu:I})))))},Pt=e=>{const t=o.useUnstyled(),n=t&&t.uGrid?t.uGrid:o.uGrid,l=e.onClick?{onClick:e.onClick}:{};return y.createElement("span",{className:o.classNames(n.headerCellInner({}))},y.createElement("span",{className:o.classNames(n.headerCellLink({sortable:e.columnMenuWrapperProps.sortable})),...l},y.createElement("span",{className:o.classNames(n.columnTitle({}))},e.title||e.field||" "),e.children),e.columnMenuWrapperProps.columnMenu&&y.createElement(Nt,{...e.columnMenuWrapperProps}))},Mt=y.createContext(void 0),Tt=e=>{const t=y.useContext(Q),n=y.useRef(null),[l,r]=y.useState(),a=(n,l)=>{e.sortable&&l.sortable&&(n.preventDefault(),t.sortChange&&t.headerCellClick(n,l))};return y.createElement(Mt.Provider,{value:{cellClick:a,cellKeyDown:(l,i)=>{if(l.isDefaultPrevented())return;const{keyCode:s,metaKey:c,ctrlKey:d,altKey:u}=l,m=e.sortable&&i.sortable,p=l.target;if(m&&l.keyCode===o.Keys.enter&&-1!==p.className.indexOf("k-table-th")&&a(l,i),e.navigatable){if(e.groupable&&(c&&s===o.Keys.enter||d&&s===o.Keys.space)){l.preventDefault();const n=e.columns.findIndex((e=>e.field===i.field));t.columnGroupChange&&t.columnGroupChange(n,l)}u&&s===o.Keys.down&&(l.preventDefault(),r(i.field),n.current=p)}},handleCloseMenu:()=>{r(void 0),n.current&&"-1"!==n.current.getAttribute("tabindex")&&n.current.focus()},showColumnMenuField:l}},e.children)},Dt=e=>{const t=y.useContext(Q),n=y.useContext(Mt),l=t.isClient||e.isClient,r={style:{...t.getCellPositionStyle(e.column)}},o={onKeyDown:t=>{n.cellKeyDown(t,e.column)},onContextMenu:n=>{t.onContextMenu(n,void 0,e.column.field)}};let a={onClick:t=>{n.cellClick(t,e.column)}};return l&&(a={...a,selectionChange:t.onHeaderSelectionChange,columnMenuWrapperProps:{...e.columnMenuWrapperProps,onSortChange:t.sortChange,onFilterChange:t.filterChange,onGroupChange:t.groupChange,onColumnsStateChange:t.onColumnsStateChange,show:n.showColumnMenuField===e.column.field||void 0,onCloseMenu:n.handleCloseMenu,columnsState:t.columnsState}}),e.isCustom&&(a=l?{...a,thProps:{...e.thProps,...o,...r}}:{...a,...o,...r}),j(e.children,{...a})},Lt=e=>{const t=y.useRef(null),n=o.useUnstyled(),l=n&&n.uGrid?n.uGrid:o.uGrid;return y.createElement(o.Draggable,{onPress:n=>{const l=t.current&&t.current.element;l&&e.pressHandler&&e.pressHandler(n.event,l)},onDrag:n=>{const l=t.current&&t.current.element;l&&e.dragHandler&&e.dragHandler(n.event,l)},onRelease:n=>{t.current&&t.current.element&&e.releaseHandler&&e.releaseHandler(n.event)},hint:e.dragClue,autoScroll:{boundaryElementRef:e.headerRef,direction:{horizontal:!0,vertical:!1}},scrollContainer:e.containerRef||void 0,ref:t},y.createElement("tr",{className:o.classNames(l.simpleTr({})),style:{touchAction:"none"},role:"row","aria-rowindex":e.ariaRowIndex},e.children))},At=e=>{const t=y.useContext(Q);return t.dragLogicRef.current.pressHandler&&y.createElement(Lt,{ariaRowIndex:e.ariaRowIndex,pressHandler:t.dragLogicRef.current.pressHandler,dragHandler:t.dragLogicRef.current.dragHandler,releaseHandler:t.dragLogicRef.current.releaseHandler,dragClue:t.dragLogicRef.current.dragClue,headerRef:t.headerElementRef,containerRef:t.containerElementRef},e.children)||y.createElement("tr",{className:e.className,role:"row","aria-rowindex":e.ariaRowIndex},e.children)},Ft=e=>{const t=y.useContext(Q),n=y.useContext(Mt),l={style:{...t.getCellPositionStyle(e.column)}};return j(e.children,{onKeyDown:t=>{n.cellKeyDown(t,e.column)},onContextMenu:n=>{t.onContextMenu(n,void 0,e.column.field)},...l})},Gt=e=>{const{column:t}=e,n=y.useContext(Q);return n.columnResizeRef.current&&n.columnResizeRef.current.resizable&&t.resizable&&y.createElement(r.ColumnResizer,{key:2,resize:(e,l,r)=>n.columnResizeRef.current&&n.columnResizeRef.current.dragHandler(e,t,l,r),autofit:e=>n.columnResizeRef.current&&n.columnResizeRef.current.dblClickHandler(e,[t.id])})||y.createElement(y.Fragment,null)},Bt={none:"none",asc:"ascending",desc:"descending"},Ot=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:o.uGrid;let l=0,a=-1;const s=t=>{if(!e.sort)return null;const l=o.classNames(n.sortIcon({}));return t>=0&&[y.createElement("span",{key:1,className:l},y.createElement(o.IconWrap,{name:"sort-"+e.sort[t].dir+"-small",icon:"asc"===e.sort[t].dir?i.sortAscSmallIcon:i.sortDescSmallIcon})),e.sort.length>1&&y.createElement("span",{key:2,className:l},y.createElement("span",{className:o.classNames(n.sortOrder({}))},t+1))]},c=e.columns.map(B);return y.createElement(Tt,{sortable:e.sortable,sort:e.sort,navigatable:e.navigatable,groupable:e.groupable,columns:c},e.columnsMap.map(((t,i)=>y.createElement(At,{key:i,className:o.classNames(n.simpleTr({})),ariaRowIndex:i+1},(t=>t.map((t=>{var i;const c=e.columns[t],d=e.sortable&&c.sortable,u=e.sort?e.sort.findIndex((e=>e.field===c.field)):-1,m=u>=0&&e.sort[u].dir||"none",p=null===c.columnMenu?null:c.columnMenu||e.columnMenu,g=c.menuIcon||e.columnMenuIcon,f=o.classNames(o.classNames(n.headerTh({first:c.kFirst,filterable:!!p,locked:c.locked,sorted:e.sort&&e.sort.some((e=>e.field===c.field))})),c.headerClassName);!1===c.locked&&(c.left=0);const h=e.localization.toLanguageString(Re,rt[Re]),v=c.isAccessible?{ariaSort:Bt[m],role:"columnheader",ariaColumnIndex:c.ariaColumnIndex,ariaSelected:!1,ariaDescription:d?h:""}:{role:"presentation"},C=c.declarationIndex>=0?++a:--l,E={field:c.field,title:c.title,selectionValue:null!=(i=c.headerSelectionValue)?i:e.headerSelectionValue,children:s(u),selectionChange:null,columnMenuWrapperProps:{column:{field:c.field,title:c.title,locked:c.locked,filter:c.filter,id:c.id},sortable:d&&e.sortable,sort:e.sort,filter:e.filter,filterable:e.filterable&&c.filterable,filterOperators:e.filterOperators,navigatable:e.navigatable,group:e.group,groupable:e.groupable,columnMenu:p,columnMenuIcon:g}},b={...v,colSpan:c.headerColSpan,rowSpan:c.rowSpan,className:f,columnId:c.id,navigatable:c.navigatable,role:"columnheader"},k=B(c),x={column:k,sortable:e.sortable,sort:e.sort,columnMenuWrapperProps:E.columnMenuWrapperProps},I=c.defaultHeaderCell?c.defaultHeaderCell:Pt,S=[y.createElement(Dt,{key:1,...x,isClient:W(I)},y.createElement(I,{...E})),y.createElement(Gt,{key:2,column:k})],w=V(e.cells,c.cells);if(w&&w.headerCell){const e=w.headerCell,n=W(e);return y.createElement(Dt,{key:C,...x,thProps:b,isCustom:!0,isClient:n},y.createElement(e,{...E,thProps:b,index:t},S))}return y.createElement(Ft,{key:C,column:k},y.createElement(r.HeaderThElement,{...b},S))})))(t)))))},zt=[{text:"grid.filterAndLogic",operator:"and"},{text:"grid.filterOrLogic",operator:"or"}],Ht={text:[{text:"grid.filterContainsOperator",operator:"contains"},{text:"grid.filterNotContainsOperator",operator:"doesnotcontain"},{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterStartsWithOperator",operator:"startswith"},{text:"grid.filterEndsWithOperator",operator:"endswith"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"},{text:"grid.filterIsEmptyOperator",operator:"isempty"},{text:"grid.filterIsNotEmptyOperator",operator:"isnotempty"}],numeric:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterGteOperator",operator:"gte"},{text:"grid.filterGtOperator",operator:"gt"},{text:"grid.filterLteOperator",operator:"lte"},{text:"grid.filterLtOperator",operator:"lt"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],date:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterAfterOrEqualOperator",operator:"gte"},{text:"grid.filterAfterOperator",operator:"gt"},{text:"grid.filterBeforeOperator",operator:"lt"},{text:"grid.filterBeforeOrEqualOperator",operator:"lte"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],boolean:[{text:"grid.filterEqOperator",operator:"eq"}]},Kt=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,Vt=(e,t)=>e.map((e=>({text:t.toLanguageString(e.text,rt[e.text]),operator:e.operator}))),qt=[{text:"grid.filterBooleanAll",operator:""},{text:"grid.filterIsTrue",operator:!0},{text:"grid.filterIsFalse",operator:!1}],Wt={text:!1,numeric:!1,date:!1,boolean:!0},_t=(e,t,n)=>{const l=Ut(n.operators);let r=n.operator;switch(n.filterType){case"numeric":case"date":(!r||Kt(r))&&(r=l),null===e&&r===l&&(r="");break;case"text":(!r||Kt(r))&&(r=l),!e&&r===l&&(r="");break;default:return}n.onChange({value:e,operator:r,syntheticEvent:t})},Ut=(e,t)=>t?e[t][0].operator:e[0].operator,jt=e=>e||"text",$t=(e,t)=>{const n=e.target.value;t({value:n.operator,operator:""===n.operator?"":"eq",syntheticEvent:e.syntheticEvent})},Xt=(e,t,n)=>{let l=t;const r=e.target.value;e.target.state.opened&&(Kt(r.operator)&&(l=null),null===t&&!Kt(r.operator)&&(l=void 0),n({value:l,operator:r.operator,syntheticEvent:e.syntheticEvent}))},Yt=(e,t)=>{const n=t||new a.IntlService("en-US");if(e.value){const t=n.parseDate(e.value);t&&(e.value=t)}e.filters&&(e.filters=e.filters.map((e=>{if(e.value){const t=n.parseDate(e.value);t&&(e.value=t)}return e})))},Jt=(e,t)=>{var n;let l=e;if(l&&0===Object.keys(l).length&&(l=null),null!=l&&l.filters&&Array.isArray(l.filters)){const r=t||{filters:[],logic:"and"},o=r.filters.map((e=>e.field||e.filters[0].field)),a=l.filters.every((e=>e.field===(null==l?void 0:l.filters[0]).field)),i=a?[{filters:l.filters.map((e=>(Yt(e),e))),logic:l.logic}]:l.filters.map((t=>{const n=t.filters?t:{logic:e.logic,filters:[t]};return Yt(n),n})),s=a&&o.includes(i[0].filters[0].field);if(s){const t=r.filters[0];t.filters&&(null==(n=t.filters)||n.push(...i[0].filters),t.logic=e.logic)}l={...r,filters:s?r.filters:[...r.filters,...i]}}return l},Qt=e=>{const t=y.useRef(null),n=a.useLocalization(),l=(t,n)=>{_t(t,n,e)},r=t=>{Xt(t,e.value,e.onChange)},d=t=>{$t(t,e.onChange)};return y.createElement("div",{className:"k-filtercell"},y.createElement("div",{className:"k-filtercell-wrapper"},((n,r,o)=>{switch(n){case"numeric":return y.createElement(s.NumericTextBox,{ref:t,size:e.size,value:r,onChange:e=>{l(e.value,e.syntheticEvent)},title:e.title,ariaLabel:e.ariaLabel});case"date":return y.createElement(c.DatePicker,{ref:t,size:e.size,value:r,onChange:e=>{l(e.value,e.syntheticEvent)},title:e.title,ariaLabel:e.ariaLabel,popupSettings:{onMouseDownOutside:e=>{!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.current.togglePopup()}}});case"boolean":{const n=e=>null==e;return y.createElement(g.DropDownList,{ref:t,size:e.size,onChange:d,value:o.find((e=>e.operator===(n(r)?"":r))),data:o,textField:"text",title:e.title,ariaLabel:e.ariaLabel,popupSettings:{onMouseDownOutside:e=>{!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.current.togglePopup()}}})}default:return y.createElement(s.TextBox,{ref:t,size:e.size,value:r||"",onChange:e=>{l(e.target.value,e.syntheticEvent)},title:e.title,"aria-label":e.ariaLabel})}})(e.filterType,e.value,e.booleanValues),y.createElement("div",{className:"k-filtercell-operator"},(()=>{if("boolean"===e.filterType)return;let t;const l=e.operators.find((t=>t.operator===e.operator))||null;return y.createElement(g.DropDownList,{ref:e=>{t=e},size:e.size,value:l,onChange:r,className:"k-dropdown-operator",svgIcon:i.filterIcon,data:e.operators,textField:"text",title:n.toLanguageString(Ie,rt[Ie]),popupSettings:{width:"",onMouseDownOutside:function(e){!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.togglePopup()}}})})()," ",y.createElement(m.Button,{size:e.size,svgIcon:i.filterClearIcon,className:o.classNames({"k-clear-button-visible":!!(null!==e.value&&""!==e.value||e.operator)}),title:n.toLanguageString(ue,rt[ue]),type:"button",onClick:n=>{n.preventDefault(),e.onChange({value:"",operator:"",syntheticEvent:n}),t.current&&(t.current.element.value="",setTimeout((()=>{t.current.element.focus()}),0))},disabled:!(null!==e.value&&""!==e.value||e.operator)}))))},Zt=e=>{const t=y.useContext(Q),n=t.getCellPositionStyle(e.column),l=e.isCustom?{style:{...n}}:{};return t.isClient||e.isClient?j(e.children,{onChange:n=>{((n,l,r,o)=>{if(!t.filterChange)return;const a=[];(""!==n&&null!==n||""!==l)&&a.push({field:r,operator:l,value:n}),e.filter&&e.filter.filters&&(e.filter.filters||[]).forEach((e=>{e&&e.field!==r&&a.push(e)}));const i=e.filter&&e.filter.logic?e.filter.logic:"and";t.filterChange(a.length>0?{logic:i,filters:a}:null,o)})(n.value,n.operator,e.field,n.syntheticEvent)},tdProps:{...e.tdProps,...l},thProps:{...e.tdProps,...l}}):j(e.children,{})},en=e=>{const t={style:{...y.useContext(Q).getCellPositionStyle(e.column)}};return j(e.children,{...t})},tn=e=>{const t=(t,n)=>{let l=""+(n?"k-grid-header-sticky":"");return e.sort&&e.sort.filter((e=>e.field===t)).length>0&&(l+=" k-sorted"),l},n=e.filter&&e.filter.filters||[];let l=0,a=-1;const i=e.columns.filter((e=>0===e.children.length)).map((i=>{const s=jt(i.filter),c=(e=>{if(void 0===e)return;const t=n.filter((t=>t.field===e));return t.length?t[0]:void 0})(i.field),d=`${i.field} ${e.localization.toLanguageString(Te,rt[Te])}`;let u=c&&c.value;void 0===u&&(u="text"===s?"":null);const m=i.filterable&&{field:i.field,title:i.filterTitle,value:u,operator:c&&c.operator,operators:Vt(e.filterOperators[s]||[],e.localization),booleanValues:Vt(qt,e.localization),filterType:s,ariaLabel:"reorder"===i.columnType?"":d,size:e.size},p=i.declarationIndex>=0?++a:--l,g={columnId:r.tableKeyboardNavigationTools.getFilterColumnId(i.id),navigatable:i.navigatable||e.navigatable,className:o.classNames("k-table-td",t(i.field,i.locked)||void 0),role:"gridcell",ariaLabel:"reorder"===i.columnType?void 0:d,ariaColumnIndex:i.ariaColumnIndex},f=B(i),h={column:f,filter:e.filter,field:i.field,tdProps:g,thProps:g};let v=null;m&&"reorder"!==i.columnType&&(v=y.createElement(Zt,{...h,isClient:W(Qt)},y.createElement(Qt,{...m})));const C=V(e.cells,i.cells);if(C&&C.filterCell){const e=C.filterCell,t=W(e);return y.createElement(Zt,{key:p,...h,isClient:t,isCustom:!0},y.createElement(e,{key:p,...m,tdProps:g,thProps:g,index:a},v))}return y.createElement(en,{key:p,column:f},y.createElement(r.HeaderTdElement,{...g},v))}));return y.createElement("tr",{className:"k-table-row k-filter-row","aria-rowindex":e.ariaRowIndex,role:"row"},i)},nn=e=>{const t=y.useRef(null),{dir:n,title:l}=e;return y.createElement(o.Draggable,{onPress:n=>{const l=t.current&&t.current.element;l&&e.onPress&&e.onPress(n.event,l)},onDrag:n=>{const l=t.current&&t.current.element;l&&e.onDrag&&e.onDrag(n.event,l)},onRelease:n=>{t.current&&t.current.element&&e.onRelease&&e.onRelease(n.event)},ref:t},y.createElement("div",{className:"k-chip k-chip-md k-chip-solid k-chip-solid-base k-rounded-md",onClick:t=>{if(t.preventDefault(),e.onSortChange){const n="asc"===e.dir?"desc":"asc";e.onSortChange(t,n)}},onContextMenu:t=>{const n={title:e.title,dir:e.dir,index:e.index};e.onContextMenu&&e.onContextMenu.call(void 0,t,{dataItem:{...n}})},onKeyDown:t=>{(t.keyCode===o.Keys.delete||t.keyCode===o.Keys.backspace)&&(t.preventDefault(),t.stopPropagation(),e.onRemove&&e.onRemove(t))},tabIndex:0,role:"button",style:{touchAction:"none"}},y.createElement("span",null,y.createElement(o.IconWrap,{name:"sort-"+n+"-small",icon:"asc"===n?i.sortAscSmallIcon:i.sortDescSmallIcon,size:"small"})),y.createElement("span",{className:"k-chip-content"},y.createElement("span",{className:"k-chip-label"},l)),y.createElement("span",{className:"k-chip-actions"},y.createElement("span",{className:"k-chip-action k-chip-remove-action",onClick:t=>{t.preventDefault(),t.stopPropagation(),e.onRemove&&e.onRemove(t)}},y.createElement(o.IconWrap,{name:"x-circle",icon:i.xCircleIcon,size:"small"})))))},ln=e=>{const t=y.useContext(Q),n=a.useLocalization(),l=e.group||[],r=t=>{const n=e.columns.find((e=>e.field===t)),l=n&&(n.title||n.field);return void 0===l?t:l},o=l.map(((n,l)=>y.createElement(nn,{key:l,index:l,dir:n.dir||"asc",title:r(n.field),onRemove:n=>{((n,l)=>{const r=e.group.slice();r.splice(l,1),t.groupChange(r,n)})(n,l)},onSortChange:(r,o)=>{((n,l,r,o)=>{const a=Object.assign({},r,{dir:o}),i=e.group.slice();i.splice(l,1,a),t.groupChange(i,n)})(r,l,n,o)},onPress:t.dragLogicRef.current.pressHandler,onDrag:t.dragLogicRef.current.dragHandler,onRelease:t.dragLogicRef.current.releaseHandler,onContextMenu:t.onContextMenu})));return y.createElement("div",{ref:t.dragLogicRef.current.refGroupPanelDiv,className:"k-grouping-header",role:"toolbar","aria-label":n.toLanguageString(De,rt[De]),"aria-controls":e.ariaControls||""},y.createElement("div",{className:"k-chip-list k-chip-list-md",role:"none"},o),y.createElement("div",{className:"k-grouping-drop-container"},!o.length&&n.toLanguageString(ae,rt[ae])," "))},rn=e=>{const t=y.useRef(null),n=y.useRef(null),l=y.useContext(Q);return y.useImperativeHandle(l.footerRef,(()=>({setScrollLeft:e=>{t.current&&(t.current.scrollLeft=e)},setWidth:e=>{n.current&&(n.current.style.width=e?e+"px":"")}}))),e.staticHeaders?y.createElement("div",{className:"k-grid-footer",role:"presentation"},y.createElement("div",{ref:t,className:"k-grid-footer-wrap",role:"presentation"},y.createElement("table",{ref:n,className:o.classNames("k-table k-grid-footer-table",{"k-table-md":!e.size,[`k-table-${o.kendoThemeMaps.sizeMap[e.size]||e.size}`]:e.size},e.className),role:"presentation"},y.createElement("colgroup",{ref:e=>{l.columnResizeRef.current.colGroupFooter=e},role:"presentation"},e.cols),y.createElement("tfoot",{className:"k-table-tfoot",role:"presentation"},e.row)))):y.createElement("tfoot",{className:"k-table-tfoot"},e.row)};rn.displayName="KendoReactFooter";const on=e=>{const t=y.useContext(Q),n=r.useTableKeyboardNavigation(e.id),l=dt(e.dataItem,e.field),o=ut(e),a=y.useCallback((n=>{var l;null==(l=null==t?void 0:t.cellClick)||l.call(t,n,e.dataItem,e.field)}),[t,e.dataItem,e.field]);return{...n,..."groupFooter"===e.rowType||"groupHeader"!==e.rowType?{onContextMenu:l}:{},..."groupFooter"!==e.rowType&&"groupHeader"!==e.rowType?{style:o}:{},onClick:a}},an=e=>{var t,n;let l=null,r=null;const a=e.unstyled,i=a&&a.uGrid?a.uGrid:o.uGrid;if("groupFooter"===e.rowType)l={className:e.className};else if("groupHeader"!==e.rowType){if(void 0!==e.field){const t=M(e.field,e.dataItem);null!=t&&(r=e.intl&&e.format?e.intl.format(e.format,t):t.toString())}const a=o.classNames(i.td({selected:e.isSelected,highlighted:e.isHighlighted,sorted:e.isSorted,alt:e.isAlt}),e.className);l={rowSpan:null!=(n=null==(t=e._rowSpan)?void 0:t.count)?n:void 0,colSpan:e.colSpan,style:e.style,className:a,role:"gridcell","aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[ft]:e.columnIndex}}return{tdProps:l,content:r}},sn=e=>{var t;return null==(t=e.cells)?void 0:t[e.rowType||"data"]},cn=e=>{var t;const{cellProps:n}=e,{tdProps:l,content:r}=an(n),o=on(n),a=ct(n);if(null===(null==(t=n._rowSpan)?void 0:t.count))return null;const i=sn(n);return i?y.createElement(i,{...n,...a,tdProps:{...l,...o}},r):l?y.createElement("td",{...l,...o},r):null},dn=e=>{const t=y.useContext(Q),n=a.useLocalization(),l=e.expanded?Ae:Le,s=n.toLanguageString(l,rt[l]),c="rtl"===t.dir;return y.createElement("a",{onClick:n=>{var l;n.preventDefault(),null!=t&&t.itemChange&&t.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:n,field:void 0,value:!e.expanded}),null==(l=null==t?void 0:t.dispatchGroupExpand)||l.call(t,{type:r.GROUP_EXPAND_ACTION.TOGGLE,group:e.group})},href:"#",tabIndex:-1,"aria-label":s},y.createElement(o.IconWrap,{name:e.expanded?"caret-alt-down":c?"caret-alt-left":"caret-alt-right",icon:e.expanded?i.caretAltDownIcon:c?i.caretAltLeftIcon:i.caretAltRightIcon}))},un=e=>{const{columnIndex:t,level:n,columnsCount:l,rowType:r,dataItem:a,field:i,expanded:s,ariaColumnIndex:c,locked:d,style:u}=e,m=i||"";let p=null,g=null,f=null;const h=_(e);let v=!1;return void 0===t||void 0===n||t<n||void 0===l||"groupHeader"!==r||void 0===a[m]?p={style:u,key:"g"+t,className:o.classNames("k-table-td","k-group-cell",{"k-grid-content-sticky":d}),role:"gridcell"}:t===n&&(v=!0,p={className:"k-table-td",style:u,colSpan:l-t,key:"g-colspan",role:"gridcell","aria-selected":!1,"aria-expanded":s,"aria-colindex":c},f=y.createElement("p",{className:"k-reset"},y.createElement(dn,{...h}),a[m]instanceof Date?a[m].toString():a[m]),d&&(p={...p,colSpan:0,style:{...u,position:"sticky",zIndex:2}},g={className:"k-table-td",role:"gridcell",colSpan:l-t,style:{borderLeftWidth:0,borderRightWidth:0}})),{tdProps:p,td2Props:g,content:f,renderToggleCell:v}},mn=e=>{var t,n;return null==(n=null==(t=e.cells)?void 0:t.group)?void 0:n[e.rowType||"data"]},pn=(e,t)=>{const n=y.useContext(Q),l=r.useTableKeyboardNavigation(e.id),a=dt(e.dataItem,e.field),i=ut(e),s=y.useCallback((t=>{t.isDefaultPrevented()||t.keyCode===o.Keys.enter&&null!=n&&n.itemChange&&(t.preventDefault(),n.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:t,field:void 0,value:!e.expanded}),null==n||n.dispatchGroupExpand({type:r.GROUP_EXPAND_ACTION.TOGGLE,group:e.group},t))}),[n,e.dataItem,e.dataIndex,e.expanded,e.group]);return{...l,...t?{onKeyDown:s}:{},onContextMenu:a,style:i}},gn=e=>{const{cellProps:t}=e,{tdProps:n,td2Props:l,content:r,renderToggleCell:o}=un(t),a=pn(t,o),i=ct(t),s={...t,...i},c={...n,...a,style:{...null==n?void 0:n.style,...a.style}},d=l?{...l,onContextMenu:a.onContextMenu}:null,u=mn(t);if(u)return y.createElement(u,{...s,tdProps:c,td2Props:d},r);const m=n?y.createElement("td",{...c,key:null==n?void 0:n.key},r):null,p=d?y.createElement("td",{...d}):null;return p?y.createElement(y.Fragment,null,m,p):m},fn=e=>{var t;const n=y.useContext(Q),{reorderRowDropTargetRef:l,reorderRowDragTargetRef:r,activeDragRowDataItemRef:a}=n,{rowType:i,isAltRow:s,isInEdit:c,isSelected:d,isHighlighted:u}=e,m=o.useUnstyled(),p=m&&m.uGrid?m.uGrid:o.uGrid,g=o.classNames(p.tr({selected:d,highlighted:u,isHeader:"groupHeader"===i,isFooter:"groupFooter"===i,isMaster:"groupHeader"!==i&&"groupFooter"!==i,isAltRow:s,isInEdit:c})),f=y.useRef(null);o.useDroppable(f,{onDragOver:t=>{if(e.isRowReorderable&&a.current){const e=t.originalEvent.target;l.current=e.closest(".k-table-row")}},onDrop:()=>{r.current&&e.isRowReorderable&&(r.current.style.userSelect="")}});const h={onClick:t=>n.rowClick(t,e.dataItem),onDoubleClick:t=>n.rowDblClick(t,e.dataItem)},v={ref:f,id:e.id,...h,className:g,style:{height:e.rowHeight?e.rowHeight+"px":"",visibility:e.isHidden?"hidden":"",userSelect:null==(t=null==r?void 0:r.current)?void 0:t.style.userSelect},role:"row","aria-rowindex":e.ariaRowIndex,"absolute-row-index":e.absoluteRowIndex,[gt]:"data"===e.rowType?e.dataIndex:void 0},C=e.rowType||"data",E=e.rows;if(E&&E[C]){const t=E[C];return y.createElement(t,{key:e.absoluteRowIndex,...e,trProps:v},e.children)}return y.createElement("tr",{key:e.absoluteRowIndex,...v},e.children)},hn=e=>{const t=y.useContext(Q),n=o.useId(),l=a.useLocalization(),r=e.id||n;return[y.createElement("span",{key:0,className:"k-checkbox-wrap"},y.createElement("input",{id:r,type:"checkbox",tabIndex:-1,className:"k-checkbox k-checkbox-md k-rounded-md","aria-label":l.toLanguageString(ze,rt[ze]),"aria-checked":e.selectionValue,checked:e.selectionValue,onChange:n=>t.onHeaderSelectionChange({field:e.field,syntheticEvent:n})})),e.columnMenuWrapperProps.columnMenu&&y.createElement(Nt,{...e.columnMenuWrapperProps})]},vn=e=>{const t=a.useLocalization();return y.createElement(y.Fragment,null,e.children||t.toLanguageString(Z,rt[Z]))};vn.displayName="KendoReactGridNoRecords";const Cn=e=>{const t=y.useContext(Q),n=r.useTableKeyboardNavigation(e.id),l=t.getCellPositionStyle(e.column),o={...n,style:{...l}};return e.isCustom&&(t.isClient||e.isClient)?j(e.children,{tdProps:{...e.tdProps,...o},...n}):j(e.children,{...o})},En=e=>{const{column:t,index:n,cells:l}=e,r={colSpan:1!==t.colSpan?t.colSpan:void 0,className:o.classNames("k-table-td",t.locked&&void 0!==t.left?"k-grid-footer-sticky":""),role:"gridcell","aria-colindex":t.ariaColumnIndex},a={field:t.field,ariaColumnIndex:t.ariaColumnIndex,...r},i=B(t),s=V(l,t.cells);if(s&&s.footerCell){const t=s.footerCell,l=W(t);return y.createElement(Cn,{key:n,id:e.id,tdProps:r,isCustom:!0,isClient:l,column:i},y.createElement(t,{...a,tdProps:r,index:n}))}return y.createElement(Cn,{key:n,id:e.id,column:i},y.createElement("td",{...r}))},bn=e=>y.createElement("tr",{className:"k-table-row",role:"row","aria-rowindex":e.ariaRowIndex},(e=>e.filter((t=>{var n;return!(((e,t)=>{var n;let l=e[t.parentIndex];for(;l;){if(null!=(n=l.cells)&&n.footerCell)return!0;l=e[l.parentIndex]}return!1})(e,t)||(null==(n=t.cells)||!n.footerCell)&&t.children&&t.children.length>0)})))(e.columns).map(((t,n)=>{const l=r.tableKeyboardNavigationTools.generateNavigatableId(`${n}-footercell`,e.idPrefix,"nodata");return y.createElement(En,{key:l,column:t,id:l,index:n,cells:e.cells})}))),kn=e=>(({buttonCount:e=10,info:t=!0,type:n="numeric",pageSizes:l,previousNext:r=!0,responsive:o,adaptive:a,adaptiveTitle:i,navigatable:s,pageSizeValue:c})=>({buttonCount:e,info:t,pageSizes:!0===l?[5,10,20]:l||void 0,previousNext:r,responsive:!1!==o,adaptive:!0===a,adaptiveTitle:i||"Items per page",navigatable:!1!==s,type:n,pageSizeValue:c}))(!0===e?{}:e),xn=Object.freeze({name:"@progress/kendo-react-grid",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:0,version:"12.0.2",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"}),yn=e=>{const{colSpan:t,ariaColIndex:n,unstyled:l}=e,r=l&&l.uGrid?l.uGrid:o.uGrid;return{tdProps:{className:o.classNames(r.detailTd({})),colSpan:t,"aria-colindex":n,role:"gridcell"}}},In=e=>{const t=r.useTableKeyboardNavigation(e.id);return{onContextMenu:dt(e.dataItem),...t}},Sn=e=>{const{dataItem:t,dataIndex:n}=e,{tdProps:l}=yn(e),r=In(e);return y.createElement("td",{...l,...r},y.createElement(e.detail,{dataItem:t,dataIndex:n}))},wn=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:o.uGrid;return y.createElement("td",{className:o.classNames(n.hierarchyTd({})),role:"gridcell"})},Rn=e=>{const t=y.useContext(Q),n=t.headerRef.current,l=n&&n.table()&&n.table().clientWidth,a=o.uGrid;return y.createElement("div",{key:"no-records",className:o.classNames(a.noRecords({})),style:{width:l}},y.createElement("div",{className:o.classNames(a.noRecordsTemplate({})),[r.KEYBOARD_NAV_DATA_ID]:r.tableKeyboardNavigationTools.generateNavigatableId("no-records",r.tableKeyboardNavigationTools.getIdPrefix(t.navigationStateRef))},e.children))};Rn.displayName="KendoReactGridNoRecordsContainer";let Nn=class{constructor(e){this.columns=[],this.columnsState=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.initWidths=()=>{var e;const t=(null==(e=this.colGroupMain)?void 0:e.children)||[],n=H(this.columnsState),l=this.columns.filter((e=>{var t;return!(null!=(t=e.children)&&t.length)}));for(let e=0;e<t.length;e++){const r=t[e];let o="";const a=n.find((t=>t.id===l[e].id));a&&(o=a.width||""),r.width=o,this.colGroupHeader&&(this.colGroupHeader.children[e].width=o),this.colGroupFooter&&(this.colGroupFooter.children[e].width=o)}},this.dragHandler=(e,t,n,l)=>{const r=e.originalEvent;l||(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation());const o=n.closest("th");if(!o||!o)return;const a=o.clientWidth;let i=a;if(this.isRtl?i+=n.getBoundingClientRect().right-n.offsetWidth/2-e.clientX:i+=e.clientX-n.getBoundingClientRect().left-n.offsetWidth/2,!l&&Math.abs(i-a)<1)return;this.fixateInitialWidths(o.parentElement.clientWidth),this.setWidths(t,Math.floor(i)/a);const s=this.columns.filter((e=>!e.children.length)).findIndex((e=>e.id===t.id));this.onResize(s,a,i,r,l,this.columnsState,t.id)},this.dblClickHandler=(e,t)=>{const n=this.columns.filter((e=>t.indexOf(e.id)>-1)),l=H(this.columnsState);if(!this.colGroupMain||!n.length)return;const r={},o=n;for(;o.length>0;){const e=o.pop();if(!e)break;e.children.length?o.push(...e.children):r[e.id]=e}const a=this.columns.filter((e=>!e.children.length)),i=[];a.forEach(((e,t)=>{r[e.id]&&i.push(t)}));const s=[this.colGroupMain.parentElement],c=[this.colGroupMain];this.colGroupHeader&&(s.push(this.colGroupHeader.parentElement),c.push(this.colGroupHeader)),this.colGroupFooter&&(s.push(this.colGroupFooter.parentElement),c.push(this.colGroupFooter)),s.forEach((e=>e.classList.add("k-autofitting")));const d=[];c.forEach((e=>{i.forEach((t=>{e.children[t]&&(e.children[t].width="",d[t]=Math.max(d[t]||0,e.children[t].offsetWidth+1))}))})),c.forEach((e=>{i.forEach((t=>{if(e.children[t]){e.children[t].width=d[t]+"px";const n=l.find((e=>e.id===a[t].id));n&&(n.width=d[t])}}))})),s.forEach((e=>e.classList.remove("k-autofitting"))),this.onResize(i[0],0,0,e,!0,this.columnsState,t[0])},this.updateColElements=e=>{const t=this.columns.filter((e=>!e.hidden&&!e.children.length));let n=1e-10;for(let l=0;l<e.length;l++){const r=e[l],o=t.findIndex((e=>e.id===r.id)),a=parseFloat((r.width||0).toString()),i=Math.floor(a);n+=a-i;const s=i+Math.floor(n);n-=Math.floor(n);const c=t.find((e=>e.id===r.id));if(!c)return;if(this.colGroupMain&&this.colGroupMain.children[o]){const e=parseInt(this.colGroupMain.children[o].width,10);this.colGroupMain.children[o].width=s+"px",this.updateNextLockedCol(this.colGroupMain.parentElement,c,e-s)}if(this.colGroupHeader&&this.colGroupHeader.children[o]){const e=parseInt(this.colGroupHeader.children[o].width,10);this.colGroupHeader.children[o].width=s+"px",this.updateNextLockedCol(this.colGroupHeader.parentElement,c,e-s)}if(this.colGroupFooter&&this.colGroupFooter.children[o]){const e=parseInt(this.colGroupFooter.children[o].width,10);this.colGroupFooter.children[o].width=s+"px",this.updateNextLockedCol(this.colGroupFooter.parentElement,c,e-s)}}},this.onResize=e}fixateInitialWidths(e){var t;let n=0;const l=(null==(t=this.colGroupMain)?void 0:t.children)||[];for(let t=0;t<l.length;t++)l[t].width?e-=l[t].clientWidth:n++;if(0===n)return;const r=Math.floor(e/n),o=H(this.columnsState),a=this.columns.filter((e=>!e.children.length));for(let e=0;e<l.length;e++){const t=l[e],n=t.width?t.clientWidth:r;t.width=n;const i=o.find((t=>t.id===a[e].id));i&&(i.width=n.toString()),this.colGroupHeader&&(this.colGroupHeader.children[e].width=n),this.colGroupFooter&&(this.colGroupFooter.children[e].width=n)}}setWidths(e,t){const n=H(this.columnsState),l=this.columns.findIndex((t=>t.id===e.id)),r=[];let o=e.children.filter((e=>!e.hidden)).length;for(let e=l+1;e<this.columns.length&&!(o<=0);e++){const t=this.columns[e];t.children.length?o+=t.children.filter((e=>!e.hidden)).length:r.push(t),o--}0===r.length&&r.push(e);const a=[];r.forEach((e=>{const l=n.find((t=>t.id===e.id));if(l){let n=l.width?parseFloat(l.width.toString())*t:0;const r=void 0===e.minResizableWidth?10:e.minResizableWidth;n<r&&(n=r),l.width=n,a.push(l)}})),this.updateColElements(a)}updateNextLockedCol(e,t,n){const l=t.index,r=this.colGroupMain.parentElement.closest(".k-grid"),o=null==r?void 0:r.clientWidth,a=this.columns.filter((e=>e.locked)).map((e=>parseInt(e.width+"",10))).reduce(((e,t)=>e+t),0);!t.locked||o<=a+20||this.columns.forEach((t=>{if(null!=t&&t.locked&&n){const r=null==e?void 0:e.querySelectorAll('[aria-colindex="'+t.ariaColumnIndex+'"]');null==r||r.forEach((e=>{const r=e.style;this.isRtl?(t.index>l&&r&&r.right&&(r.right=parseInt(r.right,10)-n+"px"),t.index<l&&r&&r.left&&(r.left=parseInt(r.left,10)-n+"px")):(t.index>l&&r&&r.left&&(r.left=parseInt(r.left,10)-n+"px"),t.index<l&&r&&r.right&&(r.right=parseInt(r.right,10)-n+"px"))}))}}))}},Pn=class{constructor(e,t,n){this.refDragElementClue=y.createRef(),this.refDropElementClue=y.createRef(),this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e&&e.children?e.children[0]:e},this.pressHandler=(e,t)=>{const n=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),n>=0){const e=this.columns[n];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=n)}},this.dragHandler=(e,t)=>{var n,l;if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.isTargetGroupingContainer(e)?this.getCurrentGroupsLength:this.getGroupIndex(e);const r=!this.isValid();r&&(this.currentColumn=-1,this.currentGroup=-1);let o=null;o=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.isTargetGroupingContainer(e)?this.getEventTarget(e):null!=(l=null==(n=this.groupPanelDivElement)?void 0:n.children[this.currentGroup])?l:null,this.updateDragElementClue(e,t,o,r),this.updateDropElementClue(e,t,o,r)},this.releaseHandler=e=>{const t=this.startColumn,n=this.currentColumn,l=this.startGroup,r=this.currentGroup;e.originalEvent.preventDefault(),this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const o=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,o&&(t>=0&&n>=0?this.columnReorder(t,n,e.originalEvent):l>=0&&r>=0?this.groupReorder(l,r,e.originalEvent):t>=0&&r>=0&&this.columnToGroup(t,r,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=n}get dragClueRef(){return this.refDragElementClue}get dropClueRef(){return this.refDropElementClue}get getCurrentGroupsLength(){const e=this.groupPanelDivElement&&this.groupPanelDivElement.children;return e&&e.length||0}get dragElementClue(){return this.refDragElementClue.current}get dropElementClue(){return this.refDropElementClue.current}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const n=r.getIndex(e,t);if(-1===n)return-1;for(let e=0;e<t.parentNode.children.length;e++)if(t.parentNode.children[e]===t)return this.columns.findIndex((t=>t.index===n&&t.depth===e));return-1}getEventTarget(e){var t,n;const l=e.originalEvent,r=null==(t=l.target)?void 0:t.ownerDocument;return null!=(n=null==r?void 0:r.elementFromPoint(l.clientX,l.clientY))?n:null}isTargetGroupingContainer(e){var t,n;const l=this.getEventTarget(e);return null!=(n=null==(t=null==l?void 0:l.classList)?void 0:t.contains("k-grouping-drop-container"))&&n}getGroupIndex(e){return r.getIndex(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,n,l){if(!this.dragElementClue)return;const r=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:r,status:l||!n?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,n,l){if(!this.dropElementClue)return;if(l||!n)return void this.dropElementClue.setState({visible:!1});const r=n.getBoundingClientRect(),o=(n.closest(".k-grouping-header")||n).getBoundingClientRect();let a=r.left+e.pageX-e.clientX-6;!this.isTargetGroupingContainer(e)&&(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&"rtl"!==this.dir&&(a+=r.width);const i=o.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:i,left:a,height:this.currentColumn>=0?t.clientHeight:o.height})}},Mn=class{constructor(){this.table=null,this.tableBody=null,this.container=null,this.scrollHeightContainer=null,this.total=0,this.scrollableVirtual=!1,this.pageSize=0,this.PageChange=null,this.fixedScroll=!1,this.tableTransform="",this.reactVersion=Number.parseFloat(y.version),this.scrollSyncing=!1,this.firstToLoad=0,this.lastScrollTop=0,this.firstLoaded=0,this.lastLoaded=0,this.scrollHandler=this.scrollHandler.bind(this)}reset(){this.firstToLoad=0,this.firstLoaded=0,this.lastLoaded=0,this.rowHeightService=void 0,!this.fixedScroll&&this.container&&0!==this.container.scrollTop&&(this.scrollSyncing=!0,this.container.scrollTop=0,this.lastScrollTop=0,this.translate(0,!0))}scrollHandler(e){if(this.scrollSyncing)return void(this.scrollSyncing=!1);if(!(this.scrollableVirtual&&this.container&&this.table&&this.rowHeightService&&this.container))return;const t=this.container.scrollTop,n=this.lastScrollTop>=t,l=!n;this.lastScrollTop=t;const r=this.container.offsetHeight;let o=this.rowHeightService.index(t);const a=this.rowHeightService.index(t+r),i=Math.max(o+this.pageSize-this.total,0);if(o=Math.max(o-i,0),l&&a>=this.lastLoaded&&this.lastLoaded<this.total-1)this.firstToLoad=o,this.loadPage(e);else if(n&&o<this.firstToLoad){const t=Math.max(Math.floor(.3*this.pageSize)-i,0);this.firstToLoad=Math.max(o-t,0),this.loadPage(e)}}update(){var e;const t=this.getItemHeights();if(this.firstLoaded>this.firstToLoad){const e=Math.min(this.firstLoaded-this.firstToLoad,this.pageSize),n=this.getTotalHeight(e,t)-this.getExpectedTotalHeight(e);0!==n&&this.adjustScroll(n)}null==(e=this.rowHeightService)||e.update(this.firstToLoad,t),this.setScrollHeightContainerHeight(),this.firstLoaded=this.firstToLoad,this.lastLoaded=this.firstLoaded+t.length-1}loadPage(e){this.rowHeightService&&(this.translate(this.rowHeightService.offset(this.firstToLoad)),this.changePage(this.firstToLoad,e))}translate(e,t){this.scrollableVirtual&&this.table&&(this.reactVersion<=17||t?this.table.style.transform="translateY("+e+"px)":this.tableTransform="translateY("+e+"px)")}changePage(e,t){this.PageChange&&this.PageChange({skip:Math.max(0,e),take:this.pageSize},t)}adjustScroll(e){this.scrollSyncing=!0,this.container&&(this.container.scrollTop+=e)}setScrollHeightContainerHeight(){var e;if(this.scrollableVirtual&&this.scrollHeightContainer){let t=(null==(e=this.rowHeightService)?void 0:e.totalHeight())||0;t=K?Math.min(17895697,t):t,this.scrollHeightContainer.style.height=t+"px"}}getItemHeights(){const e=[];return this.tableBody&&Array.from(this.tableBody.children).forEach((t=>{const n=t.getBoundingClientRect().height;t.classList.contains("k-detail-row")?e[e.length-1]+=n:e.push(n)})),e}getTotalHeight(e,t){return t.slice(0,e).reduce(((e,t)=>e+t),0)}getExpectedTotalHeight(e){const t=this.rowHeightService;if(!t)return 0;const n=this.firstToLoad+(e-1);return t.offset(n)+t.height(n)-t.offset(this.firstToLoad)}};const Tn={[P.create]:{name:"create",text:"Add",icon:"plus",svgIcon:i.plusIcon,data:{action:"AddCommand"}},[P.edit]:{name:"edit",text:"Edit",icon:"pencil",svgIcon:i.pencilIcon,data:{action:"EditCommand"}},[P.delete]:{name:"delete",text:"Delete",icon:"trash",svgIcon:i.trashIcon,data:{action:"DeleteCommand"}},[P.select]:{name:"select",text:"Select",icon:"table-body",svgIcon:i.tableBodyIcon,items:[{name:"selectRow",text:"Row",icon:"table-row-groups",svgIcon:i.tableRowGroupsIcon,data:{action:"SelectRowCommand"}},{name:"selectAllRows",text:"All rows",icon:"grid",svgIcon:i.gridIcon,data:{action:"SelectAllRowsCommand"}},{name:"clearSelection",text:"Clear selection",icon:"table-unmerge",svgIcon:i.tableUnmergeIcon,data:{action:"ClearSelectionCommand"}}]},[P.copySelection]:{name:"copySelection",text:"Copy selection",icon:"page-header-section",svgIcon:i.pageHeaderSectionIcon,data:{action:"CopySelectionCommand"},options:"withHeaders"},[P.copySelectionNoHeaders]:{name:"copySelectionNoHeaders",text:"Copy selection (No Headers)",icon:"file-txt",svgIcon:i.fileTxtIcon,data:{action:"CopySelectionCommand"}},[P.paste]:{name:"paste",text:"Paste (use CTRL/⌘ + V)",icon:"clipboard",svgIcon:i.clipboardIcon,data:{action:"PasteCommand"}},[P.reorderRow]:{name:"reorderRow",text:"Reorder row",icon:"caret-alt-expand",svgIcon:i.caretAltExpandIcon,items:[{name:"reorderRowUp",text:"Up",icon:"caret-alt-up",svgIcon:i.caretAltUpIcon,data:{action:"ReorderRowCommand"}},{name:"reorderRowDown",text:"Down",icon:"caret-alt-down",svgIcon:i.caretAltDownIcon,data:{action:"ReorderRowCommand"}},{name:"reorderRowTop",text:"Top",icon:"caret-alt-to-top",svgIcon:i.caretAltToTopIcon,data:{action:"ReorderRowCommand"}},{name:"reorderRowBottom",text:"Bottom",icon:"caret-alt-to-bottom",svgIcon:i.caretAltToBottomIcon,data:{action:"ReorderRowCommand"}}]},[P.exportPDF]:{name:"exportPDF",text:"Export to PDF",icon:"file-pdf",svgIcon:i.filePdfIcon,data:{action:"ExportPDFCommand"}},[P.exportExcel]:{name:"exportExcel",text:"Export to Excel",icon:"file-excel",svgIcon:i.fileExcelIcon,items:[{name:"exportToExcelAll",text:"All",data:{action:"ExportExcelCommand"}},{name:"exportToExcelSelection",text:"Selection",data:{action:"ExportExcelCommand"},options:"selection,withHeaders"},{name:"exportToExcelSelectionNoHeaders",text:"Selection (No Headers)",data:{action:"ExportExcelCommand"},options:"selection"}]},[P.separator]:{name:"separator",separator:!0},[P.sortAsc]:{name:"sortAsc",text:"Sort Ascending",icon:"sort-asc-small",svgIcon:i.sortAscSmallIcon,data:{action:"SortCommand"}},[P.sortDesc]:{name:"sortDesc",text:"Sort Descending",icon:"sort-desc-small",svgIcon:i.sortDescSmallIcon,data:{action:"SortCommand"}}},Dn=e=>{const{show:t,offset:n,dataItem:l,field:r,items:o,onClose:i,onSelect:s}=e,c=a.useLocalization(),d=y.useCallback((e=>{s.call(void 0,{event:e,dataItem:l,field:r})}),[s,l,r]),m=y.useCallback((e=>{const t=e;return t.text&&t.name&&(t.text=c.toLanguageString(`contextMenu.${t.name}`,t.text||"")),t.items&&Array.isArray(t.items)&&(t.items=t.items.map((e=>m(e)))),t}),[c]),p=y.useMemo((()=>o&&o.map((e=>m("string"==typeof e?Tn[e]:e)))),[o,m]);return y.createElement(u.ContextMenu,{show:t,offset:n,items:p,onClose:i,onSelect:d})},Ln=(...e)=>Object.assign({allowUnsort:!0,mode:"single"},...e),An={true:{asc:{asc:"",desc:"desc"},desc:{asc:"asc",desc:""},"":{asc:"asc",desc:"desc"}},false:{asc:{asc:"asc",desc:"desc"},desc:{asc:"asc",desc:"desc"},"":{asc:"asc",desc:"desc"}}},Fn={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},Gn=y.forwardRef(((e,t)=>{const{gridProps:n,pdf:l}=e,r={...n,...l},[o,a]=y.useState(!1),i=y.useRef(null);y.useEffect((()=>{o&&async function(){await e.onPdfExport({target:i.current}),a(!1)}()}),[o,e.onPdfExport]);const s=()=>{a(!0)};y.useImperativeHandle(t,(()=>({save:s})));return o&&p.createPortal(y.createElement("div",{style:{position:"absolute",left:"-5000px",top:"0px"}},y.createElement("div",{ref:i},(t=>{const n={style:{...r.style,width:"1000px"}};return e.innerGrid?y.createElement(e.innerGrid,{...n,...r,scrollable:"scrollable"}):null})())),document.body)}));Gn.displayName="BasePDFExport",Gn.propTypes={grid:n.element.isRequired,pdf:n.object,onPdfExport:n.func.isRequired};const Bn=(e,t,n,l)=>{const r=Object.keys(t.cells).map((e=>n.findIndex((t=>t.field===e)))),o=!(Object.keys(t.cells).length>0)||r;return e.reduce(((e,t)=>(e[t[null!=l?l:"id"]]=o,e)),{})},On=e=>{const t=e.gridProps.isClient,[n,a]=y.useState({}),i=o.useAdaptiveModeContext(),s=y.useRef(null),c=()=>{a({})},d=y.useMemo((()=>e.columnsRef.find((e=>e.field===n.field))),[e.columnsRef,n]),u=y.useMemo((()=>{const t=e.gridProps.sortable&&(null==d?void 0:d.sortable);return(e=>{let t=[];return e.sortable&&(t=t.concat([P.sortAsc,P.sortDesc])),e.pdf&&(t.length&&(t=t.concat([P.separator])),t=t.concat([P.exportPDF])),t})({pdf:!!e.gridProps.pdf,sortable:!!t,selectable:r.getSelectionOptions(e.gridProps.selectable).enabled,clipboard:!!e.gridProps.clipboard})}),[d,e.gridProps.sortable,e.gridProps.selectable,e.gridProps.clipboard]),m=y.useMemo((()=>{const t=e.gridProps.sortable&&(null==d?void 0:d.sortable);return(e=>{let t=[];return e.clipboard&&(t=t.concat([P.copySelection,P.copySelectionNoHeaders,P.paste])),e.editable&&(t.length&&(t=t.concat([P.separator])),t=t.concat([P.create,P.edit,P.delete])),e.selectable&&(t.length&&(t=t.concat([P.separator])),t=t.concat([P.select])),e.rowReorderable&&(t.length&&(t=t.concat([P.separator])),t=t.concat([P.reorderRow])),e.pdf&&(t.length&&(t=t.concat([P.separator])),t=t.concat([P.exportPDF])),t})({pdf:!!e.gridProps.pdf,sortable:!!t,selectable:r.getSelectionOptions(e.gridProps.selectable).enabled,clipboard:!!e.gridProps.clipboard,rowReorderable:q(e.gridProps.rowReorderable)})}),[d,e.gridProps.sortable,e.gridProps.selectable,e.gridProps.clipboard]),p=y.useMemo((()=>{const t=(null==d?void 0:d.contextMenu)||e.gridProps.contextMenu,l="function"==typeof t?t(n):t;if(l&&n.offset){const e=l[n.dataItem?N.body:N.head],t=n.dataItem?m:u;return!1===e?void 0:!0===e||void 0===e?t:e}}),[e.gridProps.contextMenu,n,m,u,d]),g=()=>{const t=e.columnsRef.filter((e=>e.declarationIndex>=0&&-1===e.parentIndex));return G(t)},f=n=>{if("moveToNextPage"===n.action&&R(n.event),"moveToPrevPage"===n.action&&M(n.event),n.focusElement&&"reorderToRight"===n.action){const t=parseInt(n.focusElement.ariaColIndex,10)-1;t<e.columnsRef.length-1&&O(t,t+1,n.event)}if(n.focusElement&&"reorderToLeft"===n.action){const e=parseInt(n.focusElement.ariaColIndex,10)-1;e>0&&O(e,e-1,n.event)}if("select"===n.action&&v(n.event),e.gridProps.onNavigationAction&&t){const t={focusElement:n.focusElement,...J(n.event)};Z(e.gridProps.onNavigationAction,t)}},h=(t,n,l)=>{const{allowUnsort:r,mode:o}=Ln(e.gridProps.sortable||!1,n.sortable||!1),a=(e.gridProps.sort||[]).filter((e=>e.field===n.field))[0],i=l||Fn[r][a&&a.dir||""],s="single"===o?[]:(e.gridProps.sort||[]).filter((e=>e.field!==n.field));""!==i&&n.field&&s.push({field:n.field,dir:i}),T(s,t)},v=t=>{var n,l;if(!We.enabled||!e.gridProps.dataItemKey)return;const o={dataItems:ee(),mode:We.mode,cell:We.cell,componentId:e.id,selectedField:"",...J(t)},a=r.getSelectedStateFromKeyDown({event:o,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey});if(a===e.gridProps.select)return;const i=t.target,s=r.closestTagName(i,"TD"),c=r.closestTagName(i,"TR"),d=r.getColumnIndex(s),u=r.getRowIndex(c);if(void 0!==d&&void 0!==u){const n=null==(l=L(e.gridProps.data))?void 0:l[u];e.gridProps.onSelectionChange&&Z(e.gridProps.onSelectionChange,{...o,select:a,dataItem:n,startRowIndex:u,startColIndex:d,startDataItem:n,endDataItem:n,endRowIndex:u,endColIndex:d,ctrlKey:t.ctrlKey,altKey:t.altKey,metaKey:t.metaKey,shiftKey:t.shiftKey,isDrag:!1})}},C=(t,n)=>{e.gridProps.onSelectionChange&&We.enabled&&Z(e.gridProps.onSelectionChange,{...t,select:n})},E=t=>{if(e.gridProps.onSelectionChange&&We.enabled){const n=t.dataItems[0],l=t.dataItems[t.dataItems.length-1],r={},a={...t,startDataItem:n,endDataItem:l,startRowIndex:0,endRowIndex:t.dataItems.length-1,startColIndex:0,endColIndex:e.columnsRef.length-1};t.dataItems.forEach((n=>{const l=o.getter(e.gridProps.dataItemKey)(n);r[l]=!t.cell||[...Array(e.columnsRef.length).keys()]})),C(a,r)}},b=t=>{if(e.gridProps.onSelectionChange&&We.enabled){const n=o.getter(e.gridProps.dataItemKey)(t.dataItem),l=0,r=e.columnsRef.length-1,a=t.dataItems.findIndex((n=>n[e.gridProps.dataItemKey]===t.dataItem[e.gridProps.dataItemKey])),i={...t,startDataItem:a,endDataItem:a,startRowIndex:a,endRowIndex:a,startColIndex:l,endColIndex:r},s="multiple"===t.mode&&e.gridProps.select||{};!0===s[n]||Array.isArray(s[n])&&s[n].length===e.columnsRef.length?delete s[n]:s[n]=!t.cell||[...Array(e.columnsRef.length).keys()],C(i,s)}},k=t=>{e.gridProps.onSelectionChange&&We.enabled&&C(t,{})},x=(t,n,l,r,o)=>{w();const a=e.gridProps.onDataStateChange;if(t){const e={...J(r),...n,targetEvent:o};Z(t,e)}else a&&Z(a,{...J(r),targetEvent:o||{},dataState:{...Y(),...l}})},I=(t,n,l)=>{var r;Ke&&e.gridProps.pageable&&(null==(r=ce.current)||r.reset()),x(e.gridProps.onPageChange,{page:t},{skip:t.skip,take:t.take},n,l)},S=(t,n,l)=>{var r;e.gridProps.pageable||null!=(r=e.gridProps.group)&&r.length?e.gridProps.virtualSkipRef&&(e.gridProps.virtualSkipRef.current=t.skip,ie()):I(t,n,l)},w=()=>{Ke&&e.gridProps.virtualSkipRef&&(e.gridProps.virtualSkipRef.current=0)},R=t=>{var n,l;const r=null!=(l=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?l:0,o=(e.gridProps.skip||0)+r,a=(()=>{let t=e.gridProps.total||0;return Array.isArray(e.gridProps.data)?t=t||e.gridProps.data.length:e.gridProps.data&&(t=t||e.gridProps.data.total),t})();o<a&&I({skip:o,take:r},t)},M=t=>{var n,l;const r=null!=(l=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?l:0,o=(e.gridProps.skip||0)-r;o>=0&&I({skip:o,take:r},t)},T=(t,n)=>{x(e.gridProps.onSortChange,{sort:t},{sort:t,...Ke&&!e.gridProps.pageable?{skip:0}:{}},n)},D=t=>{x(e.gridProps.onHighlightChange,{highlight:t},{},{})},A=()=>{var e;null==(e=s.current)||e.save()},F=(t,n)=>{const l=n.nativeEvent?n:{nativeEvent:n.nativeEvent||n.originalEvent};let r={};e.isVirtualScroll&&t.length&&!e.gridProps.pageable&&(r={take:void 0}),0===t.length&&e.gridProps.navigatable&&(we.current=!0),x(e.gridProps.onGroupChange,{group:t},{group:t,skip:0,...r},l)},B=t=>{if(e.gridProps.onColumnsStateChange){const n={target:se.current,columnsState:t};Z(e.gridProps.onColumnsStateChange,n)}},O=(t,n,l)=>{const{columnsRef:o,columnsState:a}=e,i=o[t],s=H(a),c=i.depth,d=e=>{do{e++}while(e<o.length&&o[e].depth>c);return e},u=o.splice(t,d(t)-t);o.splice(t<n?d(n-u.length):n,0,...u),o.filter((e=>e.declarationIndex>=0)).forEach(((e,t)=>{e.orderIndex=t;const n=s.find((t=>t.id===e.id));n&&(n.orderIndex=t)}));const m=o[t].locked&&o[n].locked;r.updateLeft(e.columnsMapRef,o,m||Me.current),r.updateRight(e.columnsMapRef,o,m||Me.current),Se.current&&(Me.current=!1,Se.current=!1);const p=g();if(ie(),e.gridProps.onColumnReorder){const t={target:se.current,columns:p,columnId:i.id,nativeEvent:l};Z(e.gridProps.onColumnReorder,t)}B(a)},z=(t,n,l)=>{const r="object"==typeof e.gridProps.rowReorderable?e.gridProps.rowReorderable.enabled:e.gridProps.rowReorderable;if("forbidden"===l||!r||!Be.current)return;const o=e.dataRef[n];e.gridProps.onRowReorder&&Z(e.gridProps.onRowReorder,{draggedDataItems:[Be.current],droppedDataItem:null==o?void 0:o.dataItem,dropPosition:l,nativeEvent:t.originalEvent,dragEvent:t,target:se.current}),Be.current=null},K=(t,n,l)=>{if(void 0===e.gridProps.group)return;const r=e.gridProps.group.slice();r.splice(n,0,...r.splice(t,1)),F(r,l)},V=(t,n,l)=>{const r=e.columnsRef[t].field;if(!r)return;const o=(e.gridProps.group||[]).slice();o.splice(n,0,{field:r}),F(o,l)},W=()=>{let e=0;if(!de.current.colGroupMain)return;const t=de.current.colGroupMain.children;for(let n=0;n<t.length;n++){const l=t[n].width;if(!l){e=0;break}e+=parseFloat(l.toString())}e=Math.round(e),Ie.current&&Ie.current.setWidth(e),ye.current&&ye.current.setWidth(e),Ee.current&&(Ee.current.style.width=e?e+"px":"")},_=()=>{var t;e.gridProps.widthRef&&(e.gridProps.widthRef.current=(null==(t=ke.current)?void 0:t.offsetWidth)||0)},U=()=>{var t;e.gridProps.containerHeightRef&&(e.gridProps.containerHeightRef.current=(null==(t=Ce.current)?void 0:t.offsetHeight)||0)},j=y.useCallback(((n,l,o,a,i)=>{var s;if(!$()&&!o||!n)return;const c={type:n,nativeEvent:l,columns:e.columnsRef,dataItemKey:e.gridProps.dataItemKey||"",dataItem:a,field:i,..."boolean"!=typeof e.gridProps.clipboard?e.gridProps.clipboard:{},...o},d=ee(),u=r.populateClipboardData({event:c,data:d,selectedState:null!=(s=e.gridProps.select)?s:{},previousCopiedItems:Fe.current});n!==r.ClipboardActionType.paste&&(Fe.current=u.copiedItems),e.gridProps.onClipboard&&t&&Z(e.gridProps.onClipboard,{...c,...u})}),[e.gridProps.select,e.gridProps.dataItemKey,e.gridProps.data,e.gridProps.clipboard,e.gridProps.onClipboard]),$=()=>{var e,t,n;if(!o.canUseDOM)return!1;const l=o.getActiveElement(te()),r=l?l.matches(".k-table-td")?l:null==(e=te())?void 0:e.body:null==(t=te())?void 0:t.body,a=r.closest(".k-grid-container"),i=r&&(null==(n=ke.current)?void 0:n.contains(r));return!!(r&&i&&a)},X=(n,l,r,o,a,i,s)=>{W(),Me.current=!0,Se.current=!0,e.gridProps.onColumnResize&&t&&Z(e.gridProps.onColumnResize,{columns:g(),nativeEvent:o,targetColumnId:s,index:n,newWidth:l,oldWidth:r,end:a,target:se.current}),a&&B(i)},Y=()=>{var t;return{filter:e.gridProps.filter,sort:e.gridProps.sort,skip:e.gridProps.skip,take:null!=(t=e.gridProps.take)?t:e.gridProps.pageSize,group:e.gridProps.group}},J=e=>({nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:se.current}),Z=(t,n)=>{e.gridProps.isClient?t(n):t((e=>({...e,nativeEvent:void 0,syntheticEvent:void 0,target:void 0,targetEvent:void 0,focusElement:void 0}))(n))},ee=()=>e.dataRef.filter((e=>"data"===e.rowType)).map((e=>e.dataItem)),te=()=>{var e;if(o.canUseDOM)return(null==(e=ne())?void 0:e.ownerDocument)||document},ne=()=>ke.current,le=y.useCallback((t=>{var n,l;if(!ce.current||null==(n=ce.current)||!n.container||"none"===e.gridProps.scrollable)return;fe.current&&fe.current.disconnect();const{rowIndex:r}=t,o=ne();if(Ke){const e=(null==(l=ce.current.rowHeightService)?void 0:l.offset(r))||0;ce.current.container.scroll(0,e)}else if(o){const e=r<1?o.querySelector("tbody > tr:nth-child(1)"):o.querySelector(`tbody > tr:nth-child(${r+1})`);e&&Ce.current&&(Ce.current.scrollTop=e.offsetTop)}}),[e.gridProps.scrollable]),re=e=>JSON.stringify(e.map((e=>({id:e.id,field:e.field,title:e.title,children:e.children})))),oe=()=>{Ge.current=window.innerWidth,re(Ve)===re(e.columnsRef)||ie()},ae=y.useCallback((e=>{const t={rowIndex:Le.current};e.forEach((e=>{e.boundingClientRect.height!==e.intersectionRect.height&&le(t)}))}),[le]),ie=()=>{e.gridProps.forceUpdate&&e.gridProps.forceUpdate()},se=y.useRef(null),ce=y.useRef(void 0),de=y.useRef(void 0),ue=y.useRef(void 0),me=y.useRef(void 0),pe=y.useRef(void 0),ge=y.useRef(void 0),fe=y.useRef(null),he=y.useRef(null),ve=y.useRef(null),Ce=y.useRef(null),Ee=y.useRef(null),be=y.useRef(null),ke=y.useRef(null),xe=y.useRef(null),ye=y.useRef(null),Ie=y.useRef(null),Se=y.useRef(!1),we=y.useRef(!1),Re=y.useRef(void 0),Ne=y.useRef(void 0),Pe=y.useRef(!1),Me=y.useRef(!0),Te=y.useRef(0),De=y.useRef(void 0),Le=y.useRef(void 0),Ae=y.useRef([]),Fe=y.useRef([]),Ge=y.useRef(0),Be=y.useRef(null),Oe=y.useRef(null),ze=y.useRef(null),He=o.useDir(ke),Ke=e.isVirtualScroll,Ve=y.useMemo((()=>y.Children.toArray(e.gridProps.children)),[e.gridProps.children]),qe=!0===e.gridProps.groupable||"object"==typeof e.gridProps.groupable&&!1!==e.gridProps.groupable.enabled,We=r.getSelectionOptions(e.gridProps.selectable),_e=r.getEditableOptions(e.gridProps.editable),Ue=Ge.current&&i&&Ge.current<=i.medium&&e.gridProps.adaptive;return y.useMemo((()=>{r.tableKeyboardNavigation.onConstructor({navigatable:!!e.gridProps.navigatable,contextStateRef:me,navigationStateRef:pe,idPrefix:e.id}),ce.current=new Mn}),[]),y.useMemo((()=>{var e;null==(e=ce.current)||e.reset()}),[e.gridProps.scrollable,e.gridProps.total,e.gridProps.filter,e.gridProps.group,qe,e.gridProps.sort,e.gridProps.rowHeight]),y.useEffect((()=>(e.gridProps.clipboard&&(ge.current=new r.ClipboardService(j),ge.current.addEventListeners(te())),()=>{ge.current&&ge.current.removeEventListeners(te())})),[e.gridProps.onClipboard,e.gridProps.clipboard,j,te]),y.useEffect((()=>(e.gridProps.columnVirtualization&&!window.navigator.userAgent.match(vt)&&(be.current&&(be.current.style.display="block"),Ee.current&&(Ee.current.style.display="block")),_(),W(),o.setScrollbarWidth(),r.tableKeyboardNavigation.onComponentDidMount({scope:ke.current||void 0,contextStateRef:me,navigationStateRef:pe}),()=>{clearTimeout(De.current)})),[]),y.useEffect((()=>{var t;_(),W(),o.setScrollbarWidth(),Ke&&(U(),(()=>{const t=e.gridProps.minRowHeightRef;if(t&&!t.current&&!e.gridProps.rowHeight){const e=(e=>{let t=0;if(e){const n=e.insertRow(0);n.insertCell(0).textContent="&nbsp;",t=n.getBoundingClientRect().height,e.deleteRow(0)}return t})(he.current);e&&(t.current=e,ie())}})(),null==(t=ce.current)||t.update()),(()=>{var e,t,n;if(he.current&&(null==(e=he.current)?void 0:e.getElementsByClassName("k-grid-edit-row").length)>0){Pe.current=!1,null!=(t=document.activeElement)&&t.closest(".k-grid-edit-row")?Ne.current=document.activeElement:Ne.current=void 0;const e=Array.from(null==(n=he.current)?void 0:n.getElementsByClassName("k-grid-edit-row"));e.length>Ae.current.length?Re.current=e.filter((e=>!Ae.current.includes(e)))[0]:1===e.length&&(Re.current=e[0],Pe.current=!0),Ae.current=e}})(),r.tableKeyboardNavigation.onComponentDidUpdate({scope:ke.current||void 0,contextStateRef:me,navigationStateRef:pe,focusFirst:we.current,newEditableRow:Re.current,singleEditRow:Pe.current,lastActiveElement:Ne.current,navigatable:e.gridProps.navigatable}),we.current=!1,Re.current=void 0})),y.useEffect((()=>{if(o.canUseDOM){const e={rootMargin:"0px",threshold:.9};fe.current=window.IntersectionObserver&&new window.IntersectionObserver(ae,e)||null}}),[ae]),y.useEffect((()=>{var e;let t;return o.canUseDOM&&window.ResizeObserver&&(t=new window.ResizeObserver((()=>{oe(),Ke&&U()})),t.observe(null==(e=te())?void 0:e.body)),()=>{null==t||t.disconnect()}}),[]),y.useImperativeHandle(se,(()=>({get element(){return ne()},props:e.gridProps,get columns(){return g()},scrollIntoView:t=>{var n;if(null==(n=ce.current)||!n.container||"none"===e.gridProps.scrollable)return;const{rowIndex:l}=t;Le.current=l;const r=ne();if(fe.current&&r){fe.current.disconnect();const e=r.querySelector(`[absolute-row-index="${Le.current}"]`);e?fe.current.observe(e):le(t)}},fitColumns:e=>{de.current.dblClickHandler(null,e)},exportAsPdf:A}))),y.useImperativeHandle(e.gridRef,(()=>se.current)),y.useMemo((()=>{de.current=new Nn(X)}),[e.gridProps.onColumnResize,e.columnsRef]),y.useMemo((()=>{ue.current=new Pn(O,K,V)}),[e.gridProps.onColumnReorder,e.gridProps.onGroupChange,e.gridProps.group,e.columnsRef,e.gridProps.groupable]),de.current.resizable=e.gridProps.resizable||!1,de.current.columns=e.columnsRef,de.current.columnsState=o.cloneArray(e.columnsState),ue.current.reorderable=e.gridProps.reorderable||!1,ue.current.groupable=qe,ue.current.columns=e.columnsRef,ue.current.dir=He,(()=>{var t;const{virtualTotal:n,virtualPageSize:l,gridProps:r}=e,a=ce.current,i=e.gridProps.rowHeight||(null==(t=r.minRowHeightRef)?void 0:t.current)||0;a&&(a.fixedScroll=r.fixedScroll||!1,a.PageChange=S,a.pageSize=l,a.scrollableVirtual=Ke,a.container=Ce.current,a.tableBody=he.current,a.scrollHeightContainer=xe.current,a.table=Ee.current,(!a.rowHeightService||a.total!==n)&&i&&(a.total=n,a.rowHeightService=new o.RowHeightService(n,i)))})(),y.createElement(Q.Provider,{value:{isClient:t,rowReorder:z,activeDragRowDataItemRef:Be,reorderRowDragTargetRef:Oe,reorderRowDropTargetRef:ze,dir:He,getCellPositionStyle:e=>void 0!==e.left?"rtl"!==He?{left:e.left,right:e.right}:{left:e.right,right:e.left}:{},dataItemKey:e.gridProps.dataItemKey,columnsState:e.columnsState,columnsRef:e.columnsRef,onColumnsStateChange:B,groupable:e.gridProps.groupable,group:e.gridProps.group,defaultGroup:e.gridProps.defaultGroup,groupChange:F,selectionRelease:t=>{var n;if(e.gridProps.onSelectionChange&&We.enabled){const l=ee()[t.startRowIndex],o=ee()[t.endRowIndex],a={syntheticEvent:void 0,target:se.current,selectedField:"",componentId:e.id,dataItems:ee(),dataItem:null,startDataItem:l,endDataItem:o,...t},i=r.getSelectedState({event:a,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey});C(a,i)}},pagerPageChange:e=>{I({skip:e.skip,take:e.take},e.syntheticEvent,e.targetEvent)},onContextMenu:(l,r,o)=>{if(e.gridProps.onContextMenu&&t){const t={target:se.current,syntheticEvent:l,nativeEvent:l.nativeEvent,dataItem:r,field:o};Z(e.gridProps.onContextMenu,t)}e.gridProps.contextMenu&&(e=>{e.event.preventDefault(),a({...n,show:!0,offset:{left:e.event.pageX,top:e.event.pageY},dataItem:e.dataItem,field:e.field})})({event:l,dataItem:r,field:o})},rowClick:(t,n)=>{e.gridProps.onRowClick&&"TD"===t.target.nodeName&&Z(e.gridProps.onRowClick,{dataItem:n,...J(t)})},rowDblClick:(t,n)=>{e.gridProps.onRowDoubleClick&&"TD"===t.target.nodeName&&Z(e.gridProps.onRowDoubleClick,{dataItem:n,...J(t)})},cellClick:(t,n,l)=>{if(_e.enabled&&"incell"===_e.mode&&e.gridProps.dataItemKey){const o=r.editReducer(e.gridProps.edit,{type:r.EDIT_ACTION.ENTER_FIELD_EDIT,payload:{id:n[e.gridProps.dataItemKey],field:l}});e.gridProps.onEditChange&&Z(e.gridProps.onEditChange,{edit:o,...J(t)})}},headerCellClick:h,itemChange:t=>{e.gridProps.onItemChange&&Z(e.gridProps.onItemChange,{...J(t.syntheticEvent),dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,value:t.value})},onDialogEditCancel:t=>{e.gridProps.onItemChange&&e.gridProps.onEditChange&&Z(e.gridProps.onEditChange,{edit:{},...J(t.syntheticEvent)})},onDialogEditSubmit:t=>{e.gridProps.onItemChange&&Z(e.gridProps.onItemChange,{...J(t.syntheticEvent),dataItem:t.dataItem,field:void 0,value:void 0})},sortable:e.gridProps.sortable,sort:e.gridProps.sort,defaultSort:e.gridProps.defaultSort,sortChange:T,filterable:e.gridProps.filterable,filter:e.gridProps.filter,defaultFilter:e.gridProps.defaultFilter,filterOperators:e.gridProps.filterOperators||Ht,filterChange:(t,n)=>{x(e.gridProps.onFilterChange,{filter:t},{filter:t,skip:0},n)},applyHighlightDescriptor:t=>{if(!t||0===t.length)return void D({});const n=((e,t,n,r)=>t.reduce(((t,o)=>({...t,...Bn(l.filterBy(e,o),o,n,r)})),{}))(e.gridProps.data,t,e.columnsRef,e.gridProps.dataItemKey);D({...n})},highlight:e.gridProps.highlight,searchChange:t=>{const n=e.gridProps.searchFields||e.columnsRef.map((e=>e.field))||[],l=t.nativeEvent.target.value,r={logic:"or",filters:n.filter((e=>void 0!==e)).map((e=>{var t;return"string"==typeof e?{field:e,value:l,operator:"contains"}:{value:l,operator:null!=(t=e.operator)?t:"contains",field:e.field,ignoreCase:e.ignoreCase}}))};x(e.gridProps.onSearchChange,{search:r},{},t.syntheticEvent)},exportAsPdf:A,onHeaderSelectionChange:t=>{if(e.gridProps.onHeaderSelectionChange&&We.enabled){const n=ee();Z(e.gridProps.onHeaderSelectionChange,{select:t.syntheticEvent.target.checked?n.reduce(((t,n)=>(e.gridProps.dataItemKey&&void 0!==o.getter(e.gridProps.dataItemKey)(n)&&(t[o.getter(e.gridProps.dataItemKey)(n)]=!0),t)),{}):{},field:t.field,nativeEvent:t.syntheticEvent&&t.syntheticEvent.nativeEvent,syntheticEvent:t.syntheticEvent,target:se.current,dataItems:n})}},columnGroupChange:(e,t)=>{const n=ue.current.getCurrentGroupsLength;V(e,n,t)},onKeyDown:n=>{r.tableKeyboardNavigation.onKeyDown(n,{navigatable:e.gridProps.navigatable||!1,contextStateRef:me,navigationStateRef:pe,onNavigationAction:f,columns:g()}),r.tableKeyboardNavigation.onGetSnapshotBeforeUpdate({document:te(),contextStateRef:me,navigationStateRef:pe});const l={dataItems:ee(),mode:We.mode,cell:We.cell,componentId:e.id,selectedField:"",...J(n)};e.gridProps.onKeyDown&&t&&Z(e.gridProps.onKeyDown,l)},onFocus:t=>{r.tableKeyboardNavigation.onFocus(t,{navigatable:!!e.gridProps.navigatable,contextStateRef:me})},scrollHandler:n=>{if(n.target!==n.currentTarget)return;clearTimeout(De.current),ce.current&&(ce.current.table=Ee.current);const l=n.currentTarget.scrollLeft,r=n.currentTarget.scrollTop;e.gridProps.columnVirtualization&&(!Ke||r===Te.current)&&(De.current=window.setTimeout((()=>{ie()}),0)),e.gridProps.scrollLeftRef&&(e.gridProps.scrollLeftRef.current=l),Ie.current&&Ie.current.setScrollLeft(l),ye.current&&ye.current.setScrollLeft(l),ce.current&&r!==Te.current&&ce.current.scrollHandler(n),e.gridProps.onScroll&&t&&Z(e.gridProps.onScroll,{...J(n)}),Te.current=r},selectionChange:t=>{var n;if(e.gridProps.onSelectionChange&&We.enabled){const{event:l,dataItem:o,dataIndex:a,columnIndex:i}=t,s={...J(l),dataItem:o,startColIndex:i,endColIndex:i,startRowIndex:a,endRowIndex:a,dataItems:ee(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:We.mode,cell:We.cell,isDrag:!1,componentId:e.id,selectedField:""};Z(e.gridProps.onSelectionChange,{...s,select:e.gridProps.dataItemKey?r.getSelectedState({event:s,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey}):{}})}},mobileMode:Ue,adaptiveColumnMenuRef:Ge.current,adpativeTitle:e.gridProps.adaptiveTitle,adaptive:e.gridProps.adaptive,dispatchDetailExpand:(t,n)=>{var l;if(r.getDetailExpandableOptions(e.detailExpandable).enabled){const o=r.detailExpandReducer(null!=(l=e.gridProps.detailExpand)?l:{},t);e.gridProps.onDetailExpandChange&&Z(e.gridProps.onDetailExpandChange,{...J(n),detailExpand:o})}},dispatchGroupExpand:(t,n)=>{var l;const o=r.getGroupExpandableOptions("object"==typeof e.gridProps.groupable?!1!==e.gridProps.groupable.expandable:e.gridProps.groupable);if(o.enabled){const a=r.groupExpandReducer(null!=(l=e.gridProps.groupExpand)?l:[],t,o);e.gridProps.onGroupExpandChange&&Z(e.gridProps.onGroupExpandChange,{...J(n),groupExpand:a})}},columnResizeRef:de,dragLogicRef:ue,navigationStateRef:pe,tableElementRef:Ee,tableBodyElementRef:he,headerElementRef:ve,containerElementRef:Ce,headTableElementRef:be,elementRef:ke,virtualScrollHeightContainerRef:xe,footerRef:ye,headerRef:Ie,vsRef:ce}},y.createElement(r.TableKeyboardNavigationContext.Provider,{value:me.current},e.children),y.createElement(Dn,{show:n.show&&(null==p?void 0:p.length),dataItem:n.dataItem,field:n.field,items:p,offset:n.offset,onClose:c,onSelect:t=>{var n,l,o,a,i,s,u,m,p;const g=t.event.item,f={target:se.current,syntheticEvent:t.event.syntheticEvent,nativeEvent:t.event.nativeEvent,menuItem:g,...t};e.gridProps.onContextMenuItemClick&&Z(e.gridProps.onContextMenuItemClick,f);const v=ee(),C={selectedField:"",componentId:e.id,dataItems:v,dataItem:t.dataItem,startRowIndex:-1,endRowIndex:-1,startColIndex:-1,endColIndex:-1,ctrlKey:!1,altKey:!1,metaKey:!1,shiftKey:!1,isDrag:!1,...r.getSelectionOptions(e.gridProps.selectable),...f},x=v.findIndex((e=>e===t.dataItem));switch(null==(n=g.data)?void 0:n.action){case"SortCommand":if(d){const e=null==(l=g.name)?void 0:l.toLowerCase().includes("asc"),n=(null==(o=g.name)?void 0:o.toLowerCase().includes("desc"))?"desc":void 0,r=e?"asc":n,a=g.name?r:void 0;h(t.event.syntheticEvent,d,a)}break;case"SelectRowCommand":b(C);break;case"SelectAllRowsCommand":E(C);break;case"ExportPDFCommand":A();break;case"ClearSelectionCommand":k(C);break;case"ReorderRowCommand":Be.current=t.dataItem,null!=(a=g.name)&&a.toLowerCase().includes("rowup")&&x>0&&z(t.event.syntheticEvent,x-1,"before"),null!=(i=g.name)&&i.toLowerCase().includes("rowdown")&&x<v.length-1&&z(t.event.syntheticEvent,x+1,"after"),null!=(s=g.name)&&s.toLowerCase().includes("rowtop")&&z(t.event.syntheticEvent,0,"before"),null!=(u=g.name)&&u.toLowerCase().includes("rowbottom")&&z(t.event.syntheticEvent,v.length-1,"after");break;case"CopySelectionCommand":j(r.ClipboardActionType.copy,t.event.nativeEvent,{copyHeaders:!(null!=(m=g.name)&&m.toLowerCase().includes("noheaders"))},t.dataItem,t.field);break;case"PasteCommand":j(r.ClipboardActionType.paste,t.event.nativeEvent,{copyHeaders:!(null!=(p=g.name)&&p.toLowerCase().includes("noheaders"))},t.dataItem,t.field)}c()}}),e.gridProps.pdf&&y.createElement(Gn,{gridProps:e.gridProps,innerGrid:e.innerGrid,pdf:"object"==typeof e.gridProps.pdf?e.gridProps.pdf:{},onPdfExport:async t=>{var n,l;null!=(n=e.gridProps)&&n.onPdfExport&&await(null==(l=e.gridProps)?void 0:l.onPdfExport(t))},ref:e=>s.current=e}))},zn=e=>{const t=y.useContext(Q);return y.createElement("colgroup",{ref:e=>{t.columnResizeRef.current.colGroupMain=e,t.columnResizeRef.current.initWidths()}},e.children)},Hn=e=>{const t=y.useContext(Q);return y.createElement(r.TableSelection,{selectable:e.selectable,onRelease:t.selectionRelease,childRef:e=>{t.tableElementRef.current=e,t.headTableElementRef.current=e}},y.createElement("table",{ref:t.headTableElementRef,className:e.tableClassName},e.children))},Kn=e=>{const t=y.useContext(Q);return y.createElement(r.DropClue,{ref:t.dragLogicRef.current.refDropElementClue})},Vn=e=>{const t=y.useContext(Q);return y.createElement(r.DragClue,{ref:t.dragLogicRef.current.refDragElementClue})},qn=e=>{const t=y.useContext(Q);return y.createElement(y.Fragment,null,e.rowReorderable?y.createElement(o.DragAndDrop,null,e.children):j(e.children,{ref:t.tableBodyElementRef}))};function Wn(e){const t=e.replace(/^pager\.([a-z])/,((e,t)=>"grid.pager"+t.toUpperCase()));return{messageKey:t,defaultMessage:rt[t]}}const _n=e=>{const t=y.useContext(Q);return j(e.children,{onPageChange:t.pagerPageChange,messagesMap:Wn,dir:t.dir})},Un=e=>{var t;const n=y.useContext(Q),l={...e.tableStyle};return null!=(t=n.vsRef.current)&&t.tableTransform&&(l.transform=n.vsRef.current.tableTransform),y.createElement(r.TableSelection,{selectable:e.selectable,onRelease:n.selectionRelease,childRef:e=>{n.tableElementRef.current=e}},y.createElement("table",{className:e.tableClassName,role:"presentation",style:l,ref:n.tableElementRef},e.children))},jn=e=>{const t=y.useContext(Q);return j(e.children,{ref:t.elementRef,onKeyDown:t.onKeyDown,onFocus:t.onFocus})},$n=e=>{const t=y.useContext(Q);return j(e.children,{ref:t.containerElementRef,onScroll:t.scrollHandler})},Xn=e=>{const t=y.useContext(Q);return y.createElement("div",{ref:t.virtualScrollHeightContainerRef})},Yn="before",Jn="after",Qn="forbidden";const Zn=e=>null==e?void 0:e.ownerDocument.documentElement,el=e=>null==e?void 0:e.ownerDocument.defaultView,tl={zIndex:"19000",position:"absolute",display:"none",visibility:"hidden"},nl={zIndex:"20000",display:"flex",position:"fixed",visibility:"hidden",pointerEvents:"none"},ll=e=>{const{rowReorderSettings:n,columns:l,unstyled:r}=e,{rowReorder:a,reorderRowDragTargetRef:s,reorderRowDropTargetRef:c,activeDragRowDataItemRef:d,tableBodyElementRef:u}=t.useContext(Q),[m,g]=t.useState(!1),[f,h]=t.useState(i.cancelIcon),v=t.useRef(null),C=t.useRef(null),E=t.useRef(null),b=t.useRef(null),k=t.useRef(!1),x=t.useRef(null),y=t.useRef(null),I="object"==typeof n?n.enabled:n;t.useEffect((()=>{u.current=v.current}),[]),o.useDraggable(v,{onPress:e=>{var t;const n=e.originalEvent.target;n.closest(".k-drag-cell")&&(b.current=e.offsetY,k.current=!0,s.current=n.closest(".k-table-row"),y.current=null==(t=s.current)?void 0:t.parentElement)},onDragStart:e=>{!k.current||!I||!d.current||(s.current&&(s.current.style.userSelect="none"),g(!0))},onDrag:e=>{if(!k.current&&!C.current)return;const{clientX:t,clientY:n}=e,l=t,r=n-b.current;C.current&&(C.current.style.left=`${l}px`,C.current.style.top=`${r}px`,C.current.style.visibility="visible"),S(e)},onDragEnd:e=>{var t;if(!I||!d.current)return;g(!1);const n=Number(null==(t=c.current)?void 0:t.getAttribute("absolute-row-index"));a(e,n,x.current),k.current=!1,y.current=null}});const S=e=>{x.current=P(e),w()},w=()=>{var e;if(x.current===Qn||!c.current)return void R();N();const t=function(e){const{clientTop:t,clientLeft:n}=Zn(e),{pageYOffset:l,pageXOffset:r}=el(e),{top:o,left:a}=e.getBoundingClientRect();return{top:o+l-t,left:a+r-n}}(c.current);let n=t.top;const l=t.left+((null==(e=E.current)?void 0:e.offsetWidth)||0)/2;x.current===Jn&&(n+=c.current.offsetHeight),E.current&&(E.current.style.top=`${n}px`,E.current.style.left=`${l}px`,E.current.style.visibility="visible")},R=()=>{E.current&&(E.current.style.display="none")},N=()=>{E.current&&(E.current.style.display="")},P=e=>{var t;if(c.current===s.current||!c.current)return Qn;if((null==(t=c.current)?void 0:t.parentElement)!==y.current)return Qn;const n=c.current.getBoundingClientRect(),l=n.height/2,r=e.clientY,o=n.top;let a=null;r<o+l?a=Yn:r>=o+n.height-l&&(a=Jn),(a===Yn&&c.current===s.current.nextElementSibling||a===Jn&&c.current===s.current.previousElementSibling)&&(a=Qn);const d=a===Qn?i.cancelIcon:i.insertMiddleIcon;return h(d),a},M=t.useMemo((()=>{if(d.current){if(!n.dragClue){const e=l.find((e=>!e.hidden&&"data"===e.columnType));return d.current[e.field]}return"string"==typeof n.dragClue?n.dragClue:n.dragClue(d.current)}}),[d.current]);return t.createElement(t.Fragment,null,m&&p.createPortal(t.createElement(t.Fragment,null,t.createElement("div",{ref:E,style:tl,className:o.classNames(r.rowReorder({dropIndicatorMain:!0,dropIndicatorDirection:!0}))},t.createElement("div",{className:"k-drop-hint-start"}),t.createElement("div",{className:"k-drop-hint-line"})),t.createElement("div",{ref:C,style:nl,className:o.classNames(r.rowReorder({dragClueMain:!0,dragClueOperation:!0}))},t.createElement(o.SvgIcon,{className:"k-drag-status",icon:f}),M)),document.body),j(e.children,{ref:v}))},rl=()=>t.createElement(o.SvgIcon,{icon:i.reorderIcon}),ol=e=>{let t=null;const n=e.unstyled,l=n&&n.uGrid?n.uGrid:o.uGrid,r=o.classNames(l.td({selected:e.isSelected,highlighted:e.isHighlighted,sorted:e.isSorted,alt:e.isAlt}),e.className,["k-drag-cell",""+(e.rowReorderable?"":"k-disabled")]);return t={colSpan:e.colSpan,style:e.style,className:r,role:"gridcell","aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,"aria-disabled":!e.rowReorderable,[ft]:e.columnIndex},{tdProps:t}},al=e=>{const t=a.useLocalization(),n=y.useContext(Q),l=r.useTableKeyboardNavigation(e.id),o=dt(e.dataItem,e.field);return{"aria-label":t.toLanguageString(Ke,rt[Ke]),...l,onMouseDown:()=>e.rowReorderable?n.activeDragRowDataItemRef.current=e.dataItem:null,onContextMenu:o}},il=e=>{const{cellProps:n}=e,{tdProps:l}=ol(n),r=al(n);return t.createElement("td",{...l,...r,style:{touchAction:"none"}},t.createElement(rl,null))},sl=e=>y.createElement(Pt,{...e}),cl={height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},dl=e=>{var t;return y.createElement(y.Fragment,null,e.showLoader?null!=(t=e.loader)?t:y.createElement("div",{className:"k-loading-mask"},y.createElement("div",{className:"k-loading-color"}),y.createElement("div",{style:cl},y.createElement(f.Loader,{size:"large",type:"converging-spinner"}))):null)},ul=e=>({lockedColumn:e.some((e=>e.locked))}),ml=e=>({multiColumn:e.some((e=>e.children&&e.children.length>0))}),pl=e=>({columnCellTemplate:e.some((e=>"data"===e.columnType&&e.cells))}),gl=e=>({columnMenu:e.some((e=>e.columnMenu))}),fl=e=>y.Children.toArray(e.children).some((e=>!(!e||!e.type||"KendoReactGridColumn"!==e.type.displayName)&&e.props.hidden)),hl=e=>y.Children.toArray(e.children).some((e=>!!(e&&e.type&&"KendoReactGridToolbar"===e.type.displayName&&e.props&&e.props.children)&&y.Children.toArray(e.props.children).some((e=>e.type&&("KendoReactGridToolbarSort"===e.type.displayName||"KendoReactGridToolbarFilter"===e.type.displayName||"KendoReactGridToolbarCheckboxFilter"===e.type.displayName||"KendoReactGridToolbarColumnsChooser"===e.type.displayName||"KendoReactGridToolbarGroup"===e.type.displayName||"KendoReactGridToolbarAIAssistant"===e.type.displayName))))),vl=e=>{const t=r.getSelectionOptions(e.selectable),n=r.getEditableOptions(e.editable),l=e.sortable&&Ln(e.sortable),o=e.pageable&&kn(e.pageable);return{cells:!!e.cells,pdf:!!e.pdf,detail:!!e.detail,rows:!!e.rows,highlight:!!e.highlight,editableInline:"inline"===n.mode,selectionMultiple:t.enabled&&"multiple"===t.mode,selectionDrag:t.enabled&&t.drag,columnMenu:!!e.columnMenu,filterOperators:!!e.filterOperators,groupable:!!e.groupable,group:!!e.group,groupExpand:!!e.groupExpand,customPager:!!e.pager,clipboard:!!e.clipboard,contextMenu:!!e.contextMenu,serverGrid:!e.isClient,scrollableVirtual:"virtual"===e.scrollable,pageableInput:!(!e.pageable||"input"!==o.type),sortableMultiple:!(!e.sortable||"multiple"!==l.mode),hiddenColumns:fl(e)}},Cl=e=>({...ul(e),...ml(e),...pl(e),...gl(e)}),El=e=>({toolbarTools:hl(e)}),bl=(e,t)=>{const n={...vl(e),...Cl(t),...El(e)};return Object.keys(n).filter((e=>!0===n[e]))};const kl=e=>{var n;const l=a.useLocalization(),d=o.useAdaptiveModeContext(),g=t.useContext(Q),f=(e,t)=>{g.onDialogEditSubmit&&g.onDialogEditSubmit({dataItem:e,syntheticEvent:t})},E=e=>{g.onDialogEditCancel&&g.onDialogEditCancel({syntheticEvent:e})},b=e=>{const{validationMessage:n,visited:l,id:o,valid:a,editor:i,value:d,label:u,...m}=e,p=g.mobileMode?"large":"medium";switch(i){case"numeric":return t.createElement(t.Fragment,null,t.createElement(h.Label,{editorId:o,className:"k-form-label"},u,":"),t.createElement("div",{className:"k-form-field-wrap"},t.createElement(s.NumericTextBox,{...m,size:p,value:d,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),n&&t.createElement(h.Error,null,n)));case"date":return t.createElement(t.Fragment,null,t.createElement(h.Label,{editorId:o,className:"k-form-label"},u,":"),t.createElement("div",{className:"k-form-field-wrap"},t.createElement(c.DatePicker,{valid:!0,...m,value:d,adaptive:g.mobileMode,size:p,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),n&&t.createElement(h.Error,null,n)));case"boolean":return t.createElement("div",{className:"k-form-field-wrap"},t.createElement(h.Label,{editorId:o,className:"k-form-label"},u,":  ",t.createElement(s.Checkbox,{...m,size:p,value:d,[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),n&&t.createElement(h.Error,null,n)));default:return t.createElement(t.Fragment,null,t.createElement(h.Label,{editorId:o,className:"k-form-label"},u,":"),t.createElement("div",{className:"k-form-field-wrap"},t.createElement(s.TextBox,{...m,size:p,value:d||"",[r.TABLE_PREVENT_SELECTION_ELEMENT]:!0}),n&&t.createElement(h.Error,null,n)))}},k=l.toLanguageString(Ne,rt[Ne]),x=l.toLanguageString(Pe,rt[Pe]),y=l.toLanguageString(Me,rt[Me]),I={animation:!0,navigatable:!1,navigatableElements:[],expand:!0,title:g.adpativeTitle||k,suffixActions:t.createElement(m.Button,{svgIcon:i.xIcon,onClick:E,fillMode:"flat"}),animationStyles:d&&g.adaptiveColumnMenuRef<=d.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:d&&g.adaptiveColumnMenuRef<=d.small?"fullscreen":void 0},{customEditDialog:S}=e,w=null==(n=e.columns)?void 0:n.filter((e=>e.editable));return t.createElement(t.Fragment,null,p.createPortal(t.createElement(t.Fragment,null,g.mobileMode?t.createElement(t.Fragment,null,S?t.createElement(S,{columns:e.columns,dataItem:e.dataItem,onSubmit:f,onCancel:E}):t.createElement(C.Form,{initialValues:e.dataItem,onSubmit:f,id:"kendo-grid-edit-dialog",render:e=>t.createElement(u.ActionSheet,{...I},t.createElement(u.ActionSheetContent,null,t.createElement(C.FormElement,null,null==w?void 0:w.map((e=>t.createElement(C.FieldWrapper,{key:e.field},t.createElement(C.Field,{name:e.field,id:e.field,editor:e.editor,component:b,label:e.title||e.field,validator:null==e?void 0:e.validator})))))),t.createElement(u.ActionSheetFooter,null,t.createElement(m.Button,{onClick:E,type:"reset",icon:"cancel",size:"large",svgIcon:i.cancelIcon},y),t.createElement(m.Button,{type:"submit",themeColor:"primary",size:"large",disabled:!e.allowSubmit||!e.valid,onClick:e.onSubmit,icon:"save",svgIcon:i.saveIcon},x)))})):S?t.createElement(S,{columns:e.columns,dataItem:e.dataItem,onSubmit:f,onCancel:E}):t.createElement(C.Form,{initialValues:e.dataItem,onSubmit:f,id:"kendo-grid-edit-dialog",render:e=>t.createElement(v.Dialog,{title:k,width:450,onClose:e=>E(e.syntheticEvent)},t.createElement(C.FormElement,null,null==w?void 0:w.map((e=>t.createElement(C.FieldWrapper,{key:e.field},t.createElement(C.Field,{name:e.field,id:e.field,editor:e.editor,component:b,label:e.title||e.field,validator:null==e?void 0:e.validator}))))),t.createElement(v.DialogActionsBar,{layout:"start"},t.createElement(m.Button,{type:"submit",themeColor:"primary",disabled:!e.allowSubmit||!e.valid,onClick:e.onSubmit,icon:"save",svgIcon:i.saveIcon},x),t.createElement(m.Button,{onClick:E,type:"reset",icon:"cancel",svgIcon:i.cancelIcon},y)))})),document.body))},xl=e=>{const t=y.useContext(Q),n=on(e.cellProps),l=ct(e.cellProps);return e.isCustom&&(t.isClient||e.isClient)?j(e.children,{tdProps:{...e.tdProps,...n},...l}):e.children&&j(e.children,{...n})},yl=e=>{var t;const{cellProps:n}=e,{tdProps:l,content:r}=an(n);if(null===(null==(t=n._rowSpan)?void 0:t.count))return null;const o=_(n),a=sn(n);if(a){const e=W(a);return y.createElement(xl,{cellProps:o,tdProps:l,isCustom:!0,isClient:e},y.createElement(a,{...o,tdProps:l},r))}const i=l?y.createElement("td",{...l},r):null;return y.createElement(xl,{cellProps:o,tdProps:l},i)},Il=e=>{const t=y.useContext(Q),n=bt(e.cellProps),l=ct(e.cellProps);return e.isCustom&&(t.isClient||e.isClient)?j(e.children,{tdProps:{...e.tdProps,...n},...l}):e.children&&j(e.children,{...n})},Sl=e=>{const{cellProps:t}=e,{tdProps:n}=Ct(t),l=_(t),r=y.createElement(pt,{cellProps:l}),o=Et(t);if(o){const e=W(o);return y.createElement(Il,{cellProps:l,tdProps:n,isCustom:!0,isClient:e},y.createElement(o,{...l,tdProps:n},r))}return y.createElement(Il,{cellProps:l,tdProps:n},y.createElement("td",{...n},r))},wl=e=>{var t;const n=y.useContext(Q),l=o.useId(),r=a.useLocalization(),i=null!=(t=e.isSelected)?t:o.getNestedValue(e.field,e.dataItem),s="boolean"==typeof i&&i,c=y.useCallback((t=>{null==n||n.selectionChange({event:t,dataItem:e.dataItem,dataIndex:e.rowDataIndex,columnIndex:e.columnIndex})}),[n,e.columnIndex,e.rowDataIndex,e.dataItem]);return y.createElement("span",{className:"k-checkbox-wrap"},y.createElement("input",{id:l,tabIndex:-1,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md","aria-label":r.toLanguageString(ze,rt[ze]),"aria-checked":s,checked:s,onChange:c}))},Rl=e=>({...r.useTableKeyboardNavigation(e.id),onContextMenu:dt(e.dataItem,e.field),style:ut(e)}),Nl=e=>{const t=y.useContext(Q),n=Rl(e.cellProps),l=ct(e.cellProps);return e.isCustom&&(t.isClient||e.isClient)?j(e.children,{tdProps:{...e.tdProps,...n},...l}):e.children&&j(e.children,{...n})},Pl=e=>{const t=o.classNames("k-table-td",e.className);return{tdProps:{colSpan:e.colSpan,style:e.style,className:t,"aria-colindex":e.ariaColumnIndex,role:"gridcell"}}},Ml=e=>{var t,n;return null==(n=null==(t=e.cells)?void 0:t.select)?void 0:n[e.rowType||"data"]},Tl=e=>{const{cellProps:t}=e,{tdProps:n}=Pl(t),l=y.createElement(wl,{key:1,...t}),r=_(t),o=Ml(t);if(o){const e=W(o);return y.createElement(Nl,{cellProps:r,tdProps:n,isCustom:!0,isClient:e},y.createElement(o,{...r,tdProps:n},l))}const a="groupHeader"!==t.rowType?y.createElement("td",{...n},l):null;return y.createElement(Nl,{cellProps:r,tdProps:n},a)},Dl=e=>{const{cellProps:t}=e,{tdProps:n}=Pl(t),l=Rl(t),r=ct(t),o=y.createElement(wl,{key:1,...t}),a=Ml(t);return a?y.createElement(a,{...t,...r,tdProps:{...n,...l}},o):"groupHeader"!==t.rowType?y.createElement("td",{...n,...l},o):null},Ll=e=>{const t=y.useContext(Q),n=st(e.cellProps),l=ct(e.cellProps);return e.isCustom&&(t.isClient||e.isClient)?j(e.children,{tdProps:{...e.tdProps,...n},...l}):e.children&&j(e.children,{...n})},Al=e=>{const{cellProps:t}=e,n=_(t),{tdProps:l,content:r}=at(t),o=it(t);if(o){const e=W(o);return y.createElement(Ll,{cellProps:n,tdProps:l,isCustom:!0,isClient:e},y.createElement(o,{...n,tdProps:l},r))}const a="groupHeader"!==t.rowType?y.createElement("td",{...l},r):null;return y.createElement(Ll,{cellProps:n,tdProps:l},a)},Fl=e=>{const t=al(e.cellProps);return e.children&&j(e.children,{...t})},Gl=e=>{const{cellProps:n}=e,{tdProps:l}=ol(n);return t.createElement(Fl,{cellProps:n},t.createElement("td",{...l,style:{touchAction:"none"}},t.createElement(rl,null)))},Bl=e=>{const t=In(e);return j(e.children,{...t})},Ol=e=>{const{dataItem:t,dataIndex:n,id:l}=e,{tdProps:r}=yn(e);return y.createElement(Bl,{id:l,dataItem:t},y.createElement("td",{...r},y.createElement(e.detail,{dataItem:t,dataIndex:n})))},zl=e=>{const{cellProps:t,renderToggleCell:n}=e,l=y.useContext(Q),r=pn(t,n),o=ct(t);if(e.isCustom)return l.isClient||e.isClient?j(e.children,{tdProps:e.tdProps?{...e.tdProps,...r}:null,td2Props:e.td2Props?{...e.td2Props,onContextMenu:r.onContextMenu}:null,...o}):j(e.children,{...r});const a=e.td2Props?y.createElement("td",{...e.td2Props,onContextMenu:r.onContextMenu}):null;return y.createElement(y.Fragment,null,e.children&&j(e.children,{...r}),a)},Hl=e=>{const{cellProps:t}=e,n=_(t),{tdProps:l,td2Props:r,content:o,renderToggleCell:a}=un(t),i=mn(t);if(i){const e=W(i);return y.createElement(zl,{cellProps:n,tdProps:l,td2Props:r,isCustom:!0,isClient:e,renderToggleCell:!0},y.createElement(i,{...n,tdProps:l,td2Props:r},o))}const s=l?y.createElement("td",{...l,key:null==l?void 0:l.key},o):null;return y.createElement(zl,{cellProps:n,renderToggleCell:a,tdProps:l,td2Props:r,content:o},s)},Kl=y.forwardRef(((e,t)=>{var n,i,s,c,d,u,m,p,g,f,h,v;const C=e.id+"-role-element-id",E=e.navigatable?C:"";let b=e.columnsState||[];const k=e=>{const t=e.filter((e=>e&&e.type&&"KendoReactGridColumn"===e.type.displayName));return D(t,b,{prevId:0,idPrefix:E})},x=e=>{const t=(()=>{const e=[],t=(n,l)=>null==n?void 0:n.forEach((n=>{const r=n.hidden||l;e.push({...n,hidden:r}),t(n.children,r)}));return t(b,!1),e})();return e.filter((e=>{var n;return!(e.hidden||null!=(n=t.find((t=>t.id===e.id)))&&n.hidden)}))},I=(t,n)=>{t.filter((e=>"checkbox"===e.columnType)).forEach((t=>{t.width=t.width||"50px",t.defaultCell=e.isClient?Dl:Tl,t.defaultHeaderCell=hn,t._type="edit"})),void 0!==Q&&t.filter((e=>"reorder"===e.columnType)).forEach((t=>{t.width=t.width||"50px",t.defaultCell=e.isClient?il:Gl,t.defaultHeaderCell=sl,t.sortable=!1,t.filterable=!1,t.editable=!1}));const l=H(b);((e,t)=>{const n=e=>{var l;const r=t.find((t=>t.id===e.id));return r?(r.children=null==(l=e.children)?void 0:l.map(n),r):O(e)};b=e.filter((e=>-1===e.parentIndex)).map(n)})(t,l);const a={id:"",resizable:!0,width:"32px",title:" ",declarationIndex:-1,orderIndex:-1,children:[],parentIndex:-1,depth:0,colSpan:0,headerColSpan:0,rowSpan:0,left:0,right:0,index:0,rightBorder:!1,ariaColumnIndex:0,isAccessible:!0};let i=0;if(se.enabled&&e.detail){const n={...a,_type:"expand",id:r.tableKeyboardNavigationTools.generateNavigatableId(""+i++,"expand","column"),defaultCell:e.isClient?mt:Al,field:se.column,headerClassName:o.classNames(J.hierarchyCell({}))};t.unshift(n),b.unshift(l.find((e=>e.id===n.id))||O(n))}for(let o=0;o<n;o++){const n={...a,isAccessible:!1,defaultCell:e.isClient?gn:Hl,id:r.tableKeyboardNavigationTools.generateNavigatableId(""+i++,"group","column"),field:"value",locked:e.lockGroups};t.unshift(n),b.unshift(l.find((e=>e.id===n.id))||O(n))}t.slice(i).forEach((e=>{e.parentIndex>=0&&(e.parentIndex+=i),e.rowSpannable=void 0!==e.rowSpannable?U(e.rowSpannable):ve}))},w=()=>e.isClient?M:G,R=t=>{const n=[];let l=null,r=0;if(Se.forEach(((e,o)=>{const a=parseFloat((e.width||"").toString())||10;if(r)return r--,void(l&&(l.width+=a));const i=Math.min(((e,t)=>"function"==typeof e.colSpan?e.colSpan({dataItem:t,column:e}):e.colSpan||1)(e,t),Se.length-o);r=i-1,l={width:a,colSpan:i,columnIndex:o},n.push(l)})),e.columnVirtualization){const t=K.current||0,l=W.current||parseFloat(((e.style||{}).width||"").toString());return function(e){const{cellModels:t,columns:n=[],tableViewPortWidth:l,scrollLeft:r}=e;let o=0,a=t.length-1,i=0,s=0;for(let e=0;e<t.length;e++)if(!n[t[e].columnIndex].locked&&(i=s,s+=t[e].width||10,s>=r)){o=e;break}for(let e=o;e<t.length;e++)if(!n[t[e].columnIndex].locked){if(!(i<l+r))break;i+=t[e].width||10,a=e}o>0&&o--,a<t.length-1&&a++;let c=0,d=0;for(let e=0;e<o;e++)n[t[e].columnIndex].locked||(c+=t[e].colSpan);for(let e=a+1;e<t.length;e++)n[t[e].columnIndex].locked||(d+=t[e].colSpan);t[o].colSpan+=c,t[a].colSpan+=d;const u=t.slice(0,o).filter((e=>n[e.columnIndex].locked)),m=t.slice(a+1).filter((e=>n[e.columnIndex].locked));return[...u,...t.slice(o,a+1),...m]}({cellModels:n,columns:Se,tableViewPortWidth:l,scrollLeft:t})}return n};let N,P=[],M=[],G=[],z=[[]];const K=e.scrollLeftRef||{current:0},W=e.widthRef||{current:0},_=e.containerHeightRef||{current:0},j=e.minRowHeightRef||{current:0},$=e.localization||new a.LocalizationService(e.language),X=e.intl||new a.IntlService(null!=(n=e.locale)?n:"en"),Y=e.unstyled,J=Y&&Y.uGrid?Y.uGrid:o.uGrid,Q=q(e.rowReorderable),Z="virtual"===e.scrollable||void 0===e.scrollable&&e.isClient&&o.hasValidLicense(xn)||!1,ee=o.getLicenseMessage(xn),te=!0===e.autoProcessData?{group:!0,sort:!0,filter:!0,search:!0,page:!0}:e.autoProcessData;let ne,le;if(Array.isArray(e.data)?(ne=e.data,le=null!=(i=e.total)?i:ne.length):(ne=(null==(s=e.data)?void 0:s.data)||[],le=null!=(u=null!=(d=e.total)?d:null==(c=e.data)?void 0:c.total)?u:ne.length),te){const t=te.page&&!(Z&&!e.pageable),{data:n,total:o}=l.process(ne,{group:te.group?e.group:void 0,sort:te.sort?e.sort:void 0,filter:r.combineFilters(te.filter?e.filter:void 0,te.search?e.search:void 0),...t?{take:e.pageable?e.take||10:e.take,skip:e.skip||0}:{}});ne=n,le=null!=(m=e.total)?m:o}const re=ne.length===le,{size:oe="medium"}=e,ae="object"==typeof e.groupable&&e.groupable.footer||"none",ie=!0===e.groupable||"object"==typeof e.groupable&&!1!==e.groupable.enabled,se=r.getDetailExpandableOptions(!!e.detail),ce=r.getGroupExpandableOptions("object"==typeof e.groupable&&!1!==e.groupable.enabled?e.groupable.expandable:e.groupable),de=!(null==(p=e.group)||!p.length),{resolvedGroupsCount:ue,flattedData:me}=((e,t,n,l,r,o,a)=>{const i=[];return{flattedData:i,resolvedGroupsCount:T(i,e,t,{index:n},void 0!==l,r,o,ce.defaultExpand,a)}})(ne,ae,re?0:e.skip||0,e.group,e.detailExpand,e.groupExpand,e.dataItemKey);P=me;const pe=(()=>{const{pageable:t,take:n,pageSize:l}=e;if(!Z)return 0;if(!t){if(n)return n;if(l)return l}const r=e.rowHeight||j.current,o=_.current;return o&&r?Math.ceil(o/r*1.5):0})(),ge=(null==(g=e.virtualSkipRef)?void 0:g.current)||0;let fe=le;if(Z){let t=e.skip||0;(de||e.pageable)&&(t=ge,fe=P.length),(re||de||e.pageable)&&(N=P.slice(t,t+pe))}const he=r.getSelectionOptions(e.selectable),ve=U(e.rowSpannable),Ce=he&&he.drag?"none":void 0,Ee=y.useMemo((()=>y.Children.toArray(e.children)),[e.children]);((t,n)=>{M=k(t),0===M.filter((e=>!e.hidden)).length&&(M=function(e,t,n,l){const o=L(e),a=[];if(o.length>0){let e=o[0];if(t)for(let n=0;n<t.length;n++)e=e.items&&e.items[0];Object.getOwnPropertyNames(e).forEach((e=>{e!==n.column&&a.push(Object.assign({id:r.tableKeyboardNavigationTools.generateNavigatableId(""+l.prevId++,l.idPrefix,"column"),declarationIndex:-1,parentIndex:-1,depth:0,colSpan:0,headerColSpan:0,rowSpan:0,index:0,columnType:"data",left:0,right:0,rightBorder:!1,children:[],ariaColumnIndex:0,isAccessible:!0},S,{field:e}))}))}return a}(ne,e.group,{column:se.column},{prevId:0,idPrefix:E})),I(M,n),M=x(M),z=function(e,t){const n=[[]];let l=0;for(let t=e.length-1;t>=0;t--)l=Math.max(l,e[t].depth),e[t].headerColSpan=e[t].headerColSpan||1,e[t].children.length>0&&(e[t].headerColSpan=e[t].children.reduce(((e,t)=>t.hidden?e:e+t.headerColSpan),0));const o=[];let a=1;return e.forEach(((e,t)=>{n[e.depth]=n[e.depth]||[];let r=!1;0===n[e.depth].length&&(a<=1?a=1+(e.children.length>0?0:l-e.depth):(a--,r=!0)),e.rowSpan=1+(e.children.length>0?0:l-e.depth),e.kFirst=r,e.index=n[e.depth].length,n[e.depth].push(t),e.ariaColumnIndex=o[e.depth]?o[e.depth]+1:1;for(let t=e.depth;t<e.depth+e.rowSpan;t++)o[t]=(o[t]||0)+e.headerColSpan})),r.updateLeft(n,e,t),r.updateRight(n,e,t),n}(M,!0),G=M.map(B)})(Ee,ue);const be=y.useMemo((()=>{const t=bl(e,M);return{premium:t.length>0,features:t}}),[e,M]),ke=y.useMemo((()=>!!be.premium&&!o.validatePackage(xn,{component:"Grid",features:be.features})),[be.premium]),xe=Ee.map((e=>e&&e.type&&"KendoReactGridToolbar"===e.type.displayName?y.cloneElement(e,{...e.props,_ariaControls:C,ariaLabel:"Top toolbar"}):null)),ye=Ee.filter((e=>e&&e.type&&"KendoReactGridNoRecords"===e.type.displayName)),Ie=Ee.filter((e=>e&&e.type&&"KendoReactGridStatusBar"===e.type.displayName)),Se=M.filter((e=>0===e.children.length)),we=ie&&y.createElement(ln,{columns:w(),group:e.group||[],ariaControls:C}),Re=y.createElement(xt,{size:oe,staticHeaders:"none"!==e.scrollable,draggable:e.reorderable||ie,headerRow:y.createElement(Ot,{cells:e.cells,sort:e.sort,sortable:e.sortable,group:e.group||[],groupable:ie,filter:e.filter,filterable:e.filterable,filterOperators:e.filterOperators||Ht,columnMenu:e.columnMenu,columnMenuIcon:e.columnMenuIcon,columns:M,columnsMap:z,navigatable:!!e.navigatable,localization:$,unstyled:Y,headerSelectionValue:!(!e.select||!P.filter((e=>"data"===e.rowType)).every((t=>e.select&&e.dataItemKey&&void 0!==o.getter(e.dataItemKey)(t.dataItem)?e.select[o.getter(e.dataItemKey)(t.dataItem)]:void 0)))}),filterRow:e.filterable&&y.createElement(tn,{cells:e.cells,size:oe,columns:M,filter:e.filter,filterOperators:e.filterOperators||Ht,sort:e.sort,navigatable:!!e.navigatable,ariaRowIndex:z.length+1,localization:$})||void 0,cols:Se.map(((e,t)=>y.createElement("col",{key:t.toString(),width:A(e)})))}),Ne=Se.findIndex((e=>"function"==typeof e.colSpan))>-1;let Pe;Ne||(Pe=R(null));const Me="dialog"===(null==(f=e.editable)?void 0:f.mode),Te=null==(h=e.editable)?void 0:h.enabled;let De=null;const Le=e=>e>=P.length-0,Ae=[],Fe=!P.length;let Ge=0;if(P.length){const t=z.length+(e.filterable?1:0)+1;let n=e.skip||0,l=-1,a=0;const i=ve.enabled?{}:void 0;if(Z){if(ge>0){const e=P.slice(0,ge).filter((e=>"data"===e.rowType)).length;l+=e,n+=e}!e.pageable&&re&&(l+=e.skip||0)}(N||P).forEach(((s,c)=>{"data"===s.rowType&&l++;const d=s.dataIndex%2!=0,u=e.dataItemKey&&o.getter(e.dataItemKey)(s.dataItem),m=c+n,p=u||"ai"+m,g=p+"_1",f=((t,n,l,a,i)=>{let s=!1;const c=e.select&&e.dataItemKey&&void 0!==o.getter(e.dataItemKey)(t.dataItem)?e.select[o.getter(e.dataItemKey)(t.dataItem)]:void 0,d=e.highlight&&e.dataItemKey&&void 0!==o.getter(e.dataItemKey)(t.dataItem)?e.highlight[o.getter(e.dataItemKey)(t.dataItem)]:void 0;return Ne&&(Pe=R(t.dataItem)),{row:Pe.map((({columnIndex:u,colSpan:m})=>{var p,g,f,h;const v=Se[u];let C;if(null!=(p=v.rowSpannable)&&p.enabled&&"data"===t.rowType&&v.field&&i){const e=v.field?null==(f=(g=v.rowSpannable).valueGetter)?void 0:f.call(g,t.dataItem,v.field):null;C={value:e,count:1},i[v.field]&&(null==(h=i[v.field])?void 0:h.value)===e&&null!==i[v.field]?(i[v.field].count++,C.count=null):i[v.field]=C}const b=v.id?v.id:u,k=o.classNames(J.contentSticky({locked:v.locked}),v.className),x=void 0!==v.left?{left:v.left,right:v.right}:{};let I=!1;if(v.editable&&e.editable){const n=e.edit&&e.dataItemKey?e.edit[o.getter(e.dataItemKey)(t.dataItem)]:void 0,l="boolean"==typeof n?n:Array.isArray(n)?v.field&&n.indexOf(v.field)>-1:void 0!==v.field&&n===v.field;l&&"data"===v.columnType&&(!0===l||l===v.field)&&(s=!0,Me||(I=!0))}const S="expand"===v._type,w={locked:e.lockGroups,id:r.tableKeyboardNavigationTools.generateNavigatableId(`${n}-${String(u)}`,E,S||"groupHeader"===t.rowType||"groupFooter"===t.rowType||"value"===v.field?"nodata":"cell"),colSpan:m,dataItem:t.dataItem,field:v.field,editor:v.editor,format:v.format,columnType:v.columnType,rowReorderable:Q,className:k,cells:V(e.cells,v.cells),columnIndex:u,columnsCount:Se.length,rowType:t.rowType,level:t.level,expanded:t.expanded,dataIndex:t.dataIndex,rowDataIndex:l,columnPosition:x,style:{},ariaColumnIndex:v.ariaColumnIndex,isSelected:!!("edit"===(null==v?void 0:v._type)?c:Array.isArray(c)&&c.indexOf(u)>-1),isHighlighted:!!("edit"===(null==v?void 0:v._type)?d:Array.isArray(d)&&d.indexOf(u)>-1),isSorted:!!F(v.field,e.sort),isInEdit:I,isAlt:a,unstyled:Y,group:t.group,localization:$,intl:X,_rowSpan:C},R=v.defaultCell||I&&(e.isClient?kt:Sl)||(e.isClient?cn:yl);return y.createElement(R,{key:b,cellProps:w})})),isInEdit:s,isSelected:"boolean"==typeof c&&c,isHighlighted:"boolean"==typeof d&&d}})(s,p,l,d,i);if(Ge=m+t+a,Me&&Te&&f.isInEdit&&(De=s.dataItem),Ae.push(y.createElement(fn,{key:p,dataItem:s.dataItem,isAltRow:d,isInEdit:f.isInEdit&&!Me,rowType:s.rowType,isRowReorderable:Q,isHidden:Le(c),onClick:null,onDoubleClick:null,rowHeight:e.rowHeight,ariaRowIndex:Ge,absoluteRowIndex:m,dataIndex:l,isSelected:f.isSelected,isHighlighted:f.isHighlighted,rows:e.rows},f.row)),e.detail&&"data"===s.rowType&&s.expanded){const n=Se.length-(se.enabled?1:0)-(e.group?e.group.length:0)||1;a++,Ge=m+t+a;const l=e.isClient?Sn:Ol;Ae.push(y.createElement("tr",{key:g,className:o.classNames(J.detailTr({isAlt:d})),style:{visibility:Le(c)?"hidden":"",height:e.detailRowHeight},role:"row","aria-rowindex":Ge},e.group&&e.group.map(((t,n)=>{var l;const r=null==(l=null==f?void 0:f.row[n])?void 0:l.props.style,o=r?{left:r.left,right:r.right}:{};return y.createElement(gn,{key:n,cellProps:{id:"",dataItem:s.dataItem,field:t.field,dataIndex:s.dataIndex,columnPosition:o,style:{},ariaColumnIndex:1+n,isSelected:!1,locked:e.lockGroups,cells:e.cells,group:s.group}})})),se.enabled&&y.createElement(wn,{unstyled:Y,id:r.tableKeyboardNavigationTools.generateNavigatableId(`${g}-dhcell`,E)}),y.createElement(l,{dataItem:s.dataItem,dataIndex:s.dataIndex,colSpan:n,ariaColIndex:2+(e.group?e.group.length:0),detail:e.detail,id:r.tableKeyboardNavigationTools.generateNavigatableId(`${g}-dcell`,E)})))}}))}const Be={size:oe,total:le,skip:e.skip||0,take:(void 0!==e.take?e.take:e.pageSize)||10,...kn(e.pageable||{})},Oe=y.createElement(_n,null,e.pager?y.createElement(e.pager,{...Be}):y.createElement(r.Pager,{className:o.classNames(J.pager({})),...Be})),ze=null!=(v=e.cells)&&v.footerCell||M.some((e=>{var t;return!(null==(t=e.cells)||!t.footerCell)}))?y.createElement(rn,{size:oe,staticHeaders:"none"!==e.scrollable,row:y.createElement(bn,{cells:e.cells,idPrefix:E,columns:M,ariaRowIndex:Ge+1}),cols:Se.map(((e,t)=>y.createElement("col",{key:t.toString(),width:A(e)})))}):null,Ke=y.createElement(zn,null,Se.map(((t,n)=>y.createElement("col",{key:n.toString(),className:F(t.field,e.sort)?o.classNames(J.sorted({})):void 0,width:A(t)})))),Ve=e.reorderable||ie,{detail:qe,cells:We,rows:_e,...Ue}=e,je=y.createElement("tbody",{role:"rowgroup",className:o.classNames(J.tbody({})),...r.tableKeyboardNavigationBodyAttributes},Ae),$e=De?y.createElement(kl,{columns:Se,customEditDialog:e.editDialog,dataItem:De}):null;let Xe=je;Q&&(Xe=y.createElement(ll,{unstyled:J,columns:M,rowReorderSettings:e.rowReorderable},je));const Ye={gridRef:t,innerGrid:e.innerGrid,gridProps:Ue,columnsRef:w(),columnsMapRef:z,columnsState:b,dataRef:P,id:C,virtualTotal:fe,isAllData:re,virtualPageSize:pe,isVirtualScroll:Z,detailExpandable:!!e.detail};return"none"===e.scrollable?y.createElement(On,{...Ye},y.createElement(jn,null,y.createElement("div",{id:e.id,style:e.style,className:o.classNames(J.wrapper({size:oe}),e.className),...r.tableKeyboardNavigationScopeAttributes},xe,we,y.createElement(Hn,{selectable:e.selectable,className:o.classNames(J.table({size:oe}))},Ke,Re,y.createElement(qn,{rowReorderable:Q},Xe),ze),Fe&&y.createElement(Rn,null,ye.length?ye:y.createElement(vn,null)),Ve&&y.createElement(y.Fragment,null,y.createElement(Kn,null),y.createElement(Vn,null)))),Ie,e.pageable&&Oe,y.createElement(dl,{loader:e.loader,showLoader:e.showLoader}),$e,ke&&y.createElement(o.WatermarkOverlay,{message:ee})):y.createElement(On,{...Ye},y.createElement(jn,null,y.createElement("div",{id:e.id,style:e.style,className:o.classNames(J.wrapper({size:oe,virtual:Z}),e.className),...r.tableKeyboardNavigationScopeAttributes},xe,we,y.createElement("div",{className:o.classNames(J.ariaRoot({})),role:"grid","aria-colcount":Se.length,"aria-rowcount":le,id:C,"aria-label":$.toLanguageString(He,rt[He])},Re,y.createElement("div",{className:o.classNames(J.container({})),role:"presentation"},y.createElement($n,null,y.createElement("div",{className:o.classNames(J.content({})),role:"presentation"},y.createElement("div",{className:o.classNames(J.tableWrap({})),role:"presentation"},y.createElement(Un,{selectable:e.selectable,tableClassName:o.classNames(J.table({size:oe})),tableStyle:{userSelect:Ce}},Ke,y.createElement(qn,{rowReorderable:Q},Xe)),Fe&&y.createElement(Rn,null,ye.length?ye:y.createElement(vn,null))),Z&&y.createElement("div",{className:o.classNames(J.heightContainer({})),role:"presentation"},y.createElement(Xn,{isVirtualScroll:Z}))))),ze,Ve&&y.createElement(y.Fragment,null,y.createElement(Kn,null),y.createElement(Vn,null)),ke&&y.createElement(o.WatermarkOverlay,{message:ee})),Ie,e.pageable&&Oe,y.createElement(dl,{loader:e.loader,showLoader:e.showLoader}),$e)))}));Kl.displayName="KendoReactGridComponent";const Vl=y.forwardRef(((e,t)=>{const[n]=o.useCustomComponent(Y);return w===R?y.createElement(n,{...e},y.createElement(J,{id:e.id},y.createElement(Kl,{ref:t,...e,innerGrid:Vl}))):y.createElement(a.ServerGlobalization,{locale:e.locale,language:e.language},y.createElement(Kl,{ref:t,...e}))})),ql={data:n.oneOfType([n.array,n.shape({data:n.array,total:n.number})]),sortable:n.oneOfType([n.bool,n.shape({mode:n.oneOf(["single","multiple"]),allowUnsort:n.bool})]),onSortChange:n.func,sort:n.array,highlight:n.any,filterable:n.bool,filter:n.any,onFilterChange:n.func,pageable:n.oneOfType([n.bool,n.shape({buttonCount:n.number,responsive:n.bool,info:n.bool,type:n.oneOf(["numeric","input"]),pageSizes:n.oneOfType([n.bool,n.arrayOf(n.oneOfType([n.string,n.number]))]),previousNext:n.bool})]),pageSize:n.number,onPageChange:n.func,total:n.number,skip:n.number,take:n.number,fixedScroll:n.bool,onExpandChange:n.func,onSelectionChange:n.func,onHeaderSelectionChange:n.func,resizable:n.bool,reorderable:n.bool,group:n.any,groupable:n.oneOfType([n.bool,n.shape({enabled:n.bool,footer:n.oneOf(["always","visible","none"])})]),onGroupChange:n.func,onRowClick:n.func,onRowDoubleClick:n.func,onItemChange:n.func,scrollable:n.oneOf(["none","scrollable","virtual"]),rowHeight:n.number,detailRowHeight:n.number,detail:n.any,style:n.object,onDataStateChange:n.func,onColumnResize:n.func,onColumnReorder:n.func,dataItemKey:n.string,navigatable:n.oneOfType([n.bool,n.shape({mode:n.oneOf(["incell","inline","popup"])})]),size:n.oneOf(["small","medium"])};Vl.displayName="KendoReactGrid",Vl.propTypes=ql;const Wl=e=>{const{children:t,id:n,className:l,style:r}=e;return y.createElement("div",{id:n,className:o.classNames("k-columnmenu-item-wrapper",l),style:r},t)},_l=e=>{const{title:t,iconClass:n,svgIcon:l,selected:r,expandable:a,expanded:s}=e,c=y.useContext(Q);let d;return a&&(d=null!=c&&c.mobileMode?"rtl"===(null==c?void 0:c.dir)?i.chevronLeftIcon:i.chevronRightIcon:s?i.chevronUpIcon:i.chevronDownIcon),y.createElement("div",{onClick:e.onClick,className:"k-columnmenu-item "+(r?"k-selected":"")},(n||l)&&y.createElement(o.IconWrap,{name:n&&o.toIconName(n),icon:l}),t,y.createElement("span",{className:"k-spacer"}),a&&y.createElement(o.IconWrap,{icon:d}))},Ul="desc",jl=(e,t)=>t?t.findIndex((t=>t.field===e)):-1,$l=(e,t)=>!!(t&&e>-1&&"asc"===t[e].dir),Xl=(e,t)=>!!(t&&e>-1&&t[e].dir===Ul),Yl=e=>{const{children:t,id:n,className:l,style:r,show:a}=e;return y.createElement("div",{id:n,className:o.classNames("k-columnmenu-item-content",l),style:r,tabIndex:0},y.createElement(E.Reveal,{style:{position:"relative",display:"block"}},a?t:null))},Jl=e=>{const t=y.useContext(Q),n=t=>{_t(t.value,t.syntheticEvent,e)},l=t=>{Xt(t,e.value,e.onChange)},r=t=>{$t(t,e.onChange)};return y.createElement(y.Fragment,null,(()=>{if("boolean"===e.filterType)return;const n=e.operators.find((t=>t.operator===e.operator))||null;return y.createElement(g.DropDownList,{adaptive:t.adaptive,size:t.mobileMode?"large":"medium",value:n,onChange:l,data:e.operators,textField:"text"})})(),((e,l,o)=>{switch(e){case"numeric":return y.createElement(s.NumericTextBox,{value:l,size:t.mobileMode?"large":"medium",onChange:n,rangeOnEnter:!1});case"date":return y.createElement(c.DatePicker,{value:l,size:t.mobileMode?"large":"medium",onChange:n});case"boolean":{const e=e=>null==e;return y.createElement(g.DropDownList,{adaptive:t.adaptive,onChange:r,size:t.mobileMode?"large":"medium",value:o.find((t=>t.operator===(e(l)?"":l))),data:o,textField:"text"})}default:return y.createElement(s.TextBox,{size:t.mobileMode?"large":"medium",value:l||"",onChange:n})}})(e.filterType,e.value,e.booleanValues))},Ql=e=>{const{firstFilterProps:t,hideSecondFilter:n,secondFilterProps:l,logicValue:r,onLogicChange:o}=e,a=y.useContext(Q),i="and"===(null==r?void 0:r.operator);return y.createElement(y.Fragment,null,y.createElement(Jl,{...t}),!n&&y.createElement(y.Fragment,null,y.createElement(m.ButtonGroup,null,y.createElement(m.Button,{type:"button",value:"and",size:a.mobileMode?"large":"medium",togglable:!0,selected:i,onClick:o},"And"),y.createElement(m.Button,{type:"button",value:"or",size:a.mobileMode?"large":"medium",togglable:!0,selected:!i,onClick:o},"Or")),y.createElement(Jl,{...l})))},Zl=e=>t.createElement("form",{onSubmit:e.onApply,onReset:e.onReset},t.createElement("div",{className:"k-actions k-actions-stretched"},t.createElement(m.Button,{svgIcon:e.resetIcon,size:"large",type:"reset"},e.resetMessage),t.createElement(m.Button,{disabled:e.submitDisabled,svgIcon:e.submitIcon,type:"submit",size:"large",themeColor:"primary"},e.submitMessage))),er=e=>{const n=a.useLocalization(),l=t.useContext(Q),{actionSheetRef:r,secondViewRef:o}=t.useContext(yt),s="rtl"===l.dir?i.chevronRightIcon:i.chevronLeftIcon;t.useEffect((()=>{l.mobileMode&&r.current.element.style.setProperty("--kendo-actionsheet-view-current",2)}),[]);return t.createElement(t.Fragment,null,p.createPortal(t.createElement(t.Fragment,null,e.FilterUI?t.createElement(e.FilterUI,{...e.filterUIProps}):t.createElement(t.Fragment,null,t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",onClick:()=>{l.mobileMode&&r.current.element.style.setProperty("--kendo-actionsheet-view-current",1),e.onBackView&&e.onBackView()},svgIcon:s,fillMode:"flat"})),t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},e.adaptiveTitle)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.xIcon,onClick:e.handleClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-filter-menu"},t.createElement("div",{className:"k-filter-menu-container"},t.createElement(Ql,{...e.filterUIProps})))),t.createElement(u.ActionSheetFooter,null,t.createElement(Zl,{onApply:e.submit,onReset:e.clear,resetIcon:i.filterClearIcon,submitIcon:i.filterIcon,submitMessage:n.toLanguageString(ge,rt[ge]),resetMessage:n.toLanguageString(ue,rt[ue]),submitDisabled:!e.isFilterValid})))),o.current.current))},tr=e=>e||{filters:[],logic:"and"},nr=(e,t)=>tr(t).filters.filter((t=>!!l.isCompositeFilterDescriptor(t)&&(t.filters&&t.filters.length&&!t.filters.find((t=>l.isCompositeFilterDescriptor(t)||t.field!==e)))))[0]||null,lr=e=>{const n=t.useContext(Q),l=a.useLocalization(),{actionSheetRef:r,secondViewRef:o}=t.useContext(yt),c="rtl"===n.dir?i.chevronRightIcon:i.chevronLeftIcon,d=l.toLanguageString(Ue,rt[Ue]);t.useEffect((()=>{null!=n&&n.mobileMode&&r.current.element.style.setProperty("--kendo-actionsheet-view-current",2)}),[]);return t.createElement(t.Fragment,null,p.createPortal(t.createElement(t.Fragment,null,t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",onClick:()=>{e.onBackView&&e.onBackView(),null!=n&&n.mobileMode&&r.current.element.style.setProperty("--kendo-actionsheet-view-current",1)},svgIcon:c,fillMode:"flat"})),t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},d)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.xIcon,onClick:e.handleClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-filter-menu"},t.createElement("div",{className:"k-filter-menu-container"},e.searchBox,t.createElement("ul",{className:"k-reset k-multicheck-wrap"},t.createElement("li",{className:"k-item k-check-all-wrap"},t.createElement(s.Checkbox,{size:n.mobileMode?"large":"medium",label:l.toLanguageString(ye,rt[ye]),onChange:t=>e.handleCheckBoxChange(t,"all"),checked:e.isAllSelected()})),e.currentData.map(((l,r)=>t.createElement("li",{className:"k-item",key:`colmenu-checkbox-item-${r}`},t.createElement(s.Checkbox,{size:n.mobileMode?"large":"medium",label:String(l),onChange:t=>e.handleCheckBoxChange(t,l),checked:e.uniqueFilterValues.includes(l)}))))),t.createElement("div",{className:"k-filter-selected-items"},e.uniqueFilterValues.length+" "+l.toLanguageString(we,rt[we]))))),t.createElement(u.ActionSheetFooter,null,t.createElement(Zl,{onApply:e.submit,onReset:e.clear,submitMessage:l.toLanguageString(ge,rt[ge]),resetMessage:l.toLanguageString(ue,rt[ue])}))),o.current.current))},rr=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),or={uniqueData:!0},ar=e=>{const[t,n]=y.useState(""),l=e.columns.reduce(((t,n)=>({...t,[n.id||""]:!!e.columnsState.find((e=>e.id===n.id))})),{}),[r,c]=y.useState(l),d=y.useMemo((()=>e.columns.filter((e=>{var n;return null==(n=e.title||e.field)?void 0:n.toLowerCase().includes(t.toLowerCase())}))),[e.columns,t]),u=a.useLocalization(),p=y.useCallback((()=>{const t=e.columns.filter((e=>r[e.id||""]));e.onColumnsChange.call(void 0,t),e.onCloseMenu.call(void 0)}),[r,e.columns,e.onColumnsChange,e.onCloseMenu]),g=y.useMemo((()=>Object.values(r).filter((e=>e)).length),[r]),f=y.useMemo((()=>g===e.columns.length),[e.columns,g]),h=y.useCallback((()=>{const e={...r};Object.keys(e).forEach(((t,n)=>e[t]=!(!f||0!==n)||!f)),c(e)}),[r,f]),v=y.useCallback(((e,t)=>{const n={...r};n[t||""]=e,c(n)}),[r]);return y.createElement("form",{className:"k-filter-menu"},y.createElement("div",{className:"k-filter-menu-container"},y.createElement(s.TextBox,{className:"k-searchbox",value:t,onChange:e=>{n(String(e.target.value))},prefix:()=>y.createElement(s.InputPrefix,null,y.createElement(o.IconWrap,{name:"search",icon:i.searchIcon}))}),y.createElement("ul",{className:"k-reset k-multicheck-wrap"},!t&&y.createElement("li",{className:"k-item k-check-all-wrap"},y.createElement(s.Checkbox,{checked:f,onChange:h,label:u.toLanguageString(Se,rt[Se])})),d.map(((e,t)=>y.createElement("li",{key:e.id,className:"k-item"},y.createElement(s.Checkbox,{disabled:r[e.id||""]&&1===g,checked:r[e.id||""],onChange:t=>{var n;return v(!(null==(n=t.target.element)||!n.checked),e.id)},label:e.title||e.field}))))),y.createElement("div",{className:"k-filter-selected-items"},g," selected items"),y.createElement("div",{className:"k-actions k-actions-start k-actions-horizontal"},y.createElement(m.Button,{type:"button",themeColor:"primary",onClick:p},u.toLanguageString(de,rt[de])),y.createElement(m.Button,{type:"button",onClick:()=>{c(l)}},u.toLanguageString(pe,rt[pe])))))};ar.displayName="GridColumnMenuColumnsList";const ir=e=>{const n=a.useLocalization(),l=t.useContext(Q),{actionSheetRef:r,secondViewRef:c}=t.useContext(yt),d="rtl"===l.dir?i.chevronRightIcon:i.chevronLeftIcon,g=n.toLanguageString(We,rt[We]),f=n.toLanguageString(_e,rt[_e]);t.useEffect((()=>{l.mobileMode&&r.current.element.style.setProperty("--kendo-actionsheet-view-current",2)}),[]);return t.createElement(t.Fragment,null,p.createPortal(t.createElement(t.Fragment,null,t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",onClick:()=>{l.mobileMode&&r.current.element.style.setProperty("--kendo-actionsheet-view-current",1),e.onBackView&&e.onBackView()},svgIcon:d,fillMode:"flat"})),t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},g),t.createElement("div",{className:"k-actionsheet-subtitle k-text-center"},f)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.xIcon,onClick:e.handleClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-filter-menu"},t.createElement("div",{className:"k-filter-menu-container"},t.createElement(s.TextBox,{size:l.mobileMode?"large":"medium",className:"k-searchbox",value:e.filter,onChange:e.onFilter,prefix:()=>t.createElement(s.InputPrefix,null,t.createElement(o.IconWrap,{name:"search",icon:i.searchIcon}))}),t.createElement("ul",{className:"k-reset k-multicheck-wrap"},!e.filter&&t.createElement("li",{className:"k-item k-check-all-wrap"},t.createElement(s.Checkbox,{size:l.mobileMode?"large":"medium",checked:e.allSelected,onChange:e.onSelectAll,label:n.toLanguageString(Se,rt[Se])})),e.filtered.map(((n,r)=>t.createElement("li",{key:n.id,className:"k-item"},t.createElement(s.Checkbox,{size:l.mobileMode?"large":"medium",disabled:e.selectedColumns[n.id||""]&&1===e.checkedCount,checked:e.selectedColumns[n.id||""],onChange:t=>{var l;return e.onCheckChange(!(null==(l=t.target.element)||!l.checked),n.id)},label:n.title||n.field}))))),t.createElement("div",{className:"k-filter-selected-items"},e.checkedCount," ",n.toLanguageString(qe,rt[qe]))))),t.createElement(u.ActionSheetFooter,null,t.createElement(Zl,{onApply:e.onApply,onReset:e.onReset,resetMessage:n.toLanguageString(pe,rt[pe]),submitMessage:n.toLanguageString(de,rt[de])}))),c.current.current))},sr=e=>{const{columnsState:t,onCloseMenu:n,onColumnsStateChange:l}=e,r=a.useLocalization(),c=y.useContext(Q),[d,u]=y.useState(""),[p,g]=y.useState(e.expanded||!1),[f,h]=y.useState(!1),v=t.reduce(((e,t)=>({...e,[t.id||""]:!t.hidden})),{}),[C,E]=y.useState(v),b=y.useMemo((()=>(null==t?void 0:t.filter((e=>{var t;return null==(t=e.title||e.field)?void 0:t.toLowerCase().includes(d.toLowerCase())})))||[]),[t,d]),k=y.useMemo((()=>Object.values(C).filter((e=>e)).length),[C]),x=y.useMemo((()=>k===(null==t?void 0:t.length)),[t,k]),I=y.useCallback((e=>{e.preventDefault();const r=(e=>(null==e?void 0:e.map((e=>({...e,hidden:!C[e.id||""]}))))||[])(t);l&&l(r),null==n||n.call(void 0)}),[C,t,n]),S=e=>{e.preventDefault(),E(v)},w=y.useCallback((()=>{const e={...C};Object.keys(e).forEach(((t,n)=>e[t]=!(!x||0!==n)||!x)),E(e)}),[C,x]),R=y.useCallback(((e,t)=>{const n={...C};n[t||""]=e,E(n)}),[C]),N=e=>{u(String(e.target.value))},P=y.useCallback((()=>{const t=M(),n=!(t?e.expanded:p);e.onExpandChange&&e.onExpandChange(n),h(!f),!t&&!c.mobileMode&&g(n)}),[p]),M=()=>void 0!==e.expanded,T=M()?e.expanded:p;return y.createElement(Wl,null,y.createElement("div",{className:"k-expander"},!(e.alwaysExpand&&!c.mobileMode)&&y.createElement(_l,{title:r.toLanguageString(We,rt[We]),iconClass:"k-i-filter",svgIcon:i.columnsIcon,expandable:!0,expanded:!!T,onClick:P})),c.mobileMode&&f?y.createElement(y.Fragment,null,y.createElement(ir,{onBackView:()=>{h(!1)},handleClose:()=>{h(!1),e.onCloseMenu&&e.onCloseMenu()},onApply:I,onReset:S,filter:d,onFilter:N,allSelected:x,onSelectAll:w,filtered:b,selectedColumns:C,checkedCount:k,onCheckChange:R})):y.createElement(Yl,{show:(e.alwaysExpand||!!T)&&!c.mobileMode},y.createElement("form",{onSubmit:I,onReset:S,className:"k-filter-menu"},y.createElement("div",{className:"k-filter-menu-container"},y.createElement(s.TextBox,{className:"k-searchbox",value:d,onChange:N,prefix:()=>y.createElement(s.InputPrefix,null,y.createElement(o.IconWrap,{name:"search",icon:i.searchIcon}))}),y.createElement("ul",{className:"k-reset k-multicheck-wrap"},!d&&y.createElement("li",{className:"k-item k-check-all-wrap"},y.createElement(s.Checkbox,{checked:x,onChange:w,label:r.toLanguageString(Se,rt[Se])})),b.map(((e,t)=>y.createElement("li",{key:e.id,className:"k-item"},y.createElement(s.Checkbox,{disabled:C[e.id||""]&&1===k,checked:C[e.id||""],onChange:t=>{var n;return R(!(null==(n=t.target.element)||!n.checked),e.id)},label:e.title||e.field}))))),y.createElement("div",{className:"k-filter-selected-items"},k," ",r.toLanguageString(qe,rt[qe])),y.createElement("div",{className:"k-actions k-actions-start k-actions-horizontal"},y.createElement(m.Button,{type:"submit",themeColor:"primary"},r.toLanguageString(de,rt[de])),y.createElement(m.Button,{type:"reset"},r.toLanguageString(pe,rt[pe])))))))};sr.displayName="GridColumnMenuColumnsChooser";const cr=e=>{const{ariaLabel:t,_ariaControls:n,children:l,overflow:r="scroll",...o}=e;return y.createElement(m.Toolbar,{className:"k-grid-toolbar",role:"toolbar",ariaLabel:t,_ariaControls:n,overflow:r,...o},l)};cr.displayName="KendoReactGridToolbar";const dr=e=>y.createElement(m.ToolbarSpacer,{...e});dr.displayName="KendoReactGridToolbarSpacer";const ur=e=>y.createElement(m.ToolbarSeparator,{...e});ur.displayName="KendoReactGridToolbarSeparator";const mr=t.createContext(void 0),pr=e=>{const n=t.useRef(null),l=t.useRef(null),r=t.useRef(null),o=t.useMemo((()=>({actionSheetRef:n,firstViewRef:l,secondViewRef:r})),[]);return t.createElement(mr.Provider,{value:o},e.children)},gr=e=>{const n=t.useContext(Q),{actionSheetRef:l,firstViewRef:r,secondViewRef:c}=t.useContext(mr),d=o.useAdaptiveModeContext(),p=a.useLocalization(),[g,f]=t.useState(""),h={animation:!0,navigatable:!1,navigatableElements:[],expand:e.computedShow,animationStyles:d&&n.adaptiveColumnMenuRef<=d.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:d&&n.adaptiveColumnMenuRef<=d.small?"fullscreen":void 0},v="rtl"===n.dir?i.chevronRightIcon:i.chevronLeftIcon,C=p.toLanguageString(Ue,rt[Ue]);return t.createElement(u.ActionSheet,{...h,ref:l,style:{"--kendo-actionsheet-view-current":1},onClose:e.onClose},t.createElement(u.ActionSheetView,{className:"k-actionsheet-view-animated",ref:r,style:{transitionDuration:"500ms",transitionProperty:"transform"}},t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},C)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{svgIcon:i.xIcon,onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-column-menu k-column-menu-lg"},e.filtered.map((n=>{var r,o;return t.createElement(Wl,{key:n.id},t.createElement("div",{className:"k-expander"},t.createElement(_l,{title:e.renderTitle(n),expandable:!0,expanded:!(null==(o=null==(r=e.expandState)?void 0:r.find((e=>e.column.field===n.field)))||!o.expanded),onClick:t=>(l.current.element.style.setProperty("--kendo-actionsheet-view-current",2),f(n.field),e.onFilterExpand(t,n))})))})))),t.createElement(u.ActionSheetFooter,null,t.createElement("div",{className:"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer"},t.createElement(m.Button,{svgIcon:i.filterClearIcon,onClick:e.handleClearAllFilters,size:"large"},p.toLanguageString(me,rt[me]))))),t.createElement(u.ActionSheetView,{className:"k-actionsheet-view-animated",ref:c,style:{transitionDuration:"500ms",transitionProperty:"transform"}},t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",onClick:()=>{e.onBackView&&e.onBackView(),null!=n&&n.mobileMode&&l.current.element.style.setProperty("--kendo-actionsheet-view-current",1)},svgIcon:v,fillMode:"flat"})),t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},C+(g?` ${g}`:""))),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.xIcon,onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-filter-menu"},t.createElement("div",{className:"k-filter-menu-container"},e.searchBox,t.createElement("ul",{className:"k-multicheck-wrap"},t.createElement("li",{className:"k-item k-check-all-wrap"},t.createElement(s.Checkbox,{size:n.mobileMode?"large":"medium",label:p.toLanguageString(ye,rt[ye]),onChange:t=>e.handleCheckBoxChange(t,"all"),checked:e.isAllSelected()})),e.currentData.map(((l,r)=>t.createElement("li",{className:"k-item",key:`colmenu-checkbox-item-${r}`},t.createElement(s.Checkbox,{size:n.mobileMode?"large":"medium",label:String(l),onChange:t=>e.handleCheckBoxChange(t,l),checked:e.uniqueFilterValues.includes(l)}))))),t.createElement("div",{className:"k-filter-selected-items"},e.uniqueFilterValues.length+" "+p.toLanguageString(we,rt[we]))))),t.createElement(u.ActionSheetFooter,null,t.createElement(Zl,{onApply:e.submit,onReset:e.clear,submitMessage:p.toLanguageString(ge,rt[ge]),resetMessage:p.toLanguageString(ue,rt[ue])}))))},fr={uniqueData:!0},hr=e=>{var t,n;const{uniqueData:r=fr.uniqueData,svgIcon:c,icon:u}=e,g=y.useContext(Q),h=g.columnsRef,v=g.defaultFilter,[C,E]=y.useState(!1),b=y.useRef(null),k=y.useRef(null),x=y.useRef(null),I=y.useRef(0),S=a.useLocalization(),w=y.useRef(null),R=o.useDocument(b),N=()=>v?o.clone(v):{filters:[],logic:"and"},P=(e,t)=>{var n;const l=(null==(n=null==w?void 0:w.current)?void 0:n.field)||"",r=e.map((e=>M(l,e)));return t?r.filter(((e,t)=>r.indexOf(e)===t)):r},T=y.useRef((()=>{var e;const t=null==(e=null==w?void 0:w.current)?void 0:e.field;return N().filters.findIndex((e=>e.filters&&e.filters.length>0&&e.filters[0].field===t))})()),[D,L]=y.useState(!1),[A,F]=y.useState((null==h?void 0:h.map((e=>({column:e,expanded:!1}))))||[]),[G,B]=y.useState(""),[O,z]=y.useState(P(e.data,r)||[]),[H,K]=y.useState(P(e.data,!1)||[]),[V,q]=y.useState(N()),[W,_]=y.useState(!1),U=S.toLanguageString(ue,rt[ue]),j=y.useMemo((()=>(null==h?void 0:h.filter((e=>{var t;return null==(t=e.title||e.field)?void 0:t.toLowerCase()})))||[]),[h]);y.useEffect((()=>{v&&L(!0)}),[v]),y.useEffect((()=>{var t;const n=(null==(t=null==w?void 0:w.current)?void 0:t.field)||"",l=e.data.map((e=>M(n,e)));rr(l,H)||(z(l),K(l))}),[H,e.data]),y.useEffect((()=>{A.find((e=>e.expanded))&&z(P(e.data,r)||[])}),[A,e.data,r]);const $=y.useCallback((e=>{const t=V.filters.some((t=>t.field===e.field));return y.createElement(y.Fragment,null,e.title||e.field,t&&y.createElement("span",{className:"k-columnmenu-indicators"},y.createElement(o.SvgIcon,{key:1,icon:i.filterIcon})))}),[V]),X=y.useCallback(((t,n)=>{F((e=>(w.current=n,e.map((e=>e.column.field===n.field?{...e,expanded:!e.expanded}:{...e,expanded:!1}))))),z(P(e.data,r)||[]),K(P(e.data,r)||[]),_(!W)}),[]),Y=t=>{var n;const o=e.searchBoxFilterOperator?e.searchBoxFilterOperator:"startswith",a={logic:"and",filters:[{field:null==(n=null==w?void 0:w.current)?void 0:n.field,operator:o,value:t.target.value,ignoreCase:!0}]};B(t.target.value),z(P(l.filterBy(e.data||[],a),r))},J=()=>{let e=!1;if(V){const t=[...V.filters];return-1!==T.current&&(e=O.every((e=>!(-1===T.current||!t[T.current].filters)&&t[T.current].filters.findIndex((t=>t.value===e))>=0)),e)}return e},Z=(e,t)=>{var n;const l=(null==(n=null==w?void 0:w.current)?void 0:n.field)||"",r={...V},o=[...V.filters];let a=[];if(-1!==T.current&&r.filters[T.current].filters&&"all"!==t&&(a=r.filters[T.current].filters),e.value&&"all"===t)O.forEach((e=>{a.push({field:l,operator:"eq",value:e})}));else if(e.value)a.push({field:l,operator:"eq",value:t});else if(V){const e=a.findIndex((e=>e.value===t));a.splice(e,1)}r.logic="and",-1!==T.current?o[T.current]={logic:"or",filters:a}:o.push({logic:"or",filters:a}),(!e.value&&"all"===t||0===a.length)&&o.splice(T.current,1),r.filters=o,q(r)},ee=[];if(V){const e=[...V.filters];T.current=e.findIndex((e=>{var t;return!!(e.filters&&e.filters.length>0)&&e.filters[0].field===(null==(t=null==w?void 0:w.current)?void 0:t.field)})),-1!==T.current&&e[T.current].filters.length>0&&e[T.current].filters.forEach((e=>{var t;e.field===(null==(t=null==w?void 0:w.current)?void 0:t.field)&&ee.push(e.value)}))}const te=ee.filter(((e,t)=>ee.indexOf(e)===t)),ne=t=>{if(t.preventDefault(),!g.filterChange)return;const n=V||null;null!==n&&n.filters.length>0?(T.current>=0&&n.filters.splice(T.current,1),g.filterChange(n,t)):g.filterChange(null,t),e.onCloseMenu&&e.onCloseMenu(),L(!1)},le=t=>{if(t.preventDefault(),!g.filterChange)return;const n=V||null;g.filterChange(n,t),e.onCloseMenu&&e.onCloseMenu(),L(!0),E(!1)},re=e.searchBox?y.createElement(e.searchBox,{value:G,onChange:Y}):y.createElement("div",{className:"k-searchbox k-textbox k-input k-input-solid "+(null!=g&&g.mobileMode?"k-input-lg":"k-input-md")},y.createElement(o.IconWrap,{className:"k-input-icon",name:"search",icon:i.searchIcon}),y.createElement(s.Input,{className:"k-input-inner",type:"text",placeholder:S.toLanguageString(be,rt[be]),value:G,onChange:e=>Y(e.nativeEvent)}),y.createElement(m.Button,{type:"button",rounded:null,className:"k-input-button",onClick:()=>{var t;const n=e.searchBoxFilterOperator?e.searchBoxFilterOperator:"startswith",o={logic:"and",filters:[{field:null==(t=null==w?void 0:w.current)?void 0:t.field,operator:n,value:"",ignoreCase:!0}]};B(""),z(P(l.filterBy(e.data||[],o),r))},icon:"x","aria-label":U,svgIcon:i.xIcon})),oe=y.useMemo((()=>void 0!==e.show?e.show:C),[e.show,C]),ae=()=>{var t;e.onCloseMenu&&e.onCloseMenu(),E(!1),b.current&&(null==(t=b.current.element)||t.focus())},{onFocus:ie,onBlur:se}=o.useAsyncFocusBlur({onFocus:e=>{clearTimeout(I.current)},onBlur:e=>(e=>{const t=o.getActiveElement(document);clearTimeout(I.current),I.current=window.setTimeout((()=>{!g.mobileMode&&t&&e.relatedTarget!==b.current&&k.current&&!k.current.contains(t)&&ae()}))})(e)}),ce=e=>{if(e.preventDefault(),!g.filterChange)return;const t=V||null;null!==t&&t.filters.length>0?(t.filters=[],g.filterChange(t,e)):g.filterChange(null,e),q(N()),L(!1),F((e=>e.map((e=>({...e,expanded:!1})))))},de=y.createElement(m.Button,{ref:b,togglable:!0,selected:oe,svgIcon:c||(u?void 0:i.filterIcon),icon:u,size:g.mobileMode?"large":"medium",className:o.classNames("k-toolbar-button",{"k-icon-button":g.mobileMode}),title:S.toLanguageString(lt,rt[lt]),onClick:e=>{e.preventDefault(),E(!C)}},!g.mobileMode&&S.toLanguageString(lt,rt[lt])),pe=y.createElement(y.Fragment,null,j.map((e=>{var t,n;return e.filterable&&y.createElement(Wl,{key:e.id},y.createElement("div",{className:"k-expander"},y.createElement(_l,{title:$(e),expandable:!0,expanded:!(null==(t=null==A?void 0:A.find((t=>t.column.field===e.field)))||!t.expanded),onClick:t=>X(t,e)})),y.createElement(Yl,{show:!(null==(n=null==A?void 0:A.find((t=>t.column.field===e.field)))||!n.expanded)},y.createElement("form",{className:"k-filter-menu",onSubmit:le,onReset:ne},y.createElement("div",{className:"k-filter-menu-container"},re,y.createElement("ul",{className:"k-multicheck-wrap"},y.createElement("li",{className:"k-item k-check-all-wrap"},y.createElement(s.Checkbox,{label:S.toLanguageString(ye,rt[ye]),onChange:e=>Z(e,"all"),checked:J()})),O.map(((e,t)=>y.createElement("li",{className:"k-item",key:t},y.createElement(s.Checkbox,{label:String(e),onChange:t=>Z(t,e),checked:te.includes(e)}))))),y.createElement("div",{className:"k-filter-selected-items"},te.length+" "+S.toLanguageString(we,rt[we])),y.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},y.createElement(m.Button,{themeColor:"primary",type:"submit"},S.toLanguageString(ge,rt[ge])),y.createElement(m.Button,{className:"k-button",type:"reset"},S.toLanguageString(ue,rt[ue])))))))})),y.createElement("div",{className:"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer"},y.createElement(m.Button,{svgIcon:i.filterClearIcon,onClick:ce},S.toLanguageString(me,rt[me]))));return y.createElement(y.Fragment,null,D?y.createElement(f.BadgeContainer,null,de,y.createElement(f.Badge,{themeColor:"primary"})):de,g.mobileMode?y.createElement(pr,null,p.createPortal(y.createElement(gr,{filtered:j,computedShow:oe,expandState:A,currentData:O,uniqueFilterValues:te,searchBox:re,renderTitle:$,onBackView:()=>{_(!1)},isAllSelected:J,handleCheckBoxChange:Z,clear:ne,submit:le,onClose:ae,onFilterExpand:X,handleClearAllFilters:ce},pe),null==(t=R())?void 0:t.body)):y.createElement(d.Popup,{anchor:null==(n=b.current)?void 0:n.element,show:oe,popupClass:"k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&E(!1)}},y.createElement("div",{ref:k,onBlur:se,onFocus:ie,onMouseDown:e=>{var t;null==(t=x.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=x.current)||t.triggerKeyboardEvent(e)},className:"k-column-menu k-column-menu-md"},pe)))};hr.displayName="KendoReactGridToolbarCheckboxFilter";const vr=e=>{const n=t.useContext(Q),{actionSheetRef:l}=t.useContext(mr),r=o.useAdaptiveModeContext(),c=a.useLocalization(),d={animation:!0,navigatable:!1,navigatableElements:[],expand:e.computedShow,animationStyles:r&&n.adaptiveColumnMenuRef<=r.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:r&&n.adaptiveColumnMenuRef<=r.small?"fullscreen":void 0},p=c.toLanguageString(We,rt[We]),g=c.toLanguageString(_e,rt[_e]);return t.createElement(u.ActionSheet,{...d,ref:l,style:{"--kendo-actionsheet-view-current":1},onClose:e.onClose},t.createElement(u.ActionSheetView,null,t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},p),t.createElement("div",{className:"k-actionsheet-subtitle k-text-center"},g)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.xIcon,onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-filter-menu"},t.createElement("div",{className:"k-filter-menu-container"},t.createElement(s.TextBox,{size:n.mobileMode?"large":"medium",className:"k-searchbox",value:e.filter,onChange:e.onFilter,prefix:()=>t.createElement(s.InputPrefix,null,t.createElement(o.IconWrap,{name:"search",icon:i.searchIcon}))}),t.createElement("ul",{className:"k-reset k-multicheck-wrap"},!e.filter&&t.createElement("li",{className:"k-item k-check-all-wrap"},t.createElement(s.Checkbox,{size:n.mobileMode?"large":"medium",checked:e.allSelected,onChange:e.onSelectAll,label:c.toLanguageString(Se,rt[Se])})),e.filtered.map(((l,r)=>t.createElement("li",{key:l.id,className:"k-item"},t.createElement(s.Checkbox,{size:n.mobileMode?"large":"medium",disabled:e.selectedColumns[l.id||""]&&1===e.checkedCount,checked:e.selectedColumns[l.id||""],onChange:t=>{var n;return e.onCheckChange(!(null==(n=t.target.element)||!n.checked),l.id)},label:l.title||l.field}))))),t.createElement("div",{className:"k-filter-selected-items"},e.checkedCount," ",c.toLanguageString(qe,rt[qe]))))),t.createElement(u.ActionSheetFooter,null,t.createElement(Zl,{onApply:e.onApply,onReset:e.onReset,resetMessage:c.toLanguageString(pe,rt[pe]),submitMessage:c.toLanguageString(de,rt[de])}))))},Cr=e=>{var t,n;const l=y.useContext(Q),r=l.columnsState,c=l.onColumnsStateChange,[u,g]=y.useState(!1),[h,v]=y.useState(""),[C,E]=y.useState(!1),b=r.reduce(((e,t)=>({...e,[t.id||""]:!t.hidden})),{}),[k,x]=y.useState(b),I=y.useRef(null),S=y.useRef(null),w=y.useRef(null),R=y.useRef(0),N=a.useLocalization(),P=o.useDocument(I),M=y.useMemo((()=>(null==r?void 0:r.filter((e=>{var t;return null==(t=e.title||e.field)?void 0:t.toLowerCase().includes(h.toLowerCase())})))||[]),[r,h]),T=y.useMemo((()=>Object.values(k).filter((e=>e)).length),[k]),D=y.useMemo((()=>T===(null==r?void 0:r.length)),[r,T]),L=y.useCallback((t=>{var n;t.preventDefault();const l=(e=>(null==e?void 0:e.map((e=>({...e,hidden:!k[e.id||""]}))))||[])(r);c&&c(l),null==(n=e.onCloseMenu)||n.call(void 0),g(!1)}),[r,c,e.onCloseMenu,k]),A=e=>{e.preventDefault(),x(b),E(!1)},F=y.useCallback((()=>{const e={...k};Object.keys(e).forEach(((t,n)=>e[t]=!(!D||0!==n)||!D)),x(e),E(!0)}),[k,D]),G=y.useCallback(((e,t)=>{const n={...k};n[t||""]=e,x(n),E(!0)}),[k]),B=e=>{v(String(e.target.value))},O=y.useMemo((()=>void 0!==e.show?e.show:u),[e.show,u]),z=()=>{var t;e.onCloseMenu&&e.onCloseMenu(),g(!1),I.current&&(null==(t=I.current.element)||t.focus())},{onFocus:H,onBlur:K}=o.useAsyncFocusBlur({onFocus:e=>{clearTimeout(R.current)},onBlur:e=>(e=>{const t=o.getActiveElement(document);clearTimeout(R.current),R.current=window.setTimeout((()=>{!l.mobileMode&&t&&e.relatedTarget!==I.current&&S.current&&!S.current.contains(t)&&z()}))})(e)}),V=y.createElement(Yl,{show:!0},y.createElement("form",{onSubmit:L,onReset:A,className:"k-filter-menu"},y.createElement("div",{className:"k-filter-menu-container"},y.createElement(s.TextBox,{className:"k-searchbox",value:h,onChange:B,size:l.mobileMode?"large":"medium",prefix:()=>y.createElement(s.InputPrefix,null,y.createElement(o.IconWrap,{name:"search",icon:i.searchIcon}))}),y.createElement("ul",{className:"k-reset k-multicheck-wrap"},!h&&y.createElement("li",{className:"k-item k-check-all-wrap"},y.createElement(s.Checkbox,{checked:D,onChange:F,label:N.toLanguageString(Se,rt[Se]),size:l.mobileMode?"large":"medium"})),M.map((e=>y.createElement("li",{key:e.id,className:"k-item"},y.createElement(s.Checkbox,{disabled:k[e.id||""]&&1===T,checked:k[e.id||""],onChange:t=>{var n;return G(!(null==(n=t.target.element)||!n.checked),e.id)},label:e.title||e.field,size:l.mobileMode?"large":"medium"}))))),y.createElement("div",{className:"k-filter-selected-items"},T," ",N.toLanguageString(qe,rt[qe])),y.createElement("div",{className:"k-actions k-actions-start k-actions-horizontal"},y.createElement(m.Button,{type:"submit",themeColor:"primary"},N.toLanguageString(de,rt[de])),y.createElement(m.Button,{type:"reset"},N.toLanguageString(pe,rt[pe])))))),q=y.createElement(m.Button,{ref:I,togglable:!0,selected:O,svgIcon:e.svgIcon?e.svgIcon:e.icon?void 0:i.columnsIcon,icon:e.icon,size:l.mobileMode?"large":"medium",className:o.classNames("k-toolbar-button",{"k-icon-button":l.mobileMode}),title:N.toLanguageString(nt,rt[nt]),onClick:e=>{e.preventDefault(),g(!u)}},!l.mobileMode&&N.toLanguageString(nt,rt[nt]));return y.createElement(y.Fragment,null,C?y.createElement(f.BadgeContainer,null,q,y.createElement(f.Badge,{themeColor:"primary"})):q,l.mobileMode?y.createElement(pr,null,p.createPortal(y.createElement(vr,{computedShow:O,filter:h,filtered:M,selectedColumns:k,allSelected:D,checkedCount:T,onClose:z,onApply:L,onReset:A,onFilter:B,onCheckChange:G,onSelectAll:F},V),null==(t=P())?void 0:t.body)):y.createElement(d.Popup,{anchor:null==(n=I.current)?void 0:n.element,show:O,popupClass:"k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&g(!1)}},y.createElement("div",{ref:S,onBlur:K,onFocus:H,onMouseDown:e=>{var t;null==(t=w.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=w.current)||t.triggerKeyboardEvent(e)},className:"k-column-menu k-column-menu-md"},V)))};Cr.displayName="KendoReactGridToolbarColumnsChooser";const Er=e=>{const n=t.useContext(Q),{actionSheetRef:l,firstViewRef:r,secondViewRef:s}=t.useContext(mr),c=o.useAdaptiveModeContext(),d=a.useLocalization(),[p,g]=t.useState(""),f="rtl"===n.dir?i.chevronRightIcon:i.chevronLeftIcon,h=d.toLanguageString(Ve,rt[Ve]),v={animation:!0,navigatable:!1,navigatableElements:[],expand:e.computedShow,animationStyles:c&&n.adaptiveColumnMenuRef<=c.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:c&&n.adaptiveColumnMenuRef<=c.small?"fullscreen":void 0};return t.createElement(u.ActionSheet,{...v,ref:l,style:{"--kendo-actionsheet-view-current":1},onClose:e.onClose},t.createElement(u.ActionSheetView,{className:"k-actionsheet-view-animated",ref:r,style:{transitionDuration:"500ms",transitionProperty:"transform"}},t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},h)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{svgIcon:i.xIcon,onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-column-menu k-column-menu-lg"},e.filtered.map((n=>{var r,o;return t.createElement(Wl,{key:n.id},t.createElement("div",{className:"k-expander"},t.createElement(_l,{title:e.renderTitle(n),expandable:!0,expanded:!(null==(o=null==(r=e.expandState)?void 0:r.find((e=>e.column.field===n.field)))||!o.expanded),onClick:t=>(l.current.element.style.setProperty("--kendo-actionsheet-view-current",2),g(n.field),e.onFilterExpand(t,n))})))})))),t.createElement(u.ActionSheetFooter,null,t.createElement("div",{className:"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer"},t.createElement(m.Button,{svgIcon:i.filterClearIcon,onClick:e.handleClearAllFilters,size:"large"},d.toLanguageString(me,rt[me]))))),t.createElement(u.ActionSheetView,{className:"k-actionsheet-view-animated",ref:s,style:{transitionDuration:"500ms",transitionProperty:"transform"}},t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",onClick:()=>{e.onBackView&&e.onBackView(),null!=n&&n.mobileMode&&l.current.element.style.setProperty("--kendo-actionsheet-view-current",1)},svgIcon:f,fillMode:"flat"})),t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},h+(p?` ${p}`:""))),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.xIcon,onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("form",{className:"k-filter-menu",onSubmit:e.submit,onReset:e.clear},t.createElement("div",{className:"k-filter-menu-container"},e.FilterUI?t.createElement(e.FilterUI,{...e.filterUIProps}):t.createElement(Ql,{...e.filterUIProps})))),t.createElement(u.ActionSheetFooter,null,t.createElement(Zl,{onApply:e.submit,onReset:e.clear,submitMessage:d.toLanguageString(ge,rt[ge]),resetMessage:d.toLanguageString(ue,rt[ue])}))))},br=e=>{var t,n,l,r,s,c,u;const g=y.useContext(Q),h=g.columnsRef,v=g.filter,C=g.defaultFilter,[E,b]=y.useState(!1),[k,x]=y.useState(!1),[I,S]=y.useState((null==h?void 0:h.map((e=>({column:e,expanded:!1}))))||[]),[w,R]=y.useState(!1),N=y.useRef(null),P=y.useRef(null),M=y.useRef(null),T=y.useRef(0),D=y.useRef(null),L=a.useLocalization(),A=o.useDocument(N),F=y.useMemo((()=>(null==h?void 0:h.filter((e=>{var t;return null==(t=e.title||e.field)?void 0:t.toLowerCase()})))||[]),[h]);y.useEffect((()=>{x(!(!C&&!v))}),[C,v]);const G=y.useCallback((e=>{const t=C&&C.filters.some((t=>t.field===e.field));return y.createElement(y.Fragment,null,e.title||e.field,t&&y.createElement("span",{className:"k-columnmenu-indicators"},y.createElement(o.SvgIcon,{key:1,icon:i.filterIcon})))}),[C]),B=(e,t)=>{S((e=>(D.current=t,e.map((e=>e.column.field===t.field?{...e,expanded:!e.expanded}:{...e,expanded:!1}))))),K(O()),R(!w)},O=()=>{var e,t,n,l,r,o;let a;if(null!=D&&D.current&&null!=(e=null==D?void 0:D.current)&&e.field){const e=jt(null==(t=null==D?void 0:D.current)?void 0:t.filter),i=Ut(g.filterOperators,e);a=nr(null==(n=null==D?void 0:D.current)?void 0:n.field,g.filter),a=a?{...a,filters:a.filters.map((e=>({...e})))}:{logic:"and",filters:[{field:null==(l=null==D?void 0:D.current)?void 0:l.field,operator:i,value:Kt(i)?null:void 0},{field:null==(r=null==D?void 0:D.current)?void 0:r.field,operator:i,value:Kt(i)?null:void 0}]},1===a.filters.filter((e=>{var t;return e.field===(null==(t=null==D?void 0:D.current)?void 0:t.field)})).length&&a.filters.splice(1,0,{field:null==(o=null==D?void 0:D.current)?void 0:o.field,operator:i})}return a},z=(e,t)=>{const n=H.filters.map(((n,l)=>l===e?{...n,value:t.value||"",operator:t.operator||W[l].operator}:n));K({...H,filters:n})},[H,K]=y.useState(O()),V=null==H?void 0:H.filters,q=jt(null==(t=null==D?void 0:D.current)?void 0:t.filter),W=Vt(g.filterOperators[q],L),_=Vt(qt,L),U={field:null==(n=null==D?void 0:D.current)?void 0:n.field,value:null==V?void 0:V[0].value,operator:null==V?void 0:V[0].operator,operators:W,booleanValues:_,onChange:e=>{z(0,e)},filterType:q},j={field:null==(l=null==D?void 0:D.current)?void 0:l.field,value:null==V?void 0:V[1].value,operator:null==V?void 0:V[1].operator,operators:W,booleanValues:_,onChange:e=>{z(1,e)},filterType:q},$=null==H?void 0:H.logic,X=Vt(zt,L),Y={value:X.find((e=>e.operator===(null===$?"":$))),onChange:e=>{let t=e.target.value;"SPAN"===e.target.tagName&&(t=e.target.parentElement.value),K({...H,logic:t})},data:X},J=void 0!==e.hideSecondFilter?e.hideSecondFilter:Wt[q],Z=e.filterUI,ee={firstFilterProps:U,secondFilterProps:j,logicData:Y.data,logicValue:Y.value,onLogicChange:Y.onChange,hideSecondFilter:J},te=()=>({...H,filters:null==H?void 0:H.filters.filter((e=>void 0!==e.value&&null!==e.value&&""!==e.value||null===e.value&&e.operator))}),ne=0!==(null==(s=null==(r=te())?void 0:r.filters)?void 0:s.length)||Kt(null==V?void 0:V[0].operator)||Kt(null==V?void 0:V[1].operator),le=e=>{if(e.preventDefault(),!g.filterChange)return;const t=tr(g.filter),n={...t,filters:t.filters.filter((e=>{var t;return e.field!==(null==(t=null==D?void 0:D.current)?void 0:t.field)}))};ne&&n.filters.push(te()),g.filterChange(n,e),x(!0),b(!1)},re=t=>{if(t.preventDefault(),!g.filterChange)return;const n=tr(g.filter),l=n.filters.filter((e=>{var t;return e.field!==(null==(t=null==D?void 0:D.current)?void 0:t.field)}));0===l.length?g.filterChange(null,t):g.filterChange({...n,filters:l},t),e.onCloseMenu&&e.onCloseMenu(),x(!1),S((e=>e.map((e=>({...e,expanded:!1})))))},oe=y.useMemo((()=>void 0!==e.show?e.show:E),[e.show,E]),ae=()=>{var t;e.onCloseMenu&&e.onCloseMenu(),b(!1),N.current&&(null==(t=N.current.element)||t.focus())},{onFocus:ie,onBlur:se}=o.useAsyncFocusBlur({onFocus:e=>{clearTimeout(T.current)},onBlur:e=>(e=>{const t=o.getActiveElement(document);clearTimeout(T.current),T.current=window.setTimeout((()=>{!g.mobileMode&&t&&e.relatedTarget!==N.current&&P.current&&!P.current.contains(t)&&ae()}))})(e)}),ce=y.useCallback((e=>{if(e.preventDefault(),!g.filterChange)return;const t=tr(g.filter),n=t.filters.filter((()=>!1));0===n.length?g.filterChange(null,e):g.filterChange({...t,filters:n},e),x(!1),S((e=>e.map((e=>({...e,expanded:!1})))))}),[g,tr]),de=y.createElement(m.Button,{ref:N,togglable:!0,selected:oe,svgIcon:e.svgIcon?e.svgIcon:e.icon?void 0:i.filterIcon,icon:e.icon,size:g.mobileMode?"large":"medium",className:o.classNames("k-toolbar-button",{"k-icon-button":g.mobileMode}),title:L.toLanguageString(tt,rt[tt]),onClick:e=>{e.preventDefault(),b(!E)}},!g.mobileMode&&L.toLanguageString(tt,rt[tt])),pe=y.createElement(y.Fragment,null,F.map((e=>{var t,n;return e.filterable&&y.createElement(Wl,{key:e.id},y.createElement("div",{className:"k-expander"},y.createElement(_l,{title:G(e),expandable:!0,expanded:!(null==(t=null==I?void 0:I.find((t=>t.column.field===e.field)))||!t.expanded),onClick:t=>B(0,e)})),y.createElement(Yl,{show:!(null==(n=null==I?void 0:I.find((t=>t.column.field===e.field)))||!n.expanded)},y.createElement("form",{className:"k-filter-menu",onSubmit:le,onReset:re},y.createElement("div",{className:"k-filter-menu-container"},Z?y.createElement(Z,{...ee}):y.createElement(Ql,{...ee}),y.createElement("div",{className:"k-actions k-actions-stretched"},y.createElement(m.Button,{themeColor:"primary",disabled:!ne},L.toLanguageString(ge,rt[ge])),y.createElement(m.Button,{type:"reset"},L.toLanguageString(ue,rt[ue])))))))})),y.createElement("div",{className:"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer"},y.createElement(m.Button,{svgIcon:i.filterClearIcon,onClick:ce},L.toLanguageString(me,rt[me]))));return y.createElement(y.Fragment,null,k?y.createElement(f.BadgeContainer,null,de,y.createElement(f.Badge,{themeColor:"primary"})):de,g.mobileMode?y.createElement(pr,null,p.createPortal(y.createElement(Er,{filtered:F,computedShow:oe,expandState:I,FilterUI:Z,filterUIProps:ee,isFilterValid:ne,renderTitle:G,onBackView:()=>{R(!1)},clear:re,submit:le,onClose:ae,onFilterExpand:B,handleClearAllFilters:ce},pe),null==(c=A())?void 0:c.body)):y.createElement(d.Popup,{anchor:null==(u=N.current)?void 0:u.element,show:oe,popupClass:"k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&b(!1)}},y.createElement("div",{ref:P,onBlur:se,onFocus:ie,onMouseDown:e=>{var t;null==(t=M.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=M.current)||t.triggerKeyboardEvent(e)},className:"k-column-menu k-column-menu-md"},pe)))};br.displayName="KendoReactGridToolbarFilter";const kr=e=>{const n=t.useContext(Q),{actionSheetRef:l}=t.useContext(mr),r=o.useAdaptiveModeContext(),s=a.useLocalization(),c={animation:!0,navigatable:!1,navigatableElements:[],expand:e.computedShow,animationStyles:r&&n.adaptiveColumnMenuRef<=r.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:r&&n.adaptiveColumnMenuRef<=r.small?"fullscreen":void 0},d=s.toLanguageString(je,rt[je]);return t.createElement(u.ActionSheet,{...c,ref:l,style:{"--kendo-actionsheet-view-current":1},onClose:e.onClose},t.createElement(u.ActionSheetView,null,t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},d)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.checkIcon,themeColor:"primary",onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-column-menu k-column-menu-lg"},t.createElement(Wl,null,e.filtered.map((n=>t.createElement(_l,{key:n.id,title:e.renderTitle(n),onClick:t=>e.handleSorting(t,n)})))))),t.createElement(u.ActionSheetFooter,null,t.createElement("div",{className:"k-actions k-actions-stretched"},t.createElement(m.Button,{svgIcon:i.xIcon,onClick:e.onClear,size:"large",disabled:e.isDisabledButton},s.toLanguageString(Ce,rt[Ce])),t.createElement(m.Button,{svgIcon:i.checkIcon,themeColor:"primary",size:"large",onClick:e.onClose},s.toLanguageString(Ee,rt[Ee]))))))},xr=e=>{var t,n;const l=y.useContext(Q),r=l.columnsState,s=l.sortable,c=l.sort,u=l.defaultSort,[g,h]=y.useState(!0),[v,C]=y.useState(!1),[E,b]=y.useState(!1),k=y.useRef(null),x=y.useRef(null),I=y.useRef(null),S=y.useRef(0),w=a.useLocalization(),R=o.useDocument(k);y.useEffect((()=>{u||null!=c&&c.length?(C(!0),h(!1)):C(!1)}),[u,c]);const N=y.useMemo((()=>(null==r?void 0:r.filter((e=>{var t;return null==(t=e.title||e.field)?void 0:t.toLowerCase()})))||[]),[r]),P=y.useCallback(((e,t)=>{l.headerCellClick(e,t),h(!1),C(!0)}),[l]),M=y.useCallback((e=>{l.sortChange([],e),C(!1)}),[l]),T=y.useCallback((e=>{const t=c?c.findIndex((t=>t.field===e.field)):-1;return y.createElement(y.Fragment,null,e.title||e.field,y.createElement("span",{className:"k-columnmenu-indicators"},t>=0&&[y.createElement(o.SvgIcon,{key:1,icon:"asc"===c[t].dir?i.sortAscSmallIcon:i.sortDescSmallIcon}),c.length>1&&y.createElement("span",{key:2,className:"k-sort-index"},t+1)]))}),[c]),D=y.useMemo((()=>void 0!==e.show?e.show:E),[e.show,E]),L=()=>{var t;e.onCloseMenu&&e.onCloseMenu(),b(!1),k.current&&(null==(t=k.current.element)||t.focus())},{onFocus:A,onBlur:F}=o.useAsyncFocusBlur({onFocus:e=>{clearTimeout(S.current)},onBlur:e=>(e=>{const t=o.getActiveElement(document);clearTimeout(S.current),S.current=window.setTimeout((()=>{!l.mobileMode&&t&&e.relatedTarget!==k.current&&x.current&&!x.current.contains(t)&&L()}))})(e)}),G=y.createElement(y.Fragment,null,y.createElement(Wl,null,N.map((e=>y.createElement(_l,{key:e.id,title:T(e),onClick:t=>P(t,e)})))),y.createElement("div",{className:"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer"},y.createElement(m.Button,{svgIcon:i.xIcon,onClick:M,disabled:g},w.toLanguageString(Ce,rt[Ce])))),B=y.createElement(m.Button,{ref:k,togglable:!0,selected:D,svgIcon:e.svgIcon?e.svgIcon:e.icon?void 0:i.arrowsSwapIcon,icon:e.icon,size:l.mobileMode?"large":"medium",className:o.classNames("k-toolbar-button",{"k-icon-button":l.mobileMode}),title:w.toLanguageString(Xe,rt[Xe]),onClick:e=>{e.preventDefault(),b(!E)}},!l.mobileMode&&w.toLanguageString(Xe,rt[Xe]));return s&&y.createElement(y.Fragment,null,v?y.createElement(f.BadgeContainer,null,B,y.createElement(f.Badge,{themeColor:"primary"})):B,l.mobileMode?y.createElement(pr,null,p.createPortal(y.createElement(kr,{filtered:N,computedShow:D,isDisabledButton:g,renderTitle:T,onClose:L,onClear:M,handleSorting:P},G),null==(t=R())?void 0:t.body)):y.createElement(d.Popup,{anchor:null==(n=k.current)?void 0:n.element,show:D,popupClass:"k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&b(!1)}},y.createElement("div",{ref:x,onBlur:F,onFocus:A,onMouseDown:e=>{var t;null==(t=I.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=I.current)||t.triggerKeyboardEvent(e)},className:"k-column-menu k-column-menu-md"},G)))};xr.displayName="KendoReactGridToolbarSort";const yr=e=>{const n=t.useContext(Q),{actionSheetRef:l}=t.useContext(mr),r=o.useAdaptiveModeContext(),s=a.useLocalization(),c={animation:!0,navigatable:!1,navigatableElements:[],expand:e.computedShow,animationStyles:r&&n.adaptiveColumnMenuRef<=r.small?{top:0,width:"100%",height:"100%"}:void 0,className:"k-adaptive-actionsheet",position:r&&n.adaptiveColumnMenuRef<=r.small?"fullscreen":void 0},d=s.toLanguageString($e,rt[$e]);return t.createElement(u.ActionSheet,{...c,ref:l,style:{"--kendo-actionsheet-view-current":1},onClose:e.onClose},t.createElement(u.ActionSheetView,null,t.createElement(u.ActionSheetHeader,null,t.createElement("div",{className:"k-actionsheet-titlebar-group"},t.createElement("div",{className:"k-actionsheet-title"},t.createElement("div",{className:"k-text-center"},d)),t.createElement("div",{className:"k-actionsheet-actions"},t.createElement(m.Button,{type:"button",svgIcon:i.checkIcon,themeColor:"primary",onClick:e.onClose,fillMode:"flat"})))),t.createElement(u.ActionSheetContent,null,t.createElement("div",{className:"k-group-menu k-group-menu-lg"},e.toolContent)),t.createElement(u.ActionSheetFooter,null,t.createElement("div",{className:"k-actions k-actions-stretched"},t.createElement(m.Button,{svgIcon:i.xIcon,onClick:e.onClear,size:"large",disabled:e.isDisabledButton},s.toLanguageString(Fe,rt[Fe])),t.createElement(m.Button,{svgIcon:i.checkIcon,themeColor:"primary",size:"large",onClick:e.onClose},s.toLanguageString(Ge,rt[Ge]))))))},Ir=e=>{var t,n;const l=y.useContext(Q),r=l.columnsState,s=l.groupable,c=l.group,u=l.defaultGroup,[g,h]=y.useState(!0),[v,C]=y.useState(!1),[E,b]=y.useState(!1),k=y.useRef(null),x=y.useRef(null),I=y.useRef(null),S=y.useRef(0),w=a.useLocalization(),R=o.useDocument(k);y.useEffect((()=>{u||null!=c&&c.length?(C(!0),h(!1)):C(!1)}),[u,c]);const N=y.useMemo((()=>(null==r?void 0:r.filter((e=>{var t;return null==(t=e.title||e.field)?void 0:t.toLowerCase()})))||[]),[r]),P=y.useCallback((()=>{var t;e.onCloseMenu&&e.onCloseMenu(),b(!1),k.current&&(null==(t=k.current.element)||t.focus())}),[e]),M=y.useCallback(((e,t)=>{if(e.preventDefault(),null==t||!t.field)return;const n=(c||[]).slice(),r=n.findIndex((e=>e.field===t.field));r>-1?n.splice(r,1):n.push({field:t.field}),l.groupChange(n,e),h(!1),C(!0)}),[l,c]),T=y.useCallback(((e,t)=>{if(e.preventDefault(),null==t||!t.field)return;const n=(c||[]).filter((e=>e.field!==t.field));l.groupChange(n,e),0===n.length&&(h(!0),C(!1),P())}),[P,l,c]),D=y.useCallback(((e,t)=>{if(0===t)return;const n=[...c||[]],r=n[t-1];n[t-1]=n[t],n[t]=r,l.groupChange(n,e)}),[c,l]),L=y.useCallback(((e,t)=>{if(t===c.length-1)return;const n=[...c||[]],r=n[t+1];n[t+1]=n[t],n[t]=r,l.groupChange(n,e)}),[c,l]),A=y.useCallback(((e,t)=>{const n=null==r?void 0:r.find((t=>t.field===e.field));return y.createElement(y.Fragment,null,c&&1!==c.length&&y.createElement("span",{className:"k-group-menu-item-actions"},y.createElement("span",{className:o.classNames("k-group-menu-item-action k-group-menu-item-up-action",{"k-disabled":0===t}),"aria-disabled":0===t,onClick:e=>D(e,t)},y.createElement(o.SvgIcon,{icon:i.chevronUpIcon})),y.createElement("span",{className:o.classNames("k-group-menu-item-action k-group-menu-item-down-action",{"k-disabled":t===c.length-1}),"aria-disabled":t===c.length-1,onClick:e=>L(e,t)},y.createElement(o.SvgIcon,{icon:i.chevronDownIcon}))),y.createElement("span",{className:"k-group-item-text"},(null==n?void 0:n.title)||e.field),y.createElement("span",{className:"k-spacer"}),y.createElement("span",{className:"k-group-menu-item-actions"},y.createElement("span",{className:"k-group-menu-item-action k-group-menu-item-remove-action",onClick:t=>T(t,e)},y.createElement(o.SvgIcon,{icon:i.xCircleIcon,size:l.mobileMode?"large":"medium"}))))}),[r,l.mobileMode,c,T,L,D]),F=y.useCallback((e=>y.createElement(y.Fragment,null,y.createElement("span",{className:"k-group-item-text"},e.title||e.field),y.createElement("span",{className:"k-spacer"}),y.createElement("span",{className:"k-group-menu-item-actions"},y.createElement("span",{className:"k-group-menu-item-action k-group-menu-item-add-action",onClick:t=>M(t,e)},y.createElement(o.SvgIcon,{icon:i.plusCircleIcon,size:l.mobileMode?"large":"medium"}))))),[l.mobileMode,M]),G=y.useMemo((()=>{var t;return null!=(t=e.show)?t:E}),[e.show,E]),{onFocus:B,onBlur:O}=o.useAsyncFocusBlur({onFocus:e=>{clearTimeout(S.current)},onBlur:e=>(e=>{const t=o.getActiveElement(document);clearTimeout(S.current),S.current=window.setTimeout((()=>{!l.mobileMode&&t&&e.relatedTarget!==k.current&&x.current&&!x.current.contains(t)&&P()}))})(e)}),z=y.useCallback((e=>{l.groupChange([],e),h(!0),C(!1),P()}),[P,l]),H=y.createElement(y.Fragment,null,c&&c.length>0&&y.createElement("div",{className:"k-group-menu-item-wrap"},null==c?void 0:c.map(((e,t)=>y.createElement("div",{className:"k-group-menu-item",key:e.field},A(e,t))))),y.createElement("div",{className:"k-group-menu-item-wrap"},N.filter((e=>!(null!=c&&c.some((t=>t.field===e.field))))).map((e=>"value"===e.field?null:y.createElement("div",{className:"k-group-menu-item",key:e.id},F(e)))))),K=y.useMemo((()=>e.svgIcon?e.svgIcon:e.icon?void 0:i.groupIcon),[e.icon,e.svgIcon]),V=y.createElement(m.Button,{ref:k,togglable:!0,selected:G,svgIcon:K,icon:e.icon,size:l.mobileMode?"large":"medium",className:o.classNames("k-toolbar-button",{"k-icon-button":l.mobileMode}),title:w.toLanguageString(et,rt[et]),onClick:e=>{e.preventDefault(),b(!E)}},!l.mobileMode&&w.toLanguageString(et,rt[et]));return s&&y.createElement(y.Fragment,null,v?y.createElement(f.BadgeContainer,null,V,y.createElement(f.Badge,{themeColor:"primary"})):V,l.mobileMode?y.createElement(pr,null,p.createPortal(y.createElement(yr,{filtered:N,computedShow:G,isDisabledButton:g,toolContent:H,onClose:P,onClear:z}),null==(t=R())?void 0:t.body)):y.createElement(d.Popup,{anchor:null==(n=k.current)?void 0:n.element,show:G,popupClass:"k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&b(!1)}},y.createElement("div",{ref:x,onBlur:O,onFocus:B,onMouseDown:e=>{var t;null==(t=I.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=I.current)||t.triggerKeyboardEvent(e)},className:"k-group-menu k-group-menu-md"},H,y.createElement("div",{className:"k-actions k-actions-stretched k-actions-horizontal k-column-menu-footer"},y.createElement(m.Button,{svgIcon:i.xIcon,onClick:z,disabled:g},w.toLanguageString(Fe,rt[Fe]))))))};Ir.displayName="KendoReactGridToolbarGroup";const Sr=e=>{const{responseContent:t}=e,n=t.split("\n");return y.createElement("div",{className:"k-card-body"},n.map(((e,t)=>y.createElement("div",{key:e.trim()+t,className:"k-card-text"},e))))},wr=e=>{const{activeView:t,onActiveViewChange:n,toolbarItems:l,outputs:r,promptValue:o,promptInput:c,generateButton:d,onCopy:u,onOutputRating:p,onPromptRequest:g,suggestionsList:f,outputCard:h,promptPlaceHolder:v,streaming:C,loading:E,onCancel:b,onClose:x,enableSpeechToText:I}=e,S=a.useLocalization(),[w,R]=y.useState(k.promptViewDefaults.name);return y.useEffect((()=>{const e=document.querySelector(".k-prompt-view .k-textarea textarea");e&&e.focus()}),[]),y.createElement(k.AIPrompt,{style:{maxHeight:"100%"},activeView:null!=t?t:w,onActiveViewChange:e=>{n&&n(e),R(e)},onPromptRequest:(e,t)=>{e&&(g&&g(e),R(k.outputViewDefaults.name))},toolbarItems:l||[k.promptViewDefaults,k.outputViewDefaults],streaming:C,loading:E,suggestionsView:"modern",onCancel:b,onKeyDown:e=>{"Escape"===e.key&&x&&x()}},y.createElement(k.AIPromptView,{promptSuggestions:f,promptValue:o,promptInput:c||y.createElement(s.TextArea,{placeholder:v,rows:2}),generateButton:d||y.createElement(m.Button,{svgIcon:i.tableWizardIcon,icon:"table-wizard",type:"button",title:S.toLanguageString(Ze,rt[Ze])},S.toLanguageString(Ze,rt[Ze])),enableSpeechToText:I}),y.createElement(k.AIPromptOutputView,{outputs:r,showOutputRating:!0,onCopy:u,onOutputRating:p,outputCard:h||{body:Sr}}))},Rr=y.forwardRef(((e,t)=>{const n=y.useContext(Q),l=a.useLocalization(),{requestUrl:r,requestOptions:s,onPromptRequest:c,onResponseSuccess:d,onResponseError:u,role:p="user",gridAIPrompt:g=wr,icon:f,svgIcon:h,onCloseWindow:C,promptPlaceHolder:E,suggestionsList:k,streaming:x,loading:I,outputs:S,enableSpeechToText:w}=e,[R,N]=y.useState([]),P=y.useMemo((()=>n&&Array.isArray(n.columnsRef)?n.columnsRef.map((e=>({field:e.field}))):[]),[n]),[M,T]=y.useState(!1),[D,L]=y.useState(!1),[A,F]=y.useState(),[G,B]=y.useState(),O=y.useRef(null),z=y.useRef(null),H=y.useMemo((()=>{var t;return null!=(t=e.show)?t:D}),[e.show,D]),K=y.useCallback((()=>{var e;C&&C(),N([]),L(!1),O.current&&(null==(e=O.current.element)||e.focus())}),[C]),V=(e,t,r)=>{var o,a;if(T(!1),null!=e&&e.data){if(n.sortable&&e.data.sort)if(0===e.data.sort.length)n.sortChange([],e);else{const t=null!=(o=n.sort)?o:[],l=[];t.forEach((t=>{e.data.sort.some((e=>e.field===t.field))||l.push(t)})),l.push(...e.data.sort),n.sortChange(l,e)}if(e.data.filter){const t=Jt(e.data.filter,n.filter);n.filterChange(t,e)}if(e.data.highlight){let t=e.data.highlight;Array.isArray(t)&&(t=t.map((e=>(null!=e&&e.filters&&Array.isArray(e.filters)&&Yt(e),e)))),n.applyHighlightDescriptor(t)}if(n&&e.data.group)if(0===e.data.group.length)n.groupChange([],e);else{const t=null!=(a=n.group)?a:[],l=[];t.forEach((t=>{e.data.group.some((e=>e.field===t.field))||l.push(t)})),l.push(...e.data.group),n.groupChange(l,e)}if(e.data.messages){const o=[l.toLanguageString(Je,rt[Je])],a=((e,t)=>e.map((e=>{let n=e;return t.forEach((e=>{e.field&&n.includes(e.field)&&(n=n.replace(new RegExp(e.field,"g"),e.title||e.field))})),n})))(e.data.messages,n.columnsRef).join("\n");N([{id:R.length+1,title:l.toLanguageString(Qe,rt[Qe]),subTitle:t,prompt:t,responseContent:o.concat(a).join(""),isRetry:r},...R])}}d&&d(e,t,r)},q=e=>{u&&u(e),T(!1)},W=y.useCallback((()=>{z.current&&z.current.cancel("Request cancelled by user."),T(!1)}),[]),[_,U]=o.useCustomComponent(g),j=Object.keys(U).length>0?U:{},$=y.createElement(_,{onPromptRequest:(t,n)=>{const l=b.CancelToken.source(),o={role:"user",columns:P||[],headers:{Accept:"*/*","Content-Type":"application/json"},promptMessage:t,requestOptions:{url:r,method:"POST",withCredentials:!1,responseType:"json",cancelToken:l.token,...s}};c&&c(o,n),void 0!==o.requestOptions.url&&(T(!0),b({...o.requestOptions,headers:o.headers,data:{role:p||o.role,contents:[{$type:"text",text:o.promptMessage}],columns:o.columns||[]},...e.requestOptions}).then((e=>V(e,o.promptMessage,n))).catch(q),z.current=l)},onCancel:W,onClose:K,streaming:x||M,loading:I,outputs:S||R,promptPlaceHolder:E,suggestionsList:k,enableSpeechToText:w,...j}),X=y.createElement(m.Button,{ref:O,togglable:!0,themeColor:"primary",rounded:"full",selected:H,svgIcon:null!=h?h:i.sparklesIcon,icon:f,size:n.mobileMode?"large":"medium",className:o.classNames("k-toolbar-button",{"k-icon-button":n.mobileMode}),title:l.toLanguageString(Ye,rt[Ye]),onClick:e=>{e.preventDefault(),L(!D)}});return y.useEffect((()=>{var e;if(O.current&&H){const t=null==(e=O.current.element)?void 0:e.getBoundingClientRect();t&&(F(t.top+window.scrollY+t.height),B(t.left+window.scrollX+t.width))}}),[H]),y.useImperativeHandle(t,(()=>({show:()=>L(!0),hide:()=>K()})),[K]),y.createElement(y.Fragment,null,X,H&&y.createElement(v.Window,{autoFocus:!1,title:l.toLanguageString(Ye,rt[Ye]),initialTop:A,initialLeft:G,initialWidth:520,initialHeight:500,onClose:K,resizable:!0,draggable:!0,className:"k-grid-assistant-window"},$))}));Rr.displayName="KendoReactGridToolbarAIAssistant";const Nr=e=>{const{data:t=[]}=e,n=!o.validatePackage(xn,{component:"StatusBar"}),l=o.getLicenseMessage(xn);return y.createElement("div",{className:"k-selection-aggregates k-grid-selection-aggregates"},t.map(((e,t)=>y.createElement("div",{key:t},y.createElement("span",{className:"k-selection-aggregates-item-text"},e.type,": "),y.createElement("span",{className:"k-selection-aggregates-item-value"},e.formattedValue)))),n&&y.createElement(o.WatermarkOverlay,{message:l}))};Nr.displayName="KendoReactGridStatusBar";const Pr=e=>{var t;const n=e.slice();for(let e=0;e<n.length;e++)for(;n[e]&&null!=(t=n[e].children)&&t.length;)n.splice(e,1,...n[e].children);return n};Object.defineProperty(e,"getSelectedState",{enumerable:!0,get:function(){return r.getSelectedState}}),Object.defineProperty(e,"getSelectedStateFromKeyDown",{enumerable:!0,get:function(){return r.getSelectedStateFromKeyDown}}),Object.defineProperty(e,"setSelectedState",{enumerable:!0,get:function(){return r.setSelectedState}}),e.GRID_COL_INDEX_ATTRIBUTE=ft,e.GRID_PREVENT_SELECTION_ELEMENT=ht,e.GRID_ROW_INDEX_ATTRIBUTE=gt,e.Grid=Vl,e.GridAIPrompt=wr,e.GridCell=cn,e.GridColumn=I,e.GridColumnMenuCheckboxFilter=e=>{const{uniqueData:t=or.uniqueData}=e,n=y.useContext(Q),r=(t,n)=>{const l=e.column.field||"",r=t.map((e=>M(l,e)));return n?r.filter(((e,t)=>r.indexOf(e)===t)):r},c=()=>e.filter?o.clone(e.filter):{filters:[],logic:"and"},d=y.useRef((()=>{const t=e.column.field;return c().filters.findIndex((e=>e.filters&&e.filters.length>0&&e.filters[0].field===t))})()),[u,p]=y.useState(e.expanded||!1),[g,f]=y.useState(!1),[h,v]=y.useState(""),[C,E]=y.useState(r(e.data,t)||[]),[b,k]=y.useState(r(e.data,!1)||[]),[x,I]=y.useState(c());y.useEffect((()=>{const t=e.column.field||"",n=e.data.map((e=>M(t,e)));rr(n,b)||(E(n),k(n))}),[e.column,e.data]);const S=()=>void 0!==e.expanded,w=n=>{const o=e.searchBoxFilterOperator?e.searchBoxFilterOperator:"startswith",a={logic:"and",filters:[{field:e.column.field,operator:o,value:n.target.value,ignoreCase:!0}]};v(n.target.value),E(r(l.filterBy(e.data||[],a),t))},R=t=>{if(t.preventDefault(),!e.onFilterChange)return;const n=x||null;null!==n&&n.filters.length>0?(d.current>=0&&n.filters.splice(d.current,1),e.onFilterChange(n,t)):e.onFilterChange(null,t),e.onCloseMenu&&e.onCloseMenu()},N=t=>{if(t.preventDefault(),!e.onFilterChange)return;const n=x||null;e.onFilterChange(n,t),e.onCloseMenu&&e.onCloseMenu()},P=(t,n)=>{const l=e.column.field||"",r={...x},o=[...x.filters];let a=[];if(-1!==d.current&&r.filters[d.current].filters&&"all"!==n&&(a=r.filters[d.current].filters),t.value&&"all"===n)C.forEach((e=>{a.push({field:l,operator:"eq",value:e})}));else if(t.value)a.push({field:l,operator:"eq",value:n});else if(x){const e=a.findIndex((e=>e.value===n));a.splice(e,1)}r.logic="and",-1!==d.current?o[d.current]={logic:"or",filters:a}:o.push({logic:"or",filters:a}),(!t.value&&"all"===n||0===a.length)&&o.splice(d.current,1),r.filters=o,I(r)},T=()=>{let e=!1;if(x){const t=[...x.filters];return-1!==d.current&&(e=C.every((e=>!(-1===d.current||!t[d.current].filters)&&t[d.current].filters.findIndex((t=>t.value===e))>=0)),e)}return e},D=a.useLocalization(),{column:L}=e;if(!L||!L.field)return y.createElement("div",null);const A=S()?e.expanded:u,F=[];if(x){const t=[...x.filters];d.current=t.findIndex((e=>!!(e.filters&&e.filters.length>0)&&e.filters[0].field===L.field)),-1!==d.current&&t[d.current].filters.length>0&&t[d.current].filters.forEach((t=>{t.field===e.column.field&&F.push(t.value)}))}const G=D.toLanguageString(ue,rt[ue]),B=e.searchBox?y.createElement(e.searchBox,{value:h,onChange:w}):y.createElement("div",{className:"k-searchbox k-textbox k-input k-input-md k-input-solid "+(null!=n&&n.mobileMode?"k-input-lg":"k-input-md")},y.createElement(o.IconWrap,{className:"k-input-icon",name:"search",icon:i.searchIcon}),y.createElement(s.Input,{className:"k-input-inner",type:"text",placeholder:D.toLanguageString(be,rt[be]),value:h,onChange:e=>w(e.nativeEvent)}),y.createElement(m.Button,{type:"button",rounded:null,className:"k-input-button",onClick:()=>{const n=e.searchBoxFilterOperator?e.searchBoxFilterOperator:"startswith",o={logic:"and",filters:[{field:e.column.field,operator:n,value:"",ignoreCase:!0}]};v(""),E(r(l.filterBy(e.data||[],o),t))},icon:"x","aria-label":G,svgIcon:i.xIcon})),O=F.filter(((e,t)=>F.indexOf(e)===t));return y.createElement(Wl,null,!(e.alwaysExpand&&(null==n||!n.mobileMode))&&y.createElement("div",{className:"k-expander"},y.createElement(_l,{title:D.toLanguageString(fe,rt[fe]),iconClass:"k-i-filter",svgIcon:i.filterIcon,expandable:!0,expanded:!!A,onClick:()=>{const t=S(),l=!(t?e.expanded:u);e.onExpandChange&&e.onExpandChange(l),f(!g),!t&&(null==n||!n.mobileMode)&&p(l)}})),null!=n&&n.mobileMode&&g?y.createElement(lr,{onBackView:()=>{f(!1)},handleClose:()=>{f(!1),e.onCloseMenu&&e.onCloseMenu()},searchBox:e.searchBox,handleCheckBoxChange:P,isAllSelected:T,currentData:C,uniqueFilterValues:O,submit:N,clear:R}):y.createElement(Yl,{show:(e.alwaysExpand||!!A)&&!(null!=n&&n.mobileMode)},y.createElement("form",{className:"k-filter-menu",onSubmit:N,onReset:R},y.createElement("div",{className:"k-filter-menu-container"},B,y.createElement("ul",{className:"k-reset k-multicheck-wrap"},y.createElement("li",{className:"k-item k-check-all-wrap"},y.createElement(s.Checkbox,{label:D.toLanguageString(ye,rt[ye]),onChange:e=>P(e,"all"),checked:T()})),C.map(((e,t)=>y.createElement("li",{className:"k-item",key:t},y.createElement(s.Checkbox,{label:String(e),onChange:t=>P(t,e),checked:O.includes(e)}))))),y.createElement("div",{className:"k-filter-selected-items"},O.length+" "+D.toLanguageString(we,rt[we])),y.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},y.createElement(m.Button,{themeColor:"primary",type:"submit"},D.toLanguageString(ge,rt[ge])),y.createElement(m.Button,{className:"k-button",type:"reset"},D.toLanguageString(ue,rt[ue])))))))},e.GridColumnMenuColumnsChooser=sr,e.GridColumnMenuColumnsList=ar,e.GridColumnMenuFilter=e=>{const t=y.useContext(Q),n=y.useCallback((()=>{let t;if(e.column&&e.column.field){const n=jt(e.column.filter),l=Ut(e.filterOperators,n);t=nr(e.column.field,e.filter),t=t?{...t,filters:t.filters.map((e=>({...e})))}:{logic:"and",filters:[{field:e.column.field,operator:l,value:Kt(l)?null:void 0},{field:e.column.field,operator:l,value:Kt(l)?null:void 0}]},1===t.filters.filter((t=>t.field===e.column.field)).length&&t.filters.splice(1,0,{field:e.column.field,operator:l})}return t}),[e.column]),[l,r]=y.useState(e.expanded||!1),[o,s]=y.useState(!1),[c,d]=y.useState(n()),u=()=>void 0!==e.expanded,p=(e,t)=>{const n=c.filters.map(((n,l)=>l===e?{...n,value:t.value,operator:t.operator}:n));d({...c,filters:n})},g=t=>{if(t.preventDefault(),!e.onFilterChange)return;const n=e.column.field,l=tr(e.filter),r=nr(n,e.filter),o=l.filters.filter((e=>e!==r));o.length?e.onFilterChange({...l,filters:o},t):e.onFilterChange(null,t),e.onCloseMenu&&e.onCloseMenu()},f=()=>({...c,filters:c.filters.filter((e=>void 0!==e.value&&null!==e.value&&""!==e.value||null===e.value&&e.operator))}),h=t=>{if(t.preventDefault(),!e.onFilterChange)return;const n=e.column.field,l=tr(e.filter),r=nr(n,e.filter),o=f();let a=null;if(r&&o.filters.length>0){const e=l.filters.map((e=>e===r?o:e));a={...l,filters:e}}else if(0===o.filters.length){const e=l.filters.filter((e=>e!==r));e.length&&(a={...l,filters:e})}else a={...l,filters:[...l.filters,o]};e.onFilterChange(a,t),e.onCloseMenu&&e.onCloseMenu()},{column:v,filterUI:C,hideSecondFilter:E,filterOperators:b}=e,k=a.useLocalization();if(!v||!v.field)return y.createElement("div",null);const x=jt(v.filter),I=void 0!==E?E:Wt[x],S=c.filters,w=Vt(b[x],k),R=Vt(qt,k),N={field:v.field,value:S[0].value,operator:S[0].operator,operators:w,booleanValues:R,onChange:e=>{p(0,e)},filterType:x},P={field:v.field,value:S[1].value,operator:S[1].operator,operators:w,booleanValues:R,onChange:e=>{p(1,e)},filterType:x},M=c.logic,T=Vt(zt,k),D={value:T.find((e=>e.operator===(null===M?"":M))),onChange:e=>{let t=e.target.value;"SPAN"===e.target.tagName&&(t=e.target.parentElement.value),d({...c,logic:t})},data:T},L=C,A={firstFilterProps:N,secondFilterProps:P,logicData:D.data,logicValue:D.value,onLogicChange:D.onChange,hideSecondFilter:I},F=0!==f().filters.length||Kt(S[0].operator)||Kt(S[1].operator),G=u()?e.expanded:l,B=e.alwaysExpand&&!t.mobileMode,O=`${k.toLanguageString(Ve,rt[Ve])} ${v.title||v.field}`;return y.createElement(Wl,null,!B&&y.createElement("div",{className:"k-expander"},y.createElement(_l,{title:k.toLanguageString(fe,rt[fe]),iconClass:"k-i-filter",svgIcon:i.filterIcon,expandable:!0,expanded:!!G,onClick:()=>{const n=u(),a=!(n?e.expanded:l);e.onExpandChange&&e.onExpandChange(a),s(!o),!n&&!t.mobileMode&&r(a)}})),t.mobileMode&&o?y.createElement(er,{FilterUI:L,filterUIProps:A,onBackView:()=>{s(!1)},adaptiveTitle:O,handleClose:()=>{s(!1),e.onCloseMenu&&e.onCloseMenu()},submit:h,clear:g,isFilterValid:F}):y.createElement(Yl,{show:(B||!!G)&&!t.mobileMode},y.createElement("form",{className:"k-filter-menu",onSubmit:h,onReset:g},y.createElement("div",{className:"k-filter-menu-container"},L?y.createElement(L,{...A}):y.createElement(Ql,{...A}),y.createElement("div",{className:"k-actions k-actions-stretched"},y.createElement(m.Button,{themeColor:"primary",disabled:!F},k.toLanguageString(ge,rt[ge])),y.createElement(m.Button,{type:"reset"},k.toLanguageString(ue,rt[ue])))))))},e.GridColumnMenuFilterCell=Jl,e.GridColumnMenuFilterUI=Ql,e.GridColumnMenuGroup=e=>{const{group:t,column:n}=e,l=a.useLocalization(),r=!!(t&&n.field&&t.find((e=>e.field===n.field))),o=r?se:ie;return y.createElement(Wl,null,y.createElement(_l,{selected:r,title:l.toLanguageString(o,rt[o]),iconClass:r?"k-i-ungroup":"k-i-group",svgIcon:r?i.ungroupIcon:i.groupIcon,onClick:t=>{if(t.preventDefault(),e.onGroupChange){if(!e.column.field)return;const n=(e.group||[]).slice(),l=n.findIndex((t=>t.field===e.column.field));l>-1?n.splice(l,1):n.push({field:e.column.field}),e.onGroupChange(n,t)}e.onCloseMenu&&e.onCloseMenu()}}))},e.GridColumnMenuItem=_l,e.GridColumnMenuItemContent=Yl,e.GridColumnMenuItemGroup=Wl,e.GridColumnMenuSort=e=>{const t=(t,n)=>{if(t.preventDefault(),!e.onSortChange)return;const{allowUnsort:l,mode:r}=Ln(e.sortable||!1,!1),o=(e.sort||[]).filter((t=>t.field===e.column.field))[0],a=An[l][o&&o.dir||""][n],i="single"===r?[]:(e.sort||[]).filter((t=>t.field!==e.column.field));""!==a&&e.column.field&&i.push({field:e.column.field,dir:a}),e.onSortChange(i,t)},{sort:n,column:l}=e,r=jl(l.field,n),o=a.useLocalization();return y.createElement(Wl,null,y.createElement(_l,{title:o.toLanguageString(he,rt[he]),iconClass:"k-i-sort-asc-sm",svgIcon:i.sortAscSmallIcon,selected:$l(r,n),onClick:n=>{t(n,"asc"),e.onCloseMenu&&e.onCloseMenu()}}),y.createElement(_l,{title:o.toLanguageString(ve,rt[ve]),iconClass:"k-i-sort-desc-sm",svgIcon:i.sortDescSmallIcon,selected:Xl(r,n),onClick:n=>{t(n,Ul),e.onCloseMenu&&e.onCloseMenu()}}))},e.GridColumnMenuWrapper=Nt,e.GridCommonDragLogic=Pn,e.GridContextMenu=Dn,e.GridContextMenuAnchorPart=N,e.GridContextMenuItemNames=P,e.GridDetailRow=e=>null,e.GridEditCell=kt,e.GridFilterCell=Qt,e.GridGroupCell=gn,e.GridHeaderCell=Pt,e.GridHierarchyCell=mt,e.GridNoRecords=vn,e.GridPdfExportButton=e=>{const t=a.useLocalization(),n=y.useContext(Q),l=o.classNames("k-grid-pdf",e.className),r=t.toLanguageString(xe,rt[xe]);return y.createElement(m.Button,{title:r,type:"button",...e,icon:"file-pdf",svgIcon:i.filePdfIcon,className:l,onClick:t=>{n.exportAsPdf(),e.onClick&&e.onClick.call(void 0,t)}},e.children||r)},e.GridRow=fn,e.GridSearchBox=e=>{const t=a.useLocalization(),n=y.useContext(Q),[l]=X(),c=r.getStringFromSearch(l.search),d=o.classNames("k-grid-search","k-searchbox",e.className),u=t.toLanguageString(ke,rt[ke]);return y.createElement(s.TextBox,{placeholder:u,value:c,prefix:()=>y.createElement(s.InputPrefix,{orientation:"horizontal"},y.createElement(o.SvgIcon,{icon:i.searchIcon})),...e,className:d,onChange:t=>{n.searchChange(t),e.onChange&&e.onChange.call(void 0,t)}})},e.GridSelectionCell=Dl,e.GridToolbar=cr,e.GridToolbarAIAssistant=Rr,e.GridToolbarCheckboxFilter=hr,e.GridToolbarColumnsChooser=Cr,e.GridToolbarFilter=br,e.GridToolbarGroup=Ir,e.GridToolbarSeparator=ur,e.GridToolbarSort=xr,e.GridToolbarSpacer=dr,e.StatusBar=Nr,e.booleanFilterValues=qt,e.cellBoolDropdownChange=$t,e.cellInputChange=_t,e.cellOperatorChange=Xt,e.combineSmartFilters=Jt,e.contextMenuItemsMap=Tn,e.filterGroupByField=nr,e.getStatusData=e=>{const{dataItems:t,target:n}=e,l=Pr(n.columns).map((e=>e.field)).filter((e=>e&&"string"==typeof e)).map((e=>o.getter(e))),r={dates:[],numbers:[],booleans:[],others:[]};t.forEach((t=>{const n=(t=>e.select[o.getter(e.dataItemKey)(t)])(t);Array.isArray(n)&&n.forEach((e=>{(e=>{"number"==typeof e?r.numbers.push(e):"boolean"==typeof e?r.booleans.push(e):e instanceof Date?r.dates.push(e):r.others.push(e)})(l[e](t))}))}));const a=r.dates.map((e=>e.getTime())),i=r.booleans.filter((e=>e)).length,s=r.booleans.filter((e=>!e)).length,c=r.numbers.length?r.numbers.reduce(((e,t)=>e+t),0):void 0,d={sum:c,average:"number"==typeof c?c/r.numbers.length:void 0,min:r.numbers.length?Math.min(...r.numbers):void 0,max:r.numbers.length?Math.max(...r.numbers):void 0,count:r.numbers.length+r.booleans.length+r.dates.length+r.others.length,isTrue:i>0?i:void 0,isFalse:s>0?s:void 0,earliest:r.dates.length?new Date(Math.min(...a)):void 0,latest:r.dates.length?new Date(Math.max(...a)):void 0},u=(e,t)=>"sum"!==t&&"average"!==t||"number"!=typeof e?("earliest"===t||"latest"===t)&&e instanceof Date?e.toLocaleDateString():String(e):e.toFixed(2),m=[];return Object.keys(d).forEach((e=>{const t=e,n=d[t];void 0!==n&&m.push({type:t,value:n,formattedValue:u(n,t)})})),m},e.gridMessages=rt,e.isColumnMenuFilterActive=(e,t)=>!!nr(e,t),e.isColumnMenuSortActive=(e,t)=>{const n=jl(e,t);return Xl(n,t)||$l(n,t)},e.leafColumns=Pr,e.operators=Ht,e.pagerFirstPage=te,e.pagerInfo=ee,e.pagerItemPerPage=oe,e.pagerLastPage=re,e.pagerNextPage=le,e.pagerPreviousPage=ne,e.parseFilterDates=Yt,e.rootFilterOrDefault=tr}));
