/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-react-common"),require("@progress/kendo-react-buttons"),require("@progress/kendo-react-intl"),require("@progress/kendo-svg-icons"),require("@progress/kendo-react-inputs"),require("@progress/kendo-react-dropdowns"),require("react-dom"),require("@progress/kendo-data-query"),require("@progress/kendo-react-dateinputs"),require("@progress/kendo-react-popup"),require("@progress/kendo-react-animation")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-react-common","@progress/kendo-react-buttons","@progress/kendo-react-intl","@progress/kendo-svg-icons","@progress/kendo-react-inputs","@progress/kendo-react-dropdowns","react-dom","@progress/kendo-data-query","@progress/kendo-react-dateinputs","@progress/kendo-react-popup","@progress/kendo-react-animation"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactDatatools={},e.React,e.PropTypes,e.KendoReactCommon,e.KendoReactButtons,e.KendoReactIntl,e.KendoSvgIcons,e.KendoReactInputs,e.KendoReactDropdowns,e.ReactDOM,e.KendoDataQuery,e.KendoReactDateinputs,e.KendoReactPopup,e.KendoReactAnimation)}(this,(function(e,t,r,n,a,l,o,i,s,c,u,d,p,g){"use strict";function m(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var f=m(t),v=m(c);const h="pager.info",E="pager.firstPage",b="pager.previousPage",y="pager.nextPage",C="pager.lastPage",I="pager.itemsPerPage",x="pager.page",k="pager.of",D="pager.totalPages",S="pager.pageNumberLabel",T="pager.ariaKeyshortcuts",w="pager.pageSizeAriaLabel",R="pager.moreButtonLabel",N="filter.eqOperator",L="filter.notEqOperator",F="filter.isNullOperator",A="filter.isNotNullOperator",M="filter.isEmptyOperator",O="filter.isNotEmptyOperator",P="filter.startsWithOperator",K="filter.containsOperator",_="filter.notContainsOperator",G="filter.endsWithOperator",B="filter.gteOperator",q="filter.gtOperator",z="filter.lteOperator",X="filter.ltOperator",j="filter.isTrue",H="filter.isFalse",$="filter.afterOrEqualOperator",W="filter.afterOperator",U="filter.beforeOperator",Y="filter.beforeOrEqualOperator",V="filter.andLogic",J="filter.orLogic",Q="filter.addExpression",Z="filter.addGroup",ee="filter.close",te="filter.groupAriaLabel",re="filter.expressionAriaLabel",ne="filter.expressionDropdownAriaLabel",ae="filter.expressionOperatorDropdownAriaLabel",le="filter.enumFilterDropdownAriaLabel",oe="filter.numericFilterAriaLabel",ie="filter.textFilterAriaLabel",se="columnMenu.filterClearButton",ce="columnMenu.filterSubmitButton",ue="columnMenu.filterTitle",de="columnMenu.sortAscending",pe="columnMenu.sortDescending",ge="columnMenu.filterEqOperator",me="columnMenu.filterNotEqOperator",fe="columnMenu.filterIsNullOperator",ve="columnMenu.filterIsNotNullOperator",he="columnMenu.filterIsEmptyOperator",Ee="columnMenu.filterIsNotEmptyOperator",be="columnMenu.filterStartsWithOperator",ye="columnMenu.filterContainsOperator",Ce="columnMenu.filterNotContainsOperator",Ie="columnMenu.filterEndsWithOperator",xe="columnMenu.filterGteOperator",ke="columnMenu.filterGtOperator",De="columnMenu.filterLteOperator",Se="columnMenu.filterLtOperator",Te="columnMenu.filterIsTrue",we="columnMenu.filterAfterOrEqualOperator",Re="columnMenu.filterAfterOperator",Ne="columnMenu.filterBeforeOperator",Le="columnMenu.filterBeforeOrEqualOperator",Fe="columnMenu.filterAndLogic",Ae="columnMenu.filterOrLogic",Me="sort.ariaLabel",Oe="filter.ariaLabel",Pe={[I]:"items per page","pager.pageSelection":"Select page",[h]:"{0} - {1} of {2} items",[E]:"Go to the first page",[b]:"Go to the previous page",[y]:"Go to the next page",[C]:"Go to the last page",[x]:"Page",[k]:"of",[D]:"{0}","pager.pageLabel":"Page",[T]:"Enter ArrowRight ArrowLeft","pager.ariaLabel":"Pager",[w]:"Page size","pager.mobileSelect":"Select",[R]:"More pages",[S]:"Type a page number",[Me]:"Sortable",[Oe]:"Filter",[N]:"Is equal to",[L]:"Is not equal to",[F]:"Is null",[A]:"Is not null",[M]:"Is empty",[O]:"Is not empty",[P]:"Starts with",[K]:"Contains",[_]:"Does not contain",[G]:"Ends with",[B]:"Is greater than or equal to",[q]:"Is greater than",[z]:"Is less than or equal to",[X]:"Is less than",[j]:"Is true",[H]:"Is false",[$]:"Is after or equal to",[W]:"Is after",[U]:"Is before",[Y]:"Is before or equal to",[V]:"And",[J]:"Or",[Q]:"Add Expression",[Z]:"Add Group",[ee]:"Remove",[te]:"Filter toolbar",[re]:"Filter expression row",[ne]:"Filter dropdown",[ae]:"Filter operator dropdown",[le]:"Select True/False",[oe]:"Enter number",[ie]:"Enter text",[se]:"Clear",[ce]:"Filter",[ue]:"Filter",[de]:"Sort Ascending",[pe]:"Sort Descending",[ge]:"Is equal to",[me]:"Is not equal to",[fe]:"Is null",[ve]:"Is not null",[he]:"Is empty",[Ee]:"Is not empty",[be]:"Starts with",[ye]:"Contains",[Ce]:"Does not contain",[Ie]:"Ends with",[xe]:"Is greater than or equal to",[ke]:"Is greater than",[De]:"Is less than or equal to",[Se]:"Is less than",[Te]:"Is true",[we]:"Is after or equal to",[Re]:"Is after",[Ne]:"Is before",[Le]:"Is before or equal to",[Fe]:"And",[Ae]:"Or"},Ke=(e,t)=>t?t(e):{messageKey:e,defaultMessage:Pe[e]},_e=(e,t)=>e.toLanguageString(t.messageKey,t.defaultMessage),Ge=e=>{const t=l.useLocalization(),{messagesMap:r,size:o,totalPages:i,navigatable:s,pagerNumericButtonsRef:c}=e,u=Ke(x,r),d=Ke(R,r),p=_e(t,d),g=(t,r)=>{t.preventDefault(),e.pageChange(r,t)},m=(e,t)=>f.createElement(a.Button,{fillMode:"flat",themeColor:"primary",size:o,rounded:null,role:"button","aria-label":t,onClick:t=>g(t,e),tabIndex:s?-1:void 0},"...");let v=1;const h=e.currentPage,E=e.buttonCount;if(h>E){const e=h%E;v=0===e?h-E+1:h-e+1}const b=Math.min(v+e.buttonCount-1,e.totalPages),y=v>1&&m(v-1,p),C=b<i&&m(b+1,p),I=[];for(let e=v;e<=b;e++)I.push(e);const k=I.map((e=>f.createElement(a.Button,{className:n.classNames({"k-selected":h===e}),key:e,fillMode:"flat",themeColor:"primary",size:o,rounded:null,role:"button","aria-label":_e(t,u)+" "+e,"aria-current":h===e||void 0,onClick:t=>g(t,e),tabIndex:s?-1:void 0},e)));return f.createElement("div",{className:"k-pager-numbers",ref:c},y,k,C)},Be=e=>{const[t,r]=f.useState(e.currentPage),n=l.useInternationalization(),a=l.useLocalization(),o=Ke(x,e.messagesMap),s=Ke(k,e.messagesMap),c=Ke(D,e.messagesMap),u=Ke(S,e.messagesMap);return f.createElement("span",{className:"k-pager-input"},e.visibleElementsRef.current.length>=3&&f.createElement("span",{ref:e.pagerInputTitleRef},_e(a,o)),f.createElement(i.NumericTextBox,{value:void 0!==e.currentPage?e.currentPage:t,onChange:t=>{r(t.target.value),t.target.value&&e.pageChange(t.target.value,t)},min:1,spinners:!1,ariaLabel:_e(a,u),tabIndex:e.navigatable?-1:void 0}),f.createElement("span",null,`${_e(a,s)} ${n.format(_e(a,c),[e.totalPages])}`))},qe=e=>{const{value:t,pageSizes:r,pageSize:n,messagesMap:a,size:o,navigatable:i,visibleElementsRef:c,pagerSizesRef:u,pagerSizesTitleRef:d,adaptive:p,adaptiveTitle:g}=e,m=r.slice(),v=l.useLocalization();void 0===t&&0===m.filter((e=>e===n)).length&&m.unshift(n);const h=Ke(I,a),E=Ke(w,a),b=_e(v,h);return c.current.length>=1&&f.createElement("span",{className:"k-pager-sizes",ref:u},f.createElement(s.DropDownList,{value:void 0!==t?t:n,data:m,onChange:t=>{e.pageChange&&e.pageChange({skip:0,take:parseInt(t.target.value,10)},t)},ariaLabel:_e(v,E),size:o,tabIndex:i?-1:void 0,adaptive:p,adaptiveTitle:g||String(b).charAt(0).toUpperCase()+String(b).slice(1)}),c.current.length>=2&&f.createElement("span",{ref:d},b))},ze=f.forwardRef(((e,t)=>{const{buttonCount:r=Xe.buttonCount,info:i=Xe.info,type:s=Xe.type,size:c=Xe.size,disabled:u=Xe.disabled,total:d,skip:p,take:g,className:m,style:v,pageSizes:I,pageSizeValue:S,previousNext:w,responsive:R=Xe.responsive,messagesMap:N,dir:L,navigatable:F,adaptive:A,adaptiveTitle:M}=e,O=l.useLocalization(),P=l.useInternationalization(),K=f.useRef({element:null,props:e}),_=f.useRef(null),G=f.useRef(0),B=f.useRef(null),q=f.useRef(null),z=f.useRef(null),X=f.useRef(null),j=f.useRef(null),H=f.useRef(null),$=f.useRef([B,q,z,X,j]),W=f.useRef([]),[U,Y]=f.useReducer((e=>e+1),0);f.useImperativeHandle(K,(()=>({get element(){return V()},props:e}))),f.useImperativeHandle(t,(()=>K.current));const V=()=>_.current;f.useEffect((()=>{const e=_.current;if(!e)return;te();const t=window.ResizeObserver,r=t&&new t(te);return r&&r.observe(e),()=>{r&&r.disconnect()}}),[]);const J="rtl"===L,Q=Math.floor(p/g)+1,Z=Math.ceil((d||0)/g),ee=(t,r)=>{e.onPageChange&&t>0&&t<=Z&&e.onPageChange({target:K.current,skip:(t-1)*e.take,take:e.take,syntheticEvent:r,nativeEvent:r.nativeEvent,targetEvent:r})},te=()=>{const e=_.current;if(!e)return;let t=0;const r=e.clientWidth||0,n=parseInt(window.getComputedStyle(e).gap||"0",10),a=Array.from(e.children).reduce(((e,t)=>e+=Math.ceil(t.clientWidth||0)),0);if(t=a+(Array.from(e.children).length-1)*n,R&&t>r){const e=[...$.current],r=e.shift();G.current=t,$.current=e,r&&(W.current=[r,...W.current])}else if(R&&r>G.current){const e=[...W.current],r=e.shift();W.current=e,r&&($.current=[...$.current,r]),G.current=t}Y()},re=Ke(E,N),ne=Ke(b,N),ae=Ke(y,N),le=Ke(C,N),oe=Ke(h,N),ie=Ke(T,N),se=Ke(x,N),ce=Ke(k,N),ue=Ke(D,N),de=`${O.toLanguageString(se.messageKey,se.defaultMessage)} ${P.format(O.toLanguageString(ue.messageKey,ue.defaultMessage),[Q])} ${O.toLanguageString(ce.messageKey,ce.defaultMessage)} ${P.format(O.toLanguageString(ue.messageKey,ue.defaultMessage),[Z])}`,pe=(e,t,r,n,l,o)=>f.createElement(a.Button,{fillMode:"flat",themeColor:"base",size:c,rounded:null,className:t,icon:n,svgIcon:l,title:r,role:"button","aria-disabled":o,tabIndex:F?-1:void 0,onClick:t=>{t.preventDefault(),ee(e,t)}}),ge=I&&f.createElement(qe,{pageChange:(t,r)=>{const n={target:null==K?void 0:K.current,syntheticEvent:r.syntheticEvent,nativeEvent:r.nativeEvent,targetEvent:r,...t};e.onPageChange&&e.onPageChange(n)},pageSize:g,pageSizes:I,value:S,messagesMap:N,size:c,navigatable:F,pagerSizesRef:j,pagerSizesTitleRef:X,visibleElementsRef:$,adaptive:A,adaptiveTitle:M}),me=i&&$.current.length>=4&&f.createElement("span",{className:"k-pager-info",ref:q},P.format(O.toLanguageString(oe.messageKey,oe.defaultMessage),[Math.min(p+1,d),Math.min(p+g,d),d])),fe="numeric"===s&&5===$.current.length?f.createElement(Ge,{buttonCount:r||0,totalPages:Z,currentPage:Q,pageChange:ee,messagesMap:N,size:c,navigatable:F,pagerNumericButtonsRef:B}):f.createElement(Be,{buttonCount:r||0,totalPages:Z,currentPage:Q,pageChange:ee,messagesMap:N,size:c,navigatable:F,pagerInputTitleRef:z,visibleElementsRef:$});let ve,he,Ee,be;if(w){const e=_e(O,re),{rtlClass:t,rtlIcon:r,isDisabledClass:n,isDisabled:a}=((e,t,r)=>({rtlClass:e?"caret-alt-to-right":"caret-alt-to-left",rtlIcon:e?o.caretAltToRightIcon:o.caretAltToLeftIcon,isDisabledClass:"k-pager-nav k-pager-first"+(1!==t||r?"":" k-disabled"),isDisabled:1===t||void 0}))(J,Q,u);ve=pe(1,n,e,t,r,a);const l=_e(O,ne),{rtlClass:i,rtlIcon:s,isDisabledClass:c,isDisabled:d}=((e,t,r)=>({rtlClass:e?"caret-alt-right":"caret-alt-left",rtlIcon:e?o.caretAltRightIcon:o.caretAltLeftIcon,isDisabledClass:"k-pager-nav"+(1!==t||r?"":" k-disabled"),isDisabled:1===t||void 0}))(J,Q,u);he=pe(Q-1,c,l,i,s,d);const p=_e(O,ae),{rtlClass:g,rtlIcon:m,isDisabledClass:f,isDisabled:v}=((e,t,r,n)=>({rtlClass:e?"caret-alt-left":"caret-alt-right",rtlIcon:e?o.caretAltLeftIcon:o.caretAltRightIcon,isDisabledClass:"k-pager-nav"+(t>=r&&!n?" k-disabled":""),isDisabled:t>=r||void 0}))(J,Q,Z,u);Ee=pe(Q+1,f,p,g,m,v);const h=_e(O,le),{rtlClass:E,rtlIcon:b,isDisabledClass:y,isDisabled:C}=((e,t,r,n)=>({rtlClass:e?"caret-alt-to-left":"caret-alt-to-right",rtlIcon:e?o.caretAltToLeftIcon:o.caretAltToRightIcon,isDisabledClass:"k-pager-nav k-pager-last"+(t>=r&&!n?" k-disabled":""),isDisabled:t>=r||void 0}))(J,Q,Z,u);be=pe(Z,y,h,E,b,C)}return f.createElement("div",{ref:_,className:n.classNames("k-pager",{[`k-pager-${n.kendoThemeMaps.sizeMap[c]||c}`]:c,"k-pager-responsive":R,"k-disabled":u},m),style:v,role:"application","aria-roledescription":"pager",dir:L,"aria-keyshortcuts":O.toLanguageString(ie.messageKey,ie.defaultMessage),"aria-label":de,tabIndex:F?0:void 0,onKeyDown:e=>{const t=_.current,r=e.keyCode;!t||!F||((r===n.Keys.home||e.metaKey&&r===n.Keys.left)&&ee(1,e),(r===n.Keys.end||e.metaKey&&r===n.Keys.right)&&ee(Z,e),document.activeElement===t?(r===n.Keys.enter&&(n.focusFirstFocusableChild(t),n.enableNavigatableContainer(t)),(r===n.Keys.left||r===n.Keys.up)&&ee(Q-1,e),(r===n.Keys.right||r===n.Keys.down)&&ee(Q+1,e)):(r===n.Keys.esc&&(t.focus(),n.disableNavigatableContainer(t)),n.keepFocusInContainer(e,t,n.TABBABLE_ELEMENTS)))}},f.createElement("div",{className:n.classNames("k-pager-numbers-wrap"),ref:H},ve,he,fe,Ee,be),ge,me)})),Xe={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1,responsive:!0};ze.displayName="Pager",ze.propTypes={className:r.string,style:r.object,total:r.number.isRequired,skip:r.number.isRequired,take:r.number.isRequired,buttonCount:r.number,info:r.bool,type:r.oneOf(["numeric","input"]),pageSizes:r.oneOfType([r.arrayOf(r.number.isRequired),r.arrayOf(r.oneOfType([r.number.isRequired,r.string.isRequired]).isRequired)]),previousNext:r.bool,onPageChange:r.func,messagesMap:r.func,size:r.oneOf([null,"small","medium","large"]),dir:r.string,disabled:r.bool,responsive:r.bool,adaptive:r.bool,adaptiveTitle:r.string};let je=class extends f.Component{constructor(){super(...arguments),this.draggable=null,this.isDragged=!1,this.onDrag=e=>{this.isDragged=!0;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!1)},this.onRelease=e=>{if(!this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!0),this.isDragged=!1},this.onDoubleClick=e=>{if(this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.autofit&&this.props.autofit(e,t)}}render(){return f.createElement(n.Draggable,{onPress:e=>{e.event.originalEvent.stopPropagation()},onDrag:this.onDrag,onRelease:this.onRelease,autoScroll:{direction:{vertical:!1,horizontal:!0}},ref:e=>{this.draggable=e}},f.createElement("span",{className:"k-column-resizer",style:{touchAction:"none"},draggable:!1,onDoubleClick:this.onDoubleClick}))}};const He="data-keyboardnavlevel",$e="data-keyboardnavscope",We="data-keyboardnavheader",Ue="data-keyboardnavbody",Ye="data-keyboardnavid",Ve="_filter",Je="k-grid-cancel-command",Qe="k-grid-edit-command",Ze={[$e]:!0},et={[We]:!0},tt={[Ue]:!0},rt=(e,t,r="cell")=>`${t}_${e}_${r}`,nt=e=>{if(!e)return;return e.getAttribute(Ye)||void 0},at=e=>!!e&&!!e.getAttribute(Ye),lt=e=>e&&e.parentElement&&e.parentElement.closest(`[${He}]`),ot=(e,t)=>e.querySelector(`[${Ye}='${t}']`),it=e=>document.querySelector(`[data-keyboardnavid="${e}"]`);async function st(e,t,r=5e3){const n=Date.now();if(t)for(;Date.now()-n<r;){const r=t.querySelector(e);if(r)return r;await new Promise((e=>setTimeout(e,20)))}return!1}const ct=e=>e.querySelector(`[${We}]`),ut=e=>e.querySelector(`[${Ue}]`),dt=(e,t)=>{const{scope:r,navigationStateRef:n,contextStateRef:a}=e;if(!n.current||!r)return;const l=Et(n.current.navigationMatrix),o=ot(r,l);pt({elementForFocus:o,contextStateRef:a,event:t})},pt=e=>{const{elementForFocus:t,event:r,contextStateRef:n,prevElement:a}=e;if(n.current&&t&&t.focus){null==r||r.preventDefault();const e=t.querySelector(".k-checkbox-wrap .k-checkbox");e&&e.focus?e.focus():t.focus(),at(t)&&(t.setAttribute("tabIndex","0"),n.current.activeId=nt(t)),a&&at(a)&&a.setAttribute("tabIndex","-1")}},gt=(e,t,r,n,a)=>{if(!r)return[];let l=e+(a?-1:1);for(;l>=0&&l<n.length;){const e=n[l][t];if(e!==r)return[e,[l,t]];l+=a?-1:1}return[]},mt=(e,t,r,n,a)=>{if(!r)return[];let l=t+(a?-1:1);for(;l>=0&&n[e]&&l<n[e].length;){const t=n[e][l];if(t!==r)return[t,[e,l]];l+=a?-1:1}return[]},ft=(e,t)=>{if(t)for(let r=0;r<e.length;r++)for(let n=0;n<e[r].length;n++)if(e[r][n]===t)return[r,n]},vt=(e,t,r)=>{let n;do{if(n=t[r-(e+=1)],n&&n.editable)break}while(r-e>=0);return n},ht=(e,t,r)=>{let n;do{if(n=t[r+(e+=1)],n&&n.editable)break}while(r+e-1<t.length);return n},Et=e=>e.flat().find((e=>e.endsWith("cell"))),bt=e=>e?`${e}${Ve}`:"",yt={generateNavigatableId:rt,getNavigatableId:nt,getNavigatableLevel:e=>{if(e)return parseInt(e.getAttribute(He)||"",10)},getNavigatableElement:(e,t={level:0})=>e.querySelector(`[${He}='${t.level}']`),getClosestNavigatableElement:lt,getActiveNavDataElement:ot,getClosestScope:e=>e&&e.parentElement&&e.parentElement.closest(`[${$e}]`),getHeaderElement:ct,getBodyElement:ut,getFocusableElements:(e,t={focusable:!1})=>{const r=t.focusable?n.FOCUSABLE_ELEMENTS:n.TABBABLE_ELEMENTS;return Array.from(e.querySelectorAll(r.join(",")))},getNavigatableElements:(e,t={level:0})=>{if(!e)return[];const r=n.FOCUSABLE_ELEMENTS.map((e=>e+`[${He}='${t.level}']`)).join(",");return Array.from(e.querySelectorAll(r))},filterNavigatableElements:(e={level:0})=>{const t=n.FOCUSABLE_ELEMENTS.map((t=>t+`[${He}='${e.level}']`)).join(",");return e=>e.matches(t)},focusElement:pt,getIdPrefix:e=>e.current?e.current.idPrefix:"",isNavigatable:at,findNextIdByRowIndex:gt,findNextIdByCellIndex:mt,findId:ft,getNextNavigationIndex:e=>e.current?e.current.navigationMatrix.length:0,getFilterColumnId:bt,focusFirstDataElement:dt,getClosestCancelButton:e=>{var t;const r=(null==(t=null==e?void 0:e.parentElement)?void 0:t.closest(".k-grid-edit-row"))||null;return null==r?void 0:r.querySelector("."+Je)},getClosestEditButton:async e=>{var t;const r=(null==(t=null==e?void 0:e.parentElement)?void 0:t.closest(".k-grid-edit-row"))||null;return await st("."+Qe,r)},getRowAriaRowIndex:e=>{var t;const r=e&&e.parentElement&&e.parentElement.closest(".k-table-row");let n;return null==(t=null==r?void 0:r.parentElement)||t.childNodes.forEach((e=>{if(r===e){const t=e.previousSibling;n={current:r.getAttribute("aria-rowindex"),prev:t&&t.getAttribute("aria-rowindex")}}})),n},getRemoveButtonByAriaRowIndex:e=>document.querySelector(`[aria-rowindex="${e}"] .k-grid-remove-command`),getTableCellByKeyboardNavId:it,getParentCell:e=>(null==e?void 0:e.closest(".k-table-td"))||null,waitForElementToBeVisible:st,getNextEditableCell:(e,t,r,n)=>{var a;let l;if(e){const[a,o]=e;let i,s=0;i=ht(s,t,o),i?l=mt(a,i.ariaColumnIndex,r,n,!0):(s=-1,i=ht(s,t,0),l=mt(a+1,i.ariaColumnIndex,r,n,!0))}return{nextCell:l&&l[0]&&it(l[0]),elementToFocus:l&&l[0]&&(null==(a=it(l[0]))?void 0:a.getAttribute("role"))}},getPrevEditableCell:(e,t,r,n)=>{var a;let l;const[o,i]=e;let s;const c=t.length;return s=vt(0,t,i),s?l=mt(o,s.ariaColumnIndex,r,n,!0):(s=vt(0,t,c),l=mt(o-1,s.ariaColumnIndex,r,n,!0)),{prevCell:l&&l[0]&&it(l[0]),elementToFocus:l&&l[0]&&(null==(a=it(l[0]))?void 0:a.getAttribute("role"))}},getClosestCellNavId:e=>{var t;return(null==(t=lt(e))?void 0:t.getAttribute("data-keyboardnavid"))||e.getAttribute("data-keyboardnavid")}},Ct={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};function It(e,t){const r=e[t].depth;let n=null;for(let a=t+1;a<e.length;a++)if(e[a].depth===r){n=e[a];break}return n}const xt=e=>{let t=e.width?parseFloat(e.width.toString()):0;return!t&&e.children&&e.children.length&&(t=e.children.reduce(((e,t)=>xt(t)+e),0)),t};function kt(e,t,r){const n=new Array(e.length).fill(0);let a=0;t.forEach((e=>{if(e.locked&&(!e.left||r))if(e.left=n[e.depth],a=xt(e),0===e.children.length)for(let t=e.depth;t<n.length;t++)n[t]+=a;else n[e.depth]+=a}))}function Dt(e,t,r){let n=0;const a=new Array(e.length).fill(0);for(let e=t.length-1;e>=0;e--){const l=t[e];if(l.locked&&(!l.right||r)){if(l.right=a[l.depth],n=xt(l),0===l.children.length)for(let e=l.depth;e<a.length;e++)a[e]+=n;else a[l.depth]+=n;const r=It(t,e);l.rightBorder=!(r&&r.locked)}}}function St(e){return!(!e||"rtl"!==getComputedStyle(e).direction)}function Tt(e,t){if(!t||!e||!e.originalEvent)return-1;const r={x:e.clientX,y:e.originalEvent.clientY};let n=t.ownerDocument?t.ownerDocument.elementFromPoint(r.x,r.y):null;for(;n&&n.parentElement!==t;)n=n.parentElement;if(!n&&t.matches("tr")){const e=e=>{const t=e.getBoundingClientRect();return r.x>t.left&&r.x<t.left+t.width&&r.y>t.top&&r.y<t.top+t.height};n=Array.from(t.children).find(e)||null}const a=t.children;for(let e=0;e<a.length;e++)if(a[e]===n)return e;return-1}let wt=class extends f.PureComponent{constructor(e){super(e),this.elementRef=f.createRef(),this.state={visible:!1,top:0,left:0,innerText:"",status:"k-i-cancel"},this.hiddenElementRef=f.createRef()}get element(){return this.elementRef.current||this.hiddenElementRef.current}render(){const e=this.hiddenElementRef.current,{status:t}=this.state,r=this.state.visible&&n.canUseDOM&&c.createPortal(f.createElement("div",{ref:this.elementRef,className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.state.top+"px",left:this.state.left+"px"}},f.createElement(n.IconWrap,{className:"k-drag-status",name:t,icon:"k-i-cancel"===t?o.cancelIcon:o.plusIcon}),this.state.innerText),e&&e.ownerDocument?e.ownerDocument.body:document.body);return f.createElement(f.Fragment,null,r,f.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}},Rt=class extends f.PureComponent{constructor(e){super(e),this.state={height:0,visible:!1,left:0,top:0},this.hiddenElementRef=f.createRef()}render(){const e=this.hiddenElementRef.current,t=this.state.visible&&n.canUseDOM&&c.createPortal(f.createElement("div",{className:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.state.top+"px",left:this.state.left+"px",height:this.state.height+"px"}}),e&&e.ownerDocument?e.ownerDocument.body:document.body);return f.createElement(f.Fragment,null,t,f.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}};function Nt(e,t,r){return r?{...e,[t]:r.length?[...r]:void 0}:e&&e[t]?[...e[t]]:[]}function Lt(e,t,r){if(e[r]){const n=Nt(e,r,u.orderBy(Nt(e,r),t)),a=Nt(n,r).map((e=>Lt(e,t,r)));return{...n,[r]:a}}return e}function Ft(e,t,r){let n=Nt(e,r);if(n&&n.length){n=n.map((e=>Ft(e,t,r)));const a=u.filterBy(n,{filters:[{filters:t,logic:"and"},{operator:e=>!!(e[r]||[]).length}],logic:"or"});return Nt(e,r,a)}return e}const At=(e,t,r)=>{const n=e[r]||[],a=n.findIndex(t);if(-1!==a){const t=[...n];return t.splice(a,1),{...e,[r]:t}}return e},Mt=(e,t,r)=>n.getItemPath(e,t,r),Ot="groupId",Pt="items",Kt=(e,t,r)=>{e.items&&(e[Ot]=`${r}${r&&"_"}${e.value}${e.field}`,t>1&&e.items.forEach((r=>Kt(r,t-1,e[Ot]))))},_t=f.createContext(void 0);_t.displayName="KendoReactTableKeyboardNavigationContext";const Gt=(e,t)=>{const r=f.useContext(_t);return r&&e&&!1!==t?{tabIndex:r&&r.activeId&&r.activeId===e?0:-1,[He]:r.level,[Ye]:e}:{}};var Bt=(e=>(e.incell="incell",e.inline="inline",e))(Bt||{});const qt=e=>{const{navigatable:t,contextStateRef:r,navigationStateRef:a,idPrefix:l}=e;t&&(r.current={activeId:"",level:0},a.current={activeElementIsFocused:!1,prevNavigationIndexes:void 0,idPrefix:l||n.guid(),navigationMatrix:[],lastHeaderIndex:-1})},zt=e=>{const{scope:t,contextStateRef:r,navigationStateRef:n}=e;if(r.current&&n.current&&t){Xt(e);const a=Et(n.current.navigationMatrix);if(a){const e=yt.getActiveNavDataElement(t,a);e&&(r.current.activeId=a,e.setAttribute("tabIndex","0"))}}},Xt=e=>{const{navigationStateRef:t,scope:r}=e;if(!t.current||!r)return;const n=[],a=ct(r),l=ut(r),o=(e=>e.querySelector(".k-grid-norecords"))(r)||{children:[]};if(!a||!l)return;const i=Array.from(a.children),s=Array.from(l.children);[...i,...s,o].forEach(((e,t)=>{Array.from(e.children).forEach((e=>{const r=nt(e);if(!r)return;const a=e.rowSpan||1,l=e.colSpan||1;let o;for(let e=t,l=t+a;e<l;e++){if(n[e]||(n[e]=[]),void 0===o){const t=n[e].findIndex((e=>!e));o=t>-1?t:n[e].length}n[e][o]=r||""}for(let e=o+1,a=o+l;e<a;e++)n[t][e]=r||""}))})),t.current.navigationMatrix=n.filter((e=>!!e)),t.current.lastHeaderIndex=i.length-1},jt={onConstructor:qt,onComponentDidMount:zt,onGetSnapshotBeforeUpdate:e=>{const{contextStateRef:t,navigationStateRef:r,document:a}=e;if(t.current&&r.current&&a){const e=n.getActiveElement(a),l=yt.getNavigatableId(e);l&&l===t.current.activeId&&(r.current.activeElementIsFocused=!0)}},onComponentDidUpdate:e=>{const{scope:t,contextStateRef:r,navigationStateRef:n,focusFirst:a,newEditableRow:l,singleEditRow:o,lastActiveElement:i,navigatable:s}=e;if(a&&(qt(e),zt(e),dt(e)),(!s||s&&s.mode===Bt.inline)&&(l&&!o||l&&o&&!i)?(e=>{const t=e.querySelector(".k-grid-edit-cell"),r=null==t?void 0:t.querySelector("input");r?r.focus():t&&t.firstChild.focus()})(l):s&&s.mode===Bt.inline&&l&&o&&i&&i.focus(),Xt(e),r.current&&n.current&&t){if(!yt.getActiveNavDataElement(t,r.current.activeId)){const e=-1===t.className.indexOf("k-treelist")?Et(n.current.navigationMatrix):n.current.navigationMatrix[0][0],a=yt.getActiveNavDataElement(t,e);e&&a&&(r.current.activeId=e,a.setAttribute("tabIndex","0"),n.current.activeElementIsFocused&&a.focus())}n.current.activeElementIsFocused=!1}},onFocus:(e,t)=>{const{contextStateRef:r}=t;if(e.isDefaultPrevented()||!r.current)return;const a=e.target,l=yt.getNavigatableId(a);if(l&&l!==r.current.activeId){const t=yt.getClosestScope(a);if(!t)return;const n=yt.getActiveNavDataElement(t,r.current.activeId);n&&!e.target.classList.contains("k-table-td")&&!e.target.classList.contains("k-detail-cell")&&n.setAttribute("tabIndex","-1"),a.setAttribute("tabIndex","0"),r.current.activeId=l}else if(a.closest(".k-filtercell")&&t.navigatable){const e=a.closest(".k-table-td");n.enableNavigatableContainer(e)}},onKeyDown:async(e,t)=>{var r,a,l,o,i;const{contextStateRef:s,navigationStateRef:c,onNavigationAction:u,columns:d}=t;if(e.isDefaultPrevented()||!s.current||!c.current)return;let p;if(e.keyCode===n.Keys.esc&&!t.navigatable.mode)return p=yt.getClosestNavigatableElement(e.target),yt.focusElement({elementForFocus:p,event:e,contextStateRef:s}),void(e.target.closest(".k-filtercell")&&p&&t.navigatable&&n.disableNavigatableContainer(p));const g=e.target,m=-1===g.className.indexOf("k-checkbox")?g:yt.getClosestNavigatableElement(g),f=yt.getNavigatableId(m)||(null==(r=yt.getParentCell(m))?void 0:r.getAttribute("data-keyboardnavid")),v=null==f?void 0:f.endsWith("column"),h=null==f?void 0:f.endsWith("column_filter"),E=yt.getNavigatableLevel(m),b=yt.getClosestScope(m),y=c.current.navigationMatrix,C=e.metaKey||e.ctrlKey,I=((e,t,r)=>{var n;let a;if(null!=(n=e.current)&&n.prevNavigationIndexes){const[n,l]=e.current.prevNavigationIndexes,o=t[n];a=o&&o[l]===r?e.current.prevNavigationIndexes:ft(t,r)}else a=ft(t,r);return a})(c,y,f),x=m.closest(".k-table-td"),k=null==(a=m.closest(".k-table-td"))?void 0:a.classList.contains("k-grid-edit-cell");if(t.navigatable&&t.navigatable.mode===Bt.inline){if(e.keyCode===n.Keys.enter){const e=m.classList.contains("k-grid-remove-command"),t=m.classList.contains("k-grid-cancel-command"),r=yt.getRowAriaRowIndex(m);if(e)return void setTimeout((()=>{const e=yt.getRemoveButtonByAriaRowIndex(r.current)||yt.getRemoveButtonByAriaRowIndex(r.prev);e&&e.focus()}));if(t&&m.parentElement){const e=null==(l=yt.getClosestNavigatableElement(m))?void 0:l.getAttribute("data-keyboardnavid");return void setTimeout((()=>{e&&yt.getTableCellByKeyboardNavId(e).focus()}))}}if(e.keyCode===n.Keys.esc){const e=yt.getClosestCancelButton(m);e&&e.click();const t=await yt.getClosestEditButton(m);return void(t&&t.focus())}}else if(t.navigatable&&t.navigatable.mode===Bt.incell)if(e.keyCode===n.Keys.esc){m.focus(),m.blur();const e=(null==(o=null==g?void 0:g.parentElement)?void 0:o.closest(".k-grid-edit-row"))||null,t=yt.getClosestCellNavId(m),r=await yt.waitForElementToBeVisible(`[data-keyboardnavid='${t}']:not(.k-grid-edit-cell)`,e);r&&r.focus()}else if(e.keyCode===n.Keys.enter){let e;if(I){const[t,r]=I;e=gt(t,r,f,y,!1)}if(k){if(k&&e){const t=e&&e[0]&&yt.getTableCellByKeyboardNavId(e[0]);t&&t.click()}}else null==(i=yt.getParentCell(m))||i.click()}else if(e.keyCode===n.Keys.left){if(k)return}else if(e.keyCode===n.Keys.right){if(k)return}else if(e.keyCode===n.Keys.up){if(k)return}else if(e.keyCode===n.Keys.down){if(k)return}else if(e.keyCode===n.Keys.tab&&k){if(e.shiftKey){const t=I&&d&&yt.getPrevEditableCell(I,d,f,y);if(t&&t.prevCell&&t.prevCell.click(),t&&"gridcell"!==t.elementToFocus){m.blur();const e=yt.getClosestCellNavId(m);setTimeout((()=>{e&&yt.getTableCellByKeyboardNavId(e).focus()}))}e.preventDefault()}else{const t=I&&d&&yt.getNextEditableCell(I,d,f,y);if(t&&t.nextCell&&"gridcell"===t.elementToFocus&&t.nextCell.click(),t&&"gridcell"!==t.elementToFocus){m.blur();const e=yt.getClosestCellNavId(m);return void(e&&yt.getTableCellByKeyboardNavId(e).focus())}e.preventDefault()}e.preventDefault()}if(m.closest(".k-filtercell")&&x&&t.navigatable)n.keepFocusInContainer(e,x,n.TABBABLE_ELEMENTS);else if(void 0!==E&&b){if(e.keyCode===n.Keys.enter){const r=yt.getNavigatableElement(m,{level:E+1});if(r)return void yt.focusElement({elementForFocus:r,event:e,contextStateRef:s,prevElement:m});m.querySelector(".k-filtercell")&&t.navigatable&&n.enableNavigatableContainer(m),p=yt.getFocusableElements(m)[0],yt.focusElement({elementForFocus:p,event:e,contextStateRef:s,prevElement:m})}if(e.keyCode===n.Keys.home&&I)if(C)dt({scope:b,navigationStateRef:c,contextStateRef:s},e);else{const t=((e,t)=>e[t][0])(c.current.navigationMatrix,I[0]);p=yt.getActiveNavDataElement(b,t),yt.focusElement({elementForFocus:p,event:e,contextStateRef:s})}if(e.keyCode===n.Keys.end&&I)if(C){const t=(e=>e.flat().reverse().find((e=>e.endsWith("cell"))))(c.current.navigationMatrix);p=yt.getActiveNavDataElement(b,t),yt.focusElement({elementForFocus:p,event:e,contextStateRef:s})}else{const t=((e,t)=>Array.from(e[t]).reverse()[0])(c.current.navigationMatrix,I[0]);p=yt.getActiveNavDataElement(b,t),yt.focusElement({elementForFocus:p,event:e,contextStateRef:s})}if(e.keyCode===n.Keys.up||e.keyCode===n.Keys.down||e.keyCode===n.Keys.left||e.keyCode===n.Keys.right){const t=e.keyCode===n.Keys.up||e.keyCode===n.Keys.left,r=e.keyCode===n.Keys.up||e.keyCode===n.Keys.down;if(I){const[n,a]=I,[l,o]=r?gt(n,a,f,y,t):mt(n,a,f,y,t);l&&(p=yt.getActiveNavDataElement(b,l),yt.focusElement({elementForFocus:p,event:e,contextStateRef:s,prevElement:m}),c.current.prevNavigationIndexes=o)}}if(C&&e.keyCode===n.Keys.left&&v)return u&&u({focusElement:m,event:e,action:"reorderToLeft"}),void e.preventDefault();if(C&&e.keyCode===n.Keys.right&&v)return u&&u({focusElement:m,event:e,action:"reorderToRight"}),void e.preventDefault();if(e.keyCode===n.Keys.pageUp)return u&&u({focusElement:p,event:e,action:"moveToNextPage"}),void e.preventDefault();if(e.keyCode===n.Keys.pageDown)return u&&u({focusElement:p,event:e,action:"moveToPrevPage"}),void e.preventDefault();if(!v&&!h&&!k&&(e.keyCode===n.Keys.space||e.keyCode===n.Keys.enter||e.shiftKey&&(e.keyCode===n.Keys.up||e.keyCode===n.Keys.down||e.keyCode===n.Keys.left||e.keyCode===n.Keys.right)))return void(u&&u({focusElement:p,event:e,action:"select"}));u&&u({focusElement:p,event:e})}},generateMatrix:Xt,focusFirstDataElement:dt},Ht="data-grid-row-index",$t="data-grid-col-index",Wt="data-prevent-selection",Ut={},Yt=e=>{let t=e;for(;t;){if(t.hasAttribute(Wt))return!0;t=t.parentElement}return!1},Vt=(e,t)=>{let r=e;for(;r;){if(r.tagName===t)return r;if("TABLE"===r.tagName)return null;r=r.parentElement}return null},Jt=e=>{if(!e)return;const t=e.getAttribute(Ht);return t?parseInt(t,10):void 0},Qt=e=>{if(!e)return;const t=e.getAttribute($t);return t?parseInt(t,10):void 0},Zt=e=>{const{event:t,dataItemKey:r,selectedState:a}=e,{dataItems:l,startRowIndex:o,endRowIndex:i,startColIndex:s,endColIndex:c,cell:u,isDrag:d,ctrlKey:p,shiftKey:g,metaKey:m,componentId:f,mode:v,dataItem:h}=t,E=n.getter(r);let b={};const y=null!==h;if("single"===v){const e=l.slice(o,o+1)[0],t=E(e);Ut[f]={rowIndex:o,colIndex:s},void 0!==t&&(b[t]=!u||[s])}else if(!d&&(g||p||m||y)){if(p||m||y){Ut[f]={rowIndex:o,colIndex:s};const e=l.slice(o,i+1)[0],t=E(e);void 0!==t&&(b={...a},b[t]=u&&!y?((e,t)=>!e||Array.isArray(e)&&0===e.length?[t]:e.findIndex((e=>e===t))>-1?e.filter((e=>e!==t)):[...e,t])(b[t],s):!b[t])}else if(g){const e=Ut[f]&&Ut[f].rowIndex||0,t=Ut[f]&&Ut[f].colIndex||0,r=Math.min(e,o,i),n=Math.max(e,o,i),a=Math.min(t,s,c),d=Math.max(t,s,c),p=[];for(let e=a;e<=d;e++)p.push(e);l.slice(r,n+1).forEach((e=>{const t=E(e);void 0!==t&&(b[t]=!u||[...p])}))}}else{d||(Ut[f]={rowIndex:o,colIndex:s});const e=[];for(let t=s;t<=c;t++)e.push(t);l.slice(o,i+1).forEach((t=>{const r=E(t);void 0!==r&&(b[r]=!u||[...e])}))}return b},er=n.hasRelativeStackingContext(),tr=e=>{if(!e||!er)return null;let t=e.parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}},rr=e=>{if(e&&e.ownerDocument&&e!==e.ownerDocument.body){const t=e.getBoundingClientRect();return{left:t.left-e.scrollLeft,top:t.top-e.scrollTop}}return{left:0,top:0}},nr=e=>{var t,r,n,a;return{enabled:"object"==typeof e?null==(t=e.enabled)||t:null!=e&&e,drag:"object"==typeof e&&null!=(r=e.drag)&&r,mode:"object"==typeof e&&null!=(n=e.mode)?n:"multiple",cell:"object"==typeof e&&null!=(a=e.cell)&&a}};var ar=(e=>(e.ENTER_EDIT="EDITING_ENTER_EDIT",e.ENTER_FIELD_EDIT="EDITING_ENTER_FIELD_EDIT",e.ADD_EDIT="EDITING_ADD_EDIT",e.ADD_FIELD_EDIT="EDITING_ADD_FIELD_EDIT",e.EXIT_EDIT="EDITING_EXIT_EDIT",e.EXIT_FIELD_EDIT="EDITING_EXIT_FIELD_EDIT",e.TOGGLE_EDIT="EDITING_TOGGLE_EDIT",e.TOGGLE_FIELD_EDIT="EDITING_TOGGLE_FIELD_EDIT",e))(ar||{});const lr=(e={},t)=>{switch(t.type){case"EDITING_ENTER_EDIT":return{[t.payload.id]:!0};case"EDITING_ENTER_FIELD_EDIT":return{[t.payload.id]:[t.payload.field]};case"EDITING_ADD_EDIT":return{...e,[t.payload.id]:!0};case"EDITING_ADD_FIELD_EDIT":return{...e,[t.payload.id]:Array.isArray(e[t.payload.id])?[...e[t.payload.id],t.payload.field]:[t.payload.field]};case"EDITING_EXIT_EDIT":{const r=n.clone(e);return delete r[t.payload.id],r}case"EDITING_EXIT_FIELD_EDIT":return{...e,[t.payload.id]:Array.isArray(e[t.payload.id])?e[t.payload.id].filter((e=>e!==t.payload.field)):[]};case"EDITING_TOGGLE_EDIT":return Object.keys(e).includes(t.payload.id)&&e[t.payload.id]?lr(e,{type:"EDITING_EXIT_EDIT",payload:t.payload}):lr(e,{type:"EDITING_ENTER_EDIT",payload:t.payload});case"EDITING_TOGGLE_FIELD_EDIT":return Object.keys(e).includes(t.payload.id)&&Array.isArray(e[t.payload.id])?lr(e,{type:"EDITING_EXIT_FIELD_EDIT",payload:t.payload}):lr(e,{type:"EDITING_ENTER_FIELD_EDIT",payload:t.payload});default:return e}};var or=(e=>(e.DETAIL_EXPAND="DETAIL_EXPAND_DETAIL_EXPAND",e.COLLAPSE="DETAIL_EXPAND_COLLAPSE",e.TOGGLE="DETAIL_EXPAND_TOGGLE",e.SET="DETAIL_EXPAND_SET",e))(or||{});var ir=(e=>(e.TOGGLE="GROUP-EXPAND_TOGGLE",e.EXPAND="GROUP-EXPAND_EXPAND",e.COLLAPSE="GROUP-EXPAND_COLLAPSE",e.RESET="GROUP-EXPAND_RESET",e))(ir||{});const sr=(e=[],t=null)=>{const r=[];return null==e||e.forEach((e=>{var n;const a={value:e.value,field:e.field,parents:t?[t,...null!=(n=t.parents)?n:[]]:[]};void 0!==e.expanded&&(a.expanded=e.expanded),e.groups&&r.push(...sr(e.groups,a)),r.push(a)})),r},cr=e=>{var t,r,n,a;return`${null!=(t=e.parents)&&t.length?(null==(a=null==(n=null==(r=e.parents)?void 0:r.slice())?void 0:n.reverse())?void 0:a.map((e=>cr({field:e.field,value:e.value}))).join("/"))+"/":""}${e.field}:${e.value}`},ur=e=>{var t;const r=new Map;r.set("root",{value:null,field:"",groups:new Set}),(e=>{e.forEach((e=>{var t,n,a,l;const o=cr(e),i=null!=(t=r.get(o))?t:{value:e.value,field:e.field};void 0!==e.expanded&&(i.expanded=e.expanded),r.has(o)||r.set(o,i);let s=i;null!=(n=e.parents)&&n.length?e.parents.forEach(((t,n)=>{var a,l,o,i,c,u,d;const p=cr({value:t.value,field:t.field,parents:null==(l=e.parents)?void 0:l.slice(n+1,null==(a=null==e?void 0:e.parents)?void 0:a.length)}),g=null!=(o=r.get(p))?o:{value:t.value,field:t.field};t.expanded&&(g.expanded=t.expanded),r.has(p)||r.set(p,g),null!=g&&g.groups||(g.groups=new Set),g.groups.add(s),s=g,n===(null!=(c=null==(i=e.parents)?void 0:i.length)?c:-1)-1&&(null==(d=null==(u=r.get("root"))?void 0:u.groups)||d.add(g))})):null==(l=null==(a=r.get("root"))?void 0:a.groups)||l.add(s)}))})(e);const n=e=>{e.groups&&(e.groups=Array.from(e.groups),e.groups.forEach(n))};return n(r.get("root")),(null==(t=r.get("root"))?void 0:t.groups)||[]},dr=(e,t)=>e.find((e=>e.value===t.value&&e.field===t.field&&((e,t)=>{var r;return!(null==(r=t.parents)||!r.every(((t,r)=>{var n;return null==(n=e.parents)?void 0:n.find((e=>t.value===e.value&&t.field===e.field))})))})(e,t)));var pr=(e=>(e.copy="copy",e.cut="cut",e.paste="paste",e))(pr||{});const gr=(e,t,r,a)=>{const l=n.getter(a),o=e.data.findIndex((e=>l(e)===l(t[0].dataItem)))||0,i=t.length<2?r:t.length;return e.data.filter(((e,t)=>t>=o&&t<o+i))||[]},mr=e=>(null==e?void 0:e.map((e=>e.fields.map((t=>e.dataItem[t].toString())))))||[],fr=(e,t)=>{var r,n;const{event:a}=e,l=t.includes("\n")?"\n":null,o=null!=(r=a.cellDelimiter)?r:"\t",i=null!=(n=a.newLineDelimiter)?n:"\r\n",s=t.includes(i)?i:l;return(s?t.split(s):[t]).map((e=>e.includes(o)?e.split(o):[e]))},vr=(e,t)=>{var r;return"paste"===(null==(r=e.event.nativeEvent)?void 0:r.type)?fr(e,t):mr(e.previousCopiedItems)},hr=(e,t)=>{var r,a,l;const{event:o}=e,i=o.dataItem,s=null!=(a=null!=(r=e.dataItemKey)?r:o.dataItemKey)?a:"",c=n.getter(s),u=i&&!i.selected&&o.field?[{dataItem:o.dataItem,fields:[o.field]}]:yr(e),d=u.length?u[0].fields[0]:null!=(l=o.columns[0].field)?l:"",p=o.columns.map((e=>{var t;return null!=(t=e.field)?t:""})),g=p.indexOf(d),m=vr(e,t),f=gr(e,u,m.length,s);return m.slice(0,f.length).map(((e,t)=>{const r=g+e.length,n=p.slice(g,r),a={[s]:c(f[t])};return n.forEach(((t,r)=>a[t]=e[r])),{dataItem:a,fields:n}}))},Er=(e,t)=>{if(!t.length)return null;let r="";return t.forEach(((t,n,a)=>r+=`${e[t]}${n<a.length-1?"\t":""}`)),r},br=(e,t,r)=>{var n,a;const l=null!=(n=r.cellDelimiter)?n:"\t",o=null!=(a=r.newLineDelimiter)?a:"\r\n";return`${t.join(l)}${o}${e}`},yr=e=>{var t,r;const{event:a,selectedState:l,data:o}=e,i=null!=(r=null!=(t=e.dataItemKey)?t:a.dataItemKey)?r:"",s=n.getter(i),c={},u=[];return Object.entries(l).forEach((([e,t])=>{c[e]=n.isArray(t)?t.map((e=>a.columns[e])).filter((e=>!e.declarationIndex||e.declarationIndex>=0)):a.columns.filter((e=>!e.declarationIndex||e.declarationIndex>=0))})),null==o||o.map((e=>{const t=s(e)||"";return c[t]&&u.push({dataItem:e,fields:c[t].map((e=>{var t;return null!=(t=e.field)?t:""}))}),e})),u},Cr=(e,t)=>{var r,n;const a=null!=(r=t.newLineDelimiter)?r:"\r\n",l=e.map(((e,r)=>{var n;let a=null!=(n=Er(e.dataItem,e.fields))?n:"";return t.copyHeaders&&0===r&&(a=br(a,e.fields,t)),a?[a]:[]})).join(a);return null==(n=navigator.clipboard)||n.writeText(l),l},Ir=(e,t)=>{let r="";if("paste"===e.type){const t=e.nativeEvent?e.nativeEvent.clipboardData:"";r=t?t.getData("text").trim():""}else r=Cr(t,e);return r};const xr=Object.freeze({name:"@progress/kendo-react-data-tools",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:0,version:"12.0.2",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"}),kr=e=>{var t,r,a,l,o,i,s;n.validatePackage(xr,{component:"useDataSource"});const{defaultTotal:c,defaultData:d=[],filterable:p=!0,defaultFilter:g,sortable:m=!0,defaultSort:f,pageable:v=!0,defaultSkip:h,defaultTake:E,groupable:b=!0,defaultGroup:y,schema:C}=e,I=n.useImmediateInheritState(null!=(t=e.data)?t:d),x=n.useImmediateInheritState(null!=(r=e.total)?r:c,e.total),k=n.useImmediateInheritState(null!=(a=e.filter)?a:g,e.filter),D=n.useImmediateInheritState(null!=(l=e.sort)?l:f,e.sort),S=n.useImmediateInheritState(null!=(o=e.skip)?o:h,e.skip),T=n.useImmediateInheritState(null!=(i=e.take)?i:E,e.take),w=n.useImmediateInheritState(null!=(s=e.group)?s:y,e.group),R=e=>{k.value=e},N=e=>{D.value=e},L=e=>{S.value=e},F=e=>{T.value=e},A=e=>{w.value=e};return{get data(){var t,r,n;return null==(n=u.process(null!=(t=e.data)?t:I.value,{filter:p&&k.value?k.value:void 0,sort:m&&D.value?D.value:void 0,group:b&&w.value?w.value:void 0,...v&&void 0!==T.value&&null!==T.value?{skip:null!=(r=S.value)?r:0,take:T.value}:{}}))?void 0:n.data},setData:e=>{I.value=[...e]},get total(){var t,r,n;return void 0!==x.value?x.value:null==(n=u.process(null!=(t=e.data)?t:I.value,{filter:p&&k.value?k.value:void 0,sort:m&&D.value?D.value:void 0,group:b&&w.value?w.value:void 0,...v&&void 0!==T.value&&null!==T.value?{skip:null!=(r=S.value)?r:0,take:T.value}:{}}))?void 0:n.total},setTotal:e=>{x.value=e},get sort(){return D.value},setSort:N,get filter(){return k.value},setFilter:R,get skip(){return S.value},setSkip:L,get take(){return T.value},setTake:F,get group(){return w.value},setGroup:A,get dataState(){return{filter:void 0!==e.filter?e.filter:k.value,sort:void 0!==e.sort?e.sort:D.value,skip:void 0!==e.skip?e.skip:S.value,take:void 0!==e.take?e.take:T.value,group:void 0!==e.group?e.group:w.value}},setDataState:e=>{void 0!==e.filter&&R(e.filter),void 0!==e.sort&&N(e.sort),void 0!==e.skip&&L(e.skip),void 0!==e.take&&F(e.take),void 0!==e.group&&A(e.group)},schema:C}},Dr={data:e=>e,total:e=>e.length},Sr={create:{method:"POST",contentType:"application/json"},read:{method:"GET"},update:{method:"PUT",contentType:"application/json"},delete:{method:"DELETE"}},Tr=(e,t)=>{const r="function"==typeof e?e(t):e;return new URL(r)},wr=(e,t,r)=>"function"==typeof e?e(t):r||e?{...r,...e}:void 0,Rr=(e,t)=>{"object"==typeof t?Object.keys(t).forEach((r=>{e.searchParams.append(r,t[r])})):"string"==typeof t&&(e.search=t)},Nr=async({url:e,method:t,contentType:r,body:n,onError:a,onSuccess:l})=>{var o;const i=await fetch(e,{method:t,headers:r?{"Content-Type":r}:{},...n?{body:JSON.stringify(n)}:{}});return i.ok?l(null!=(o=i.headers.get("Content-Type"))&&o.includes("application/json")?await i.json():await i.text()):null==a?void 0:a(await i.json())},Lr=e=>{n.validatePackage(xr,{component:"useRemoteDataSource"});const{defaultTotal:t,serverFiltering:r=!0,serverSorting:a=!0,serverPaging:l=!0,serverGrouping:o=!0,...i}=e,s=n.deepMerge({},Dr,e.schema),c=n.deepMerge({},Sr,e.transport),u="function"==typeof s.data?s.data:s.data?n.getter(s.data):e=>e,d="function"==typeof s.total?s.total:s.total?n.getter(s.total):e=>e,p="function"==typeof(null==s?void 0:s.errors)?e=>s.errors(e):null!=s&&s.errors?n.getter(null==s?void 0:s.errors):e=>{},g=n.getter(String(s.model.id)),m=n.useImmediateInheritState(new Map,e.reads),f=n.useImmediateInheritState(new Map,e.creates),v=n.useImmediateInheritState(new Map,e.updates),h=n.useImmediateInheritState(new Map,e.deletes),E=n.useImmediateInheritState(new Map),b=n.useImmediateInheritState(new Map),y=e=>{m.value=e},C=e=>{f.value=e},I=e=>{v.value=e},x=e=>{h.value=e},k=e=>{E.value=e},D=e=>{b.value=e},S=kr({sortable:!a,pageable:!l,filterable:!r,groupable:!o,get data(){return Array.from(new Map([...f.value,...m.value,...v.value]).values()).filter((e=>!h.value.has(g(e))))},...i,schema:s}),T=e=>{const t=new Map;S.setData(e),e.forEach((e=>{const r=g(e);t.set(r,e)})),y(t)},w=e=>{const{error:t,data:r}=e;if(!t)return;let n=null;r&&(n=g(r)),b.value.has(n)||b.value.set(n,[]);const a=b.value.get(n)||[];a.push(t),b.value.set(n,a),D(new Map(b.value))},R=e=>{const{data:t}=e,r=g(t);f.value.delete(r),C(new Map(f.value)),E.value.delete(r),k(new Map(E.value))},N=e=>{const{data:t,field:r}=e,n=g(t);if(v.value.has(n))if(r){const e=E.value.get(n);e&&(e.delete(r),0===e.size?(v.value.delete(n),E.value.delete(n)):E.value.set(n,e),I(new Map(v.value)),k(new Map(E.value)))}else v.value.delete(n),I(new Map(v.value)),E.value.delete(n),k(new Map(E.value))},L=e=>{const{data:t}=e,r=g(t);h.value.delete(r),x(new Map(h.value)),E.value.delete(r),k(new Map(E.value))},F=e=>{const{data:t}=e,r=g(t);m.value.set(r,t),y(new Map(m.value))},A=e=>{const{data:t}=e,r=g(t);m.value.set(r,t),y(new Map(m.value))},M=e=>{const{data:t}=e,r=g(t);m.value.delete(r),y(new Map(m.value))},O={get reads(){return m.value},get creates(){return f.value},get updates(){return v.value},get deletes(){return h.value},get dirty(){return E.value},get errors(){return b.value},addError:w,removeError:e=>{const{error:t}=e;b.value.forEach(((e,r)=>{const n=e.filter((e=>e!==t));0===n.length?b.value.delete(r):b.value.set(r,n)})),D(new Map(b.value))},removeErrors:e=>{const{data:t}=e,r=g(t);b.value.delete(r),D(new Map(b.value))},removeAllErrors:()=>{b.value.clear(),D(new Map(b.value))},read:async e=>{var t,n,i,s,g,m,f;if(null==c||!c.read)throw new Error("transport.read is not defined");const v=null!=(t=null==e?void 0:e.filter)?t:S.filter,h=null!=(n=null==e?void 0:e.skip)?n:S.skip,E=null!=(i=null==e?void 0:e.take)?i:S.take,b=null!=(s=null==e?void 0:e.sort)?s:S.sort,y=null!=(g=null==e?void 0:e.group)?g:S.group;if("function"==typeof c.read){const e=await c.read({...r&&void 0!==v&&{filter:v},...l&&void 0!==h&&{skip:h},...l&&void 0!==E&&{take:E},...a&&void 0!==b&&{sort:b},...o&&void 0!==y&&{group:y}});return T(e),e}const C={...r&&void 0!==v&&{filter:v},...l&&void 0!==h&&{skip:h},...l&&void 0!==E&&{take:E},...a&&void 0!==b&&{sort:b},...o&&void 0!==y&&{group:y}},I=Tr(c.read.url),x=c.read.onError,k=c.read.onResponse,D=c.read.onSuccess,R=wr(c.read.data),N=(null==(f=null==(m=null==c?void 0:c.read)?void 0:m.parameterMap)?void 0:f.call(m,{...C,...R}))||{...C,...R};Rr(I,N);try{const e=await Nr({url:I,method:c.read.method,contentType:c.read.contentType,body:R,onError:async e=>{var t;const r=null!=(t=await(null==x?void 0:x(e)))?t:null==p?void 0:p(e);return r&&w({error:r}),[]},onSuccess:async e=>{var t;const r=null!=(t=await(null==k?void 0:k(e)))?t:u(e);return S.setTotal(await d(e)),T(r),await(null==D?void 0:D(r)),r}});return null!=e?e:[]}catch(e){return console.error(e),[]}},create:e=>{const{data:t}=e,r=g(t);f.value.set(r,t),C(new Map(f.value));const n=new Set(Object.keys(t).filter((e=>{var t;return e!==(null==(t=s.model)?void 0:t.id)})));E.value.set(r,n),k(new Map(E.value))},update:e=>{const{data:t,field:r}=e,n=g(t);if(f.value.has(n)){const e=f.value.get(n);f.value.set(n,{...e,...t}),C(new Map(f.value));const a=E.value.get(n)||new Set;return r?a.add(r):Object.keys(t).forEach((e=>{var t;e!==(null==(t=s.model)?void 0:t.id)&&a.add(e)})),E.value.set(n,a),void k(new Map(E.value))}const a=v.value.has(n)?v.value.get(n):m.value.has(n)?m.value.get(n):{};v.value.set(n,{...a,...t}),I(new Map(v.value));const l=E.value.get(n)||new Set;r?l.add(r):Object.keys(t).forEach((e=>{var t;e!==(null==(t=s.model)?void 0:t.id)&&l.add(e)})),E.value.set(n,l),k(new Map(E.value))},delete:e=>{const{data:t}=e,r=g(t);if(f.value.has(r))return f.value.delete(r),C(new Map(f.value)),E.value.delete(r),void k(new Map(E.value));h.value.set(r,t),x(new Map(h.value))},sync:async()=>{await Promise.all(Array.from(f.value).map((async([e,t])=>{var r,a,l,o;if(null!=c&&c.create)if("function"==typeof c.create)try{const e=await c.create({data:t});F({data:e||t}),R({data:t})}catch(e){const r=null==p?void 0:p(e);r&&w({error:r,data:t})}else{const e=Tr(c.create.url,t),i=wr(c.create.data,t,n.clone(t)),s=null!=(o=null!=(l=null==(a=null==(r=null==c?void 0:c.create)?void 0:r.parameterMap)?void 0:a.call(r,i))?l:i)?o:{},u=c.create.onError,d=c.create.onResponse,g=c.create.onSuccess;Rr(e,s);try{await Nr({url:e,method:c.create.method,contentType:c.create.contentType,body:i,onError:async e=>{var r;const n=null!=(r=await(null==u?void 0:u(e)))?r:null==p?void 0:p(e);n&&w({error:n,data:t})},onSuccess:async e=>{const r=d?await d(e):e;F({data:r||t}),R({data:t}),await(null==g?void 0:g(r||t))}})}catch(e){console.error(e)}}}))),await Promise.all(Array.from(v.value).map((async([e,t])=>{var r,n,a,l;if(null!=c&&c.update)if("function"==typeof c.update)try{const e=await c.update({data:t});A({data:e||t}),N({data:t})}catch(e){const r=null==p?void 0:p(e);r&&w({error:r,data:t})}else{const e=Tr(c.update.url,t),o=wr(c.update.data,t,t),i=null!=(l=null!=(a=null==(n=null==(r=null==c?void 0:c.update)?void 0:r.parameterMap)?void 0:n.call(r,o))?a:o)?l:{},s=c.update.onError,u=c.update.onResponse,d=c.update.onSuccess;Rr(e,i);try{await Nr({url:e,method:c.update.method,contentType:c.update.contentType,body:o,onError:async e=>{var r;const n=null!=(r=await(null==s?void 0:s(e)))?r:null==p?void 0:p(e);n&&w({error:n,data:t})},onSuccess:async e=>{const r=u?await u(e):e;return A({data:r||t}),N({data:t}),await(null==d?void 0:d(r||t)),r}})}catch(e){console.error(e)}}}))),await Promise.all(Array.from(h.value).map((async([e,t])=>{var r,n,a,l;if(null!=c&&c.delete)if("function"==typeof c.delete)try{await c.delete({data:t}),M({data:t}),L({data:t})}catch(e){const r=null==p?void 0:p(e);r&&w({error:r,data:t})}else{const e=Tr(c.delete.url,t),o=wr(c.delete.data,t,t),i=null!=(l=null!=(a=null==(n=null==(r=null==c?void 0:c.delete)?void 0:r.parameterMap)?void 0:n.call(r,o))?a:o)?l:{},s=c.delete.onError,u=c.delete.onResponse,d=c.delete.onSuccess;Rr(e,i);try{await Nr({url:e,method:c.delete.method,contentType:c.delete.contentType,body:o,onError:async e=>{var r;const n=null!=(r=await(null==s?void 0:s(e)))?r:null==p?void 0:p(e);n&&w({error:n,data:t})},onSuccess:async e=>{const r=u?await u(e):e;return M({data:0!==Object.keys(r).length?r:t}),L({data:t}),await(null==d?void 0:d(e||t)),e}})}catch(e){console.error(e)}}})))},syncItem:async e=>{var t,r,a,l,o,i,s,u,d,m,E,b;const{data:y}=e,C=g(y);if(f.value.has(C)){if(null==c||!c.create)return;if("function"==typeof c.create)try{const e=await c.create({data:y});F({data:e||y}),R({data:y})}catch(e){const t=null==p?void 0:p(e);t&&w({error:t,data:y})}else{const e=Tr(c.create.url,y),o=wr(c.create.data,y,n.clone(y)),i=null!=(l=null!=(a=null==(r=null==(t=null==c?void 0:c.create)?void 0:t.parameterMap)?void 0:r.call(t,o))?a:o)?l:{},s=c.create.onError,u=c.create.onResponse,d=c.create.onSuccess;Rr(e,i);try{await Nr({url:e,method:c.create.method,contentType:c.create.contentType,body:o,onError:async e=>{var t;const r=null!=(t=await(null==s?void 0:s(e)))?t:null==p?void 0:p(e);r&&w({error:r,data:y})},onSuccess:async e=>{const t=u?await u(e):e;return F({data:t||y}),R({data:y}),await(null==d?void 0:d(t||y)),t}})}catch(e){console.error(e)}}}if(v.value.has(C)){if(null==c||!c.update)return;if("function"==typeof c.update)try{const e=await c.update({data:y});A({data:e||y}),N({data:y})}catch(e){const t=null==p?void 0:p(e);t&&w({error:t,data:y})}else{const e=Tr(c.update.url,y),t=wr(c.update.data,y,y),r=null!=(u=null!=(s=null==(i=null==(o=null==c?void 0:c.update)?void 0:o.parameterMap)?void 0:i.call(o,t))?s:t)?u:{},n=c.update.onError,a=c.update.onResponse,l=c.update.onSuccess;Rr(e,r);try{await Nr({url:e,method:c.update.method,contentType:c.update.contentType,body:t,onError:async e=>{var t;const r=null!=(t=await(null==n?void 0:n(e)))?t:null==p?void 0:p(e);r&&w({error:r,data:y})},onSuccess:async e=>{const t=a?await a(e):e;return A({data:t||y}),N({data:y}),await(null==l?void 0:l(t||y)),t}})}catch(e){console.error(e)}}}if(h.value.has(C)){if(null==c||!c.delete)return;if("function"==typeof c.delete)try{await c.delete({data:y}),M({data:y}),L({data:y})}catch(e){const t=null==p?void 0:p(e);t&&w({error:t,data:y})}else{const e=Tr(c.delete.url,y),t=wr(c.delete.data,y,y),r=null!=(b=null!=(E=null==(m=null==(d=null==c?void 0:c.delete)?void 0:d.parameterMap)?void 0:m.call(d,t))?E:t)?b:{},n=c.delete.onError,a=c.delete.onResponse,l=c.delete.onSuccess;Rr(e,r);try{await Nr({url:e,method:c.delete.method,contentType:c.delete.contentType,body:t,onError:async e=>{var t;const r=null!=(t=await(null==n?void 0:n(e)))?t:null==p?void 0:p(e);r&&w({error:r,data:y})},onSuccess:async e=>{const t=a?await a(e):e;return M({data:t||y}),L({data:y}),await(null==l?void 0:l(t||y)),e}})}catch(e){console.error(e)}}}},removeCreate:R,removeUpdate:N,removeDelete:L,pushCreate:F,pushUpdate:A,pushDelete:M,discard:()=>{f.value.clear(),C(new Map(f.value)),v.value.clear(),I(new Map(v.value)),h.value.clear(),x(new Map(h.value)),E.value.clear(),k(new Map(E.value)),b.value.clear(),D(new Map(b.value))}};return Object.defineProperties({},{...Object.getOwnPropertyDescriptors(S),...Object.fromEntries(Object.entries(O).map((([e,t])=>[e,{value:t,writable:!0,enumerable:!0,configurable:!0}])))})},Fr={create:{contentType:"application/json",method:"POST"},read:{parameterMap:e=>`$count=true&$format=json&${u.toODataString(e)}`,method:"GET"},update:{contentType:"application/json",method:"PUT"},delete:{method:"DELETE"}},Ar=e=>{const t=n.clone(e);for(const e in t)e.startsWith("@odata")&&delete t[e];return t},Mr={data:e=>{if(Array.isArray(e))return e.map((e=>Ar(e)));const t=Ar(e);return"value"in t?t.value:[t]},total:e=>e["@odata.count"]},Or=e=>class extends f.Component{constructor(){super(...arguments),this.filterChange=e=>{this.props.onFilterChange&&this.props.onFilterChange(e)},this.inputChange=t=>{const r=t.target.value,{filter:n=[],field:a=""}=this.props,l=this.findCellFilter(),o=l?n.map((e=>e.field===a?{...l,value:r}:e)):[...n,{...e.emptyFilter,value:r,field:a}];this.filterChange({filter:o,field:a,syntheticEvent:t.syntheticEvent})},this.operatorChange=t=>{const{operator:r}=t.target.value,{filter:n=[],field:a=""}=this.props,l=this.findCellFilter(),o=l?n.map((e=>e.field===a?{...l,operator:r}:e)):[...n,{...e.emptyFilter,field:a,operator:r}];this.filterChange({filter:o,field:a,syntheticEvent:t.syntheticEvent})},this.clearButtonClick=e=>{const{filter:t=[],field:r=""}=this.props;this.filterChange({filter:t.filter((e=>e.field!==r)),field:r,syntheticEvent:e})},this.findCellFilter=()=>{const{filter:e=[],field:t}=this.props;return e.find((e=>e.field===t))}}render(){const{clearButtonTitle:t="",operators:r=[]}=this.props,l=this.findCellFilter()||{...e.emptyFilter,operator:""},{operator:i,value:s}=l,c={ariaLabel:"filter",value:r.find((e=>e.operator===i))||null,onChange:this.operatorChange,className:"k-dropdown-operator",svgIcon:o.filterIcon,data:r,textField:"text",popupSettings:{width:""},components:this.props.components};return f.createElement("div",{className:"k-filtercell"},f.createElement("div",{className:"k-filtercell-wrapper"},e.inputComponent({value:s,onChange:this.inputChange,components:this.props.components,ariaLabel:this.props.ariaLabel,min:this.props.min,max:this.props.max}),f.createElement("div",{className:"k-filtercell-operator"},e.operatorComponent(c,this.props)," ",f.createElement(a.Button,{className:n.classNames({"k-clear-button-visible":!(null===s||""===s)||i}),title:t,type:"button",onClick:this.clearButtonClick,svgIcon:o.filterClearIcon,disabled:!(null!==s&&""!==s||i)}))))}},Pr={emptyFilter:{operator:"eq",value:""},inputComponent:e=>null,operatorComponent:function(e,t){const{filter:r=[],field:n}=t,a=r.find((e=>e.field===n));return f.createElement(s.DropDownList,{...e,value:e.data.find((e=>e.operator===(a?a.value:""))),onChange:e=>{if(!t.onFilterChange)return;const l=e.target.value.operator;if(""===l)return void(a&&t.onFilterChange.call(void 0,{filter:r.filter((e=>e.field!==a.field)),field:n,syntheticEvent:e.syntheticEvent}));const o=a?r.map((e=>e.field===n?{...a,value:l}:e)):[...r,{value:l,field:n,operator:"eq"}];t.onFilterChange.call(void 0,{filter:o,field:n,syntheticEvent:e.syntheticEvent})}})}};let Kr=class extends(Or(Pr)){};const _r={inputComponent:e=>f.createElement(d.DatePicker,{...e}),operatorComponent:e=>f.createElement(s.DropDownList,{...e}),emptyFilter:{operator:"eq",value:null}};let Gr=class extends(Or(_r)){};const Br={inputComponent:e=>f.createElement(i.NumericTextBox,{...e}),operatorComponent:e=>f.createElement(s.DropDownList,{...e}),emptyFilter:{operator:"eq",value:null}};let qr=class extends(Or(Br)){};const zr={inputComponent:e=>f.createElement(i.Input,{...e}),operatorComponent:e=>f.createElement(s.DropDownList,{...e}),emptyFilter:{operator:"contains",value:""}};let Xr=class extends(Or(zr)){};const jr=e=>{const{ariaSort:t,colSpan:r,rowSpan:a,columnId:l,navigatable:o,ariaColumnIndex:i,ariaLabel:s,ariaSelected:c,ariaDescription:u,...d}=e,p=Gt(l,o),g=f.useRef(null);return f.useEffect((()=>{g.current&&o&&n.disableNavigatableContainer(g.current)}),[o]),f.createElement("td",{ref:g,"aria-sort":t,"aria-label":s,"aria-colindex":i,"aria-selected":c,colSpan:r,rowSpan:a,...p,...d},e.children)};jr.displayName="KendoReactHeaderTdElement";const Hr="k-table-row k-filter-row",$r=(e,t,r)=>{let n=""+(r?"k-grid-header-sticky":"");return e.some((e=>e.field===t))&&(n+=" k-sorted"),n};let Wr=class extends f.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){const{columnResize:e}=this.props;e&&e.resizable&&e.setIsRtl(St(this.element))}render(){return f.createElement("thead",{className:n.classNames("k-table-thead k-grid-header",{"k-grid-draggable-header":this.props.reorderable}),role:"presentation",ref:e=>{this.element=e},...et},this.props.headerRow,this.props.filterRow)}};function Ur(e){const t=e.onClick?{onClick:e.onClick}:{},r=f.createElement("span",{className:"k-link",...t},f.createElement("span",{className:"k-column-title"},e.title||e.field||" "),e.children);return f.createElement(f.Fragment,null,e.render?e.render.call(void 0,r,e):r)}const Yr=(...e)=>Object.assign({allowUnsort:!0,mode:"single"},...e);let Vr=class extends f.PureComponent{constructor(){super(...arguments),this.draggable=null,this.onPress=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.pressHandler&&this.props.pressHandler(e.event,t)},this.onDrag=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.dragHandler&&this.props.dragHandler(e.event,t)},this.onRelease=e=>{this.draggable&&this.draggable.element&&this.props.releaseHandler&&this.props.releaseHandler(e.event)}}render(){return f.createElement(n.Draggable,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:e=>{this.draggable=e},autoScroll:{direction:{vertical:!1,horizontal:!0}}},f.createElement("tr",{className:"k-table-row","aria-rowindex":this.props.ariaRowIndex,role:"row"},this.props.children))}};const Jr=e=>{const{ariaSort:t,colSpan:r,rowSpan:a,columnId:l,navigatable:o,ariaColumnIndex:i,ariaLabel:s,ariaSelected:c,ariaDescription:u,...d}=e,p=Gt(l,o),g=f.useRef(null);return f.useEffect((()=>{g.current&&o&&n.disableNavigatableContainer(g.current)}),[o]),f.createElement("th",{ref:g,"aria-sort":t,"aria-label":s,"aria-colindex":i,"aria-selected":c,colSpan:r,rowSpan:a,...p,...d},e.children)};Jr.displayName="KendoReactHeaderThElement";const Qr={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},Zr={none:"none",asc:"ascending",desc:"descending"};class en extends f.Component{constructor(){super(...arguments),this.cellClick=(e,t)=>{if(e.preventDefault(),!this.props.sortChange)return;const{allowUnsort:r,mode:n}=Yr(this.props.sortable||!1,t.sortable||!1),a=(this.props.sort||[]).filter((e=>e.field===t.field))[0],l=Qr[r][a&&a.dir||""],o="single"===n?[]:(this.props.sort||[]).filter((e=>e.field!==t.field));""!==l&&t.field&&o.push({field:t.field,dir:l}),this.props.sortChange(e,o,t.field)},this.cellKeyDown=(e,t)=>{e.isDefaultPrevented()||e.keyCode===n.Keys.enter&&this.cellClick(e,t)},this.cells=e=>e.map(((e,t)=>{const r=this.props.columns[e],{columnResize:a}=this.props,o=a&&a.resizable&&r.resizable,i=this.props.sortable&&r.sortable,s=this.props.sort?this.props.sort.findIndex((e=>e.field===r.field)):-1,c=s>=0&&this.props.sort[s].dir||"none",u={sort:this.props.sort,onSortChange:this.props.sortChange,filter:this.props.columnMenuFilter,onFilterChange:this.props.columnMenuFilterChange,field:r.field},d={field:r.field,onClick:i&&(e=>this.cellClick(e,r))||void 0,selectionChange:this.props.selectionChange,title:r.title,selectionValue:r.headerSelectionValue,render:this.props.cellRender,children:this.sortIcon(s),sort:this.props.sort,sortable:this.props.sortable,sortChange:this.props.sortChange,filterChange:this.props.filterChange,columns:this.props.columns,columnMenuWrapperProps:u},p=r.columnMenu||this.props.columnMenu,g=n.classNames("k-table-th",{"k-first":r.kFirst,"k-filterable":!!p,"k-header":!0,"k-grid-header-sticky":r.locked,"k-sorted":this.props.sort&&this.props.sort.some((e=>e.field===r.field))},r.headerClassName),m=void 0!==r.locked?{left:r.left,right:r.right,borderRightWidth:r.rightBorder?"1px":""}:{},v=l.provideLocalizationService(this).toLanguageString(Me,Pe[Me]),h=r.isAccessible?{ariaSort:i?Zr[c]:void 0,role:"columnheader",ariaColumnIndex:r.ariaColumnIndex,ariaSelected:!1,ariaDescription:i?v:""}:{role:"presentation"};return f.createElement(Jr,{key:t,colSpan:r.colSpan,rowSpan:r.rowSpan,className:g,style:m,columnId:r.id,navigatable:r.navigatable,onKeyDown:i&&(e=>this.cellKeyDown(e,r))||void 0,...h},r.headerCell&&f.createElement(r.headerCell,{...d}),!r.headerCell&&f.createElement("span",{className:"k-cell-inner"},f.createElement(Ur,{...d}),p&&f.createElement(p,{...u})),a&&o&&f.createElement(je,{key:"ColumnResizer",resize:(e,t,n)=>a.dragHandler(e,r,t,n)}))}))}sortIcon(e){if(!this.props.sort||e<0)return null;const t=this.props.sort[e].dir;return t?[f.createElement(n.IconWrap,{key:1,name:`sort-${t}-small`,icon:"asc"===t?o.sortAscSmallIcon:o.sortDescSmallIcon}),this.props.sort.length>1&&f.createElement("span",{key:2,className:"k-sort-order"},e+1)]:null}render(){return this.props.columnsMap.map(((e,t)=>this.props.pressHandler&&f.createElement(Vr,{key:t,pressHandler:this.props.pressHandler,dragHandler:this.props.dragHandler,releaseHandler:this.props.releaseHandler,ariaRowIndex:t+1},this.cells(e))||f.createElement("tr",{className:"k-table-row","aria-rowindex":t+1,role:"row"},this.cells(e))))}}l.registerForLocalization(en);const tn=class extends f.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=l.provideLocalizationService(this),{ariaLabel:t=e.toLanguageString(ie,Pe[ie])}=this.props;return f.createElement(i.TextBox,{value:this.props.filter.value||"",onChange:this.onChange,"aria-label":t,tabIndex:-1})}};tn.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,ariaLabel:r.string};let rn=tn;l.registerForLocalization(rn);const nn=class extends f.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=l.provideLocalizationService(this),{min:t,max:r,filter:n,ariaLabel:a=e.toLanguageString(oe,Pe[oe])}=this.props;return f.createElement(i.NumericTextBox,{value:"number"==typeof n.value?n.value:null,onChange:this.onChange,ariaLabel:a,min:t,max:r,tabIndex:-1})}};nn.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired};let an=nn;l.registerForLocalization(an);const ln=class extends f.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value}})}}render(){const e=this.props.filter;return f.createElement(d.DatePicker,{value:e.value||null,onChange:this.onChange,ariaLabel:this.props.ariaLabel,tabIndex:-1})}};ln.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,ariaLabel:r.string};let on=ln;const sn=class extends f.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onFilterChange.call(void 0,{nextFilter:{...this.props.filter,value:e.value.value}})}}render(){const e=l.provideLocalizationService(this),{filter:t,data:r=[],defaultItem:n,ariaLabel:a=e.toLanguageString(le,Pe[le])}=this.props,o=r.map((t=>({...t,text:e.toLanguageString(t.text,Pe[t.text]||t.text)})));return f.createElement(s.DropDownList,{value:o.find((e=>e.value===t.value))||null,onChange:this.onChange,defaultItem:n,data:o,textField:"text",ariaLabel:a,tabIndex:-1})}};sn.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,data:r.arrayOf(r.shape({text:r.string,value:r.any})),defaultItem:r.any,ariaLabel:r.string};let cn=sn;l.registerForLocalization(cn);const un=class extends f.Component{constructor(){super(...arguments),this.data=[{text:j,value:!0},{text:H,value:!1}]}render(){return f.createElement(cn,{filter:this.props.filter,onFilterChange:this.props.onFilterChange,data:this.props.data||this.data,defaultItem:this.props.defaultItem,ariaLabel:this.props.ariaLabel})}};un.propTypes={filter:r.object.isRequired,onFilterChange:r.func.isRequired,data:r.arrayOf(r.shape({text:r.string,value:r.any})),ariaLabel:r.string,defaultItem:r.any};let dn=un;const pn=[{text:K,operator:"contains"},{text:_,operator:"doesnotcontain"},{text:N,operator:"eq"},{text:L,operator:"neq"},{text:P,operator:"startswith"},{text:G,operator:"endswith"},{text:F,operator:"isnull"},{text:A,operator:"isnotnull"},{text:M,operator:"isempty"},{text:O,operator:"isnotempty"}],gn=[{text:N,operator:"eq"},{text:L,operator:"neq"},{text:B,operator:"gte"},{text:q,operator:"gt"},{text:z,operator:"lte"},{text:X,operator:"lt"},{text:F,operator:"isnull"},{text:A,operator:"isnotnull"}],mn=[{text:N,operator:"eq"},{text:L,operator:"neq"},{text:$,operator:"gte"},{text:W,operator:"gt"},{text:U,operator:"lt"},{text:Y,operator:"lte"},{text:F,operator:"isnull"},{text:A,operator:"isnotnull"}],fn=[{text:N,operator:"eq"},{text:L,operator:"neq"}];const vn=e=>"contains"===e||"doesnotcontain"===e||"startswith"===e||"endswith"===e,hn=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,En=e=>{void 0===e.value&&!hn(e.operator)&&(e.value=vn(e.operator)?"":null)},bn=class extends f.Component{constructor(){super(...arguments),this.onFieldChange=e=>{const t=e.value.name,r=this.props.fields.find((e=>e.name===t)),n=this.props.filter,a=r&&!r.operators.some((e=>e.operator===n.operator))?r.operators[0].operator:n.operator,l={field:t,operator:a};En(l),this.triggerOnFilterChange(n,l,e)},this.onOperatorChange=e=>{const t=e.value.operator,r=this.props.filter;let n;if(hn(t)){const{value:e,...a}=r;n={...a,operator:t}}else n={...r,operator:t};En(n),this.triggerOnFilterChange(r,n,e)},this.onInputChange=e=>{const t=this.props.filter;let r=e.nextFilter;if(hn(r.operator)){const e=this.props.fields.find((e=>e.name===r.field));r={...r,operator:e&&e.operators[0].operator||r.operator}}this.triggerOnFilterChange(t,r,e)},this.triggerOnFilterChange=(e,t,r)=>{const n={prevFilter:e,nextFilter:t,syntheticEvent:r.syntheticEvent,nativeEvent:r.nativeEvent,target:this};this.props.onChange.call(void 0,n)},this.onFilterRemove=e=>{const t={filter:this.props.filter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onRemove.call(void 0,t)}}render(){const e=l.provideLocalizationService(this),{fields:t,filter:r,ariaLabel:n=e.toLanguageString(re,Pe[re])}=this.props,i=t.find((e=>e.name===r.field)),c=(i&&i.operators||[]).map((t=>({...t,text:e.toLanguageString(t.text,Pe[t.text]||t.text)})));return f.createElement("div",{className:"k-filter-toolbar"},f.createElement(a.Toolbar,{keyboardNavigation:!1,role:"toolbar",ariaLabel:n},f.createElement(a.ToolbarItem,{className:"k-filter-field"},f.createElement(s.DropDownList,{tabIndex:-1,data:t,textField:"label",value:t.find((e=>e.name===r.field)),onChange:this.onFieldChange,ariaLabel:e.toLanguageString(ne,Pe[ne])})),f.createElement(a.ToolbarItem,{className:"k-filter-operator"},f.createElement(s.DropDownList,{tabIndex:-1,data:c,textField:"text",value:c.find((e=>e.operator===r.operator)),onChange:this.onOperatorChange,ariaLabel:e.toLanguageString(ae,Pe[ae])})),f.createElement(a.ToolbarItem,{className:"k-filter-value"},i&&f.createElement(i.filter,{filter:r,onFilterChange:this.onInputChange,min:i.min,max:i.max})),f.createElement(a.Button,{className:"k-toolbar-button",title:e.toLanguageString(ee,Pe[ee]),icon:"x",svgIcon:o.xIcon,fillMode:"flat",themeColor:"base",type:"button",onClick:this.onFilterRemove})))}};bn.propTypes={filter:r.object.isRequired,fields:r.array.isRequired,ariaLabel:r.string,onChange:r.func.isRequired,onRemove:r.func.isRequired};let yn=bn;l.registerForLocalization(yn);const Cn=class e extends f.Component{constructor(){super(...arguments),this.onGroupRemove=e=>{const t={filter:this.props.filter,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onRemove.call(void 0,t)},this.onAddExpression=e=>{const t=this.props.filter,r=this.props.fields[0],n={field:r.name,operator:r.operators[0].operator};n.value=vn(n.operator)?"":null;const a={nextFilter:{...t,filters:[...t.filters,n]},prevFilter:t,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onChange.call(void 0,a)},this.onAddGroup=e=>{const t=this.props.filter,r={nextFilter:{...t,filters:[...t.filters,{...this.props.defaultGroupFilter}]},prevFilter:t,target:this,syntheticEvent:e,nativeEvent:e.nativeEvent};this.props.onChange.call(void 0,r)},this.onLogicAnd=e=>this.changeLogic("and",e),this.onLogicOr=e=>this.changeLogic("or",e),this.changeLogic=(e,t)=>{const r=this.props.filter;if(r.logic!==e){const n={nextFilter:{...r,logic:e},prevFilter:r,target:this,syntheticEvent:t,nativeEvent:t.nativeEvent};this.props.onChange.call(void 0,n)}},this.replaceFilter=(e,t)=>{const r=this.props.filter,n=r.filters.map((r=>r===e?t:r));return{...r,filters:n}},this.onChange=e=>{const t={nextFilter:this.replaceFilter(e.prevFilter,e.nextFilter),prevFilter:this.props.filter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onRemove=e=>{const t=this.props.filter,r=t.filters.filter((t=>t!==e.filter)),n={nextFilter:{...t,filters:r},prevFilter:t,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,n)}}render(){const t=l.provideLocalizationService(this),{fields:r,filter:n,ariaLabel:i=t.toLanguageString(te,Pe[te])}=this.props;return f.createElement(f.Fragment,null,f.createElement("div",{className:"k-filter-toolbar"},f.createElement(a.Toolbar,{role:"toolbar",ariaLabel:i},f.createElement(a.ButtonGroup,{className:"k-toolbar-button-group k-button-group-solid"},f.createElement(a.Button,{togglable:!0,onClick:this.onLogicAnd,selected:"and"===n.logic,type:"button"},t.toLanguageString(V,Pe[V])),f.createElement(a.Button,{togglable:!0,onClick:this.onLogicOr,selected:"or"===n.logic,type:"button"},t.toLanguageString(J,Pe[J]))),f.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(Q,Pe[Q]),icon:"filter-add-expression",svgIcon:o.filterAddExpressionIcon,type:"button",onClick:this.onAddExpression},t.toLanguageString(Q,Pe[Q])),f.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(Z,Pe[Z]),icon:"filter-add-group",svgIcon:o.filterAddGroupIcon,type:"button",onClick:this.onAddGroup},t.toLanguageString(Z,Pe[Z])),f.createElement(a.Button,{className:"k-toolbar-button",title:t.toLanguageString(ee,Pe[ee]),icon:"x",svgIcon:o.xIcon,fillMode:"flat",type:"button",onClick:this.onGroupRemove}))),n.filters.length>0&&f.createElement("ul",{role:"group",className:"k-filter-lines"},n.filters.map(((t,n)=>f.createElement("li",{role:"treeitem",key:n,className:"k-filter-item"},u.isCompositeFilterDescriptor(t)?f.createElement(e,{filter:t,fields:r,onChange:this.onChange,onRemove:this.onRemove,defaultGroupFilter:this.props.defaultGroupFilter,ariaLabel:this.props.ariaLabel,ariaLabelExpression:this.props.ariaLabelExpression}):f.createElement(yn,{filter:t,fields:r,ariaLabel:this.props.ariaLabelExpression,onChange:this.onChange,onRemove:this.onRemove}))))))}};Cn.propTypes={filter:r.object.isRequired,fields:r.array.isRequired,ariaLabel:r.string,ariaLabelExpression:r.string,onChange:r.func.isRequired,onRemove:r.func.isRequired,defaultGroupFilter:r.object.isRequired};let In=Cn;l.registerForLocalization(In);const xn={andButton:"button.k-group-start",orButton:"button.k-group-end",addFilterButton:'button[title="Add Expression"]',addGroupButton:'button[title="Add Group"]',removeButton:'button[title="Remove"]',filterFieldWrapper:".k-filter-field",filterOperatorWrapper:".k-filter-operator",filterValueWrapper:".k-filter-value",toolbarElement:".k-toolbar"},kn=class extends f.Component{constructor(e){super(e),this.wrapperRef=f.createRef(),this.showLicenseWatermark=!1,this.onFilterChange=e=>{const t={filter:e.nextFilter,syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onGroupRemove=e=>{const t={filter:{...this.props.value,filters:[]},syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,target:this};this.props.onChange.call(void 0,t)},this.onKeyDown=e=>{var t;null==(t=this.navigation)||t.triggerKeyboardEvent(e)},this.showLicenseWatermark=!n.validatePackage(xr,{component:"Filter"}),this.licenseMessage=n.getLicenseMessage(xr)}componentDidMount(){this.wrapperRef&&(this.navigation=new n.Navigation({tabIndex:0,root:this.wrapperRef,selectors:[".k-filter"],keyboardEvents:{keydown:{Tab:(e,t,r)=>{const a=e.getElementsByClassName("k-filter-lines")[0];a&&n.disableNavigatableContainer(a)},ArrowUp:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.closest(xn.toolbarElement),o=e.getElementsByClassName("k-toolbar"),i=Array.from(o).findIndex((e=>e===l))-1,s=o[i];e.getElementsByClassName("k-filter-lines")[0]&&n.focusFirstFocusableChild(s)},ArrowDown:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.closest(xn.toolbarElement),o=e.getElementsByClassName("k-toolbar"),i=Array.from(o).findIndex((e=>e===l))+1,s=o[i],c=e.getElementsByClassName("k-filter-lines")[0];c&&(n.enableNavigatableContainer(c,[xn.filterFieldWrapper,xn.filterOperatorWrapper,xn.filterValueWrapper]),n.focusFirstFocusableChild(s))},ArrowRight:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.nextElementSibling,o=null==a?void 0:a.closest(xn.toolbarElement),i=e.querySelector('[aria-label="Filter toolbar"]');a&&l&&o!==i&&l.focus()},ArrowLeft:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=null==a?void 0:a.previousElementSibling,o=null==a?void 0:a.closest(xn.toolbarElement),i=e.querySelector('[aria-label="Filter toolbar"]');a&&l&&o!==i&&l.focus()},Enter:(e,t,r)=>{r.preventDefault();const a=n.getActiveElement(document),l=e.querySelector(xn.removeButton),o=null==a?void 0:a.closest(xn.toolbarElement),i=e.getElementsByClassName("k-toolbar"),s=Array.from(i).findIndex((e=>e===o))-1;if(o===i[0]){const e=o.lastElementChild;e&&e.click()}if(o!==i[0]){const e=i[s].lastElementChild;a&&a.title===l.title&&e&&(a.click(),e.focus())}}}}}))}render(){return f.createElement("div",{className:n.classNames("k-filter",this.props.className),style:this.props.style,ref:this.wrapperRef,onKeyDown:this.onKeyDown},f.createElement("ul",{role:"tree",className:"k-filter-container","aria-label":this.props.ariaLabel},f.createElement("li",{role:"treeitem",className:"k-filter-group-main"},f.createElement(In,{filter:this.props.value,fields:this.props.fields,ariaLabel:this.props.ariaLabelGroup,ariaLabelExpression:this.props.ariaLabelExpression,onChange:this.onFilterChange,onRemove:this.onGroupRemove,defaultGroupFilter:this.props.defaultGroupFilter||{logic:"and",filters:[]}}))),this.showLicenseWatermark&&f.createElement(n.WatermarkOverlay,{message:this.licenseMessage}))}};kn.propTypes={className:r.string,style:r.object,fields:function(e,t){const r=e[t];return void 0===r?new Error(`Property '${t}' is missing.`):Array.isArray(r)?Object.keys(r.reduce(((e,t)=>({...e,[t.name]:1})),{})).length!==r.length?new Error(`Property '${t}' needs to contain objects with unique 'name' field.`):null:new Error(`Property '${t}' needs to be Array<FieldSettings>.`)},ariaLabelGroup:r.string,ariaLabelExpression:r.string,value:r.object.isRequired,onChange:r.func.isRequired};let Dn=kn;const Sn=e=>f.createElement("div",{onClick:e.onClick,className:n.classNames("k-columnmenu-item",{"k-selected":e.selected},{"k-disabled":e.disabled})},(e.iconClass||e.svgIcon)&&f.createElement(n.IconWrap,{name:e.iconClass?n.toIconName(e.iconClass):void 0,icon:e.svgIcon}),e.title),Tn=[{text:ye,operator:"contains"},{text:Ce,operator:"doesnotcontain"},{text:ge,operator:"eq"},{text:me,operator:"neq"},{text:be,operator:"startswith"},{text:Ie,operator:"endswith"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"},{text:he,operator:"isempty"},{text:Ee,operator:"isnotempty"}],wn=[{text:ge,operator:"eq"},{text:me,operator:"neq"},{text:xe,operator:"gte"},{text:ke,operator:"gt"},{text:De,operator:"lte"},{text:Se,operator:"lt"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"}],Rn=[{text:ge,operator:"eq"},{text:me,operator:"neq"},{text:we,operator:"gte"},{text:Re,operator:"gt"},{text:Ne,operator:"lt"},{text:Le,operator:"lte"},{text:fe,operator:"isnull"},{text:ve,operator:"isnotnull"}],Nn=[{text:Te,operator:""}];let Ln=class{static get text(){return[...Tn]}static get numeric(){return[...wn]}static get date(){return[...Rn]}static get boolean(){return[...Nn]}};const Fn=e=>{const{filter:t,onFilterChange:r,operators:n,initialFilter:a}=e,o=f.useCallback((e=>{const n=t,l=e.target.value.operator,o=n?{...n,operator:l}:{value:a.value,operator:l};r.call(void 0,e.syntheticEvent,o,n)}),[t,r,a]),i=f.useCallback((e=>{const a=e.target.value,l=t,o=l?{...l,value:a}:{value:a,operator:n[0].operator};r.call(void 0,e,o,l)}),[t,r,n]),c=l.useLocalization(),u=n.map((e=>({...e,text:c.toLanguageString(e.text,Pe[e.text])})));return f.createElement(f.Fragment,null,f.createElement(s.DropDownList,{value:u.find((e=>e.operator===t.operator))||null,onChange:o,data:u,textField:"text"}),f.createElement(e.input,{value:t.value,onChange:i}))},An=e=>{const{filter:t,onFilterChange:r}=e,n=f.useCallback((e=>r.call(void 0,e.syntheticEvent,{...t,value:e.value},t)),[t,r]),a=Ln.boolean[0].text;return f.createElement(i.Checkbox,{onChange:n,checked:t.value,label:l.useLocalization().toLanguageString(a,Pe[a]),labelPlacement:"after"})},Mn=e=>{const t=f.useCallback((e=>f.createElement(i.Input,{...e,value:e.value||""})),[]),r=f.useRef(Ln.text),n=f.useRef({operator:"",value:""});return f.createElement(Fn,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},On=e=>{const t=f.useCallback((e=>f.createElement(i.NumericTextBox,{...e,value:e.value||null})),[]),r=f.useRef(Ln.numeric),n=f.useRef({operator:"",value:null});return f.createElement(Fn,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},Pn=e=>{const t=f.useCallback((e=>f.createElement(d.DatePicker,{...e,value:e.value||null})),[]),r=f.useRef(Ln.date),n=f.useRef({operator:"",value:null});return f.createElement(Fn,{initialFilter:n.current,input:t,operators:e.operators||r.current,...e})},Kn=[{text:Fe,logic:"and"},{text:Ae,logic:"or"}],_n=e=>{const t=l.useLocalization(),r=(e.data||Kn).map((e=>({...e,text:t.toLanguageString(e.text,Pe[e.text])})));return f.createElement(s.DropDownList,{onChange:e.onChange,className:"k-filter-and",textField:"text",...e,data:r,value:r.find((t=>t.logic===e.value))})},Gn=e=>f.createElement("div",{className:"k-columnmenu-item-content"},f.createElement(g.Reveal,{style:{position:"relative",display:"block"}},e.show&&f.createElement("div",{className:"kendo-grid-filter-menu-container"},f.createElement("form",{className:"k-filter-menu",onSubmit:e.onSubmit,onReset:e.onReset},f.createElement("div",{className:"k-filter-menu-container"},e.children,f.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},e.actions)))))),Bn=e=>{const t=l.useLocalization();return f.createElement(Gn,{...e,actions:f.createElement(f.Fragment,null,f.createElement(a.Button,{type:"reset"},t.toLanguageString(se,Pe[se])),f.createElement(a.Button,{themeColor:"primary"},t.toLanguageString(ce,Pe[ce])))})},qn=e=>{const t=!n.validatePackage(xr,{component:"ColumnMenu"}),r=n.getLicenseMessage(xr),a=f.useRef([]),{field:i,filter:s,sort:c=a.current,onSortChange:d,onFilterChange:g,initialFilter:m,sortAsc:v=!1,sortDesc:h=!1,filterContent:E=[],expandFilters:b=!1}=e,[y,C]=f.useState(!1),[I,x]=f.useState(b),[k,D]=f.useState(i&&m?m(i):null),S=f.useRef(null),T=f.useRef(null),w=f.useRef(null),R=f.useRef(!1),N=f.useCallback((()=>(s||[]).find((e=>e.filters.every((e=>!u.isCompositeFilterDescriptor(e)&&e.field===i))))),[s,i]),L=f.useCallback((()=>{C(!1)}),[]),F=f.useCallback((()=>{R.current?R.current=!1:(clearTimeout(w.current),w.current=window.setTimeout((()=>{L()})))}),[L]),A=f.useCallback((()=>clearTimeout(w.current)),[]),M=f.useCallback((e=>{R.current=y&&e.currentTarget===S.current}),[y]),O=f.useCallback((()=>{C(!y),i&&m&&(x(!y&&b),D(y?k:N()||m(i)))}),[N,i,y,k,m,b]);f.useEffect((()=>{y&&T.current&&T.current.focus()}),[y]);const P=f.useCallback((()=>x(!I)),[I]),K=f.useCallback(((e,t)=>{const r=[...c],n=r.findIndex((e=>e.field===i)),a={field:i,dir:t};n>=0?r[n].dir!==a.dir?r.splice(n,1,a):r.splice(n,1):r.push(a),L(),d&&d.call(void 0,e,r,i)}),[c,i,d,L]),_=f.useCallback(((e,t,r)=>{const n={...k,filters:[...k.filters]},a=n.filters.indexOf(r);n.filters.splice(a,1,t),D(n)}),[k]),G=f.useCallback((e=>{e.preventDefault();const t=(s||[]).slice(),r=N(),n=r?t.indexOf(r):-1;n>=0?t.splice(n,1,k):t.push(k),L(),g&&g.call(void 0,e,t,i)}),[s,k,i,g,L,N]),B=f.useCallback((e=>{const t=(s||[]).slice(),r=N(),n=r?t.indexOf(r):-1;n>=0&&t.splice(n,1),m&&D(m(i)),L(),g&&g.call(void 0,e,t,i)}),[s,i,g,m,L,N]),q=f.useCallback((e=>K(e,"asc")),[K]),z=f.useCallback((e=>K(e,"desc")),[K]),X=f.useCallback((e=>k&&D({...k,logic:e.value.logic})),[k]),j=c.find((e=>e.field===i))||{dir:""},[H,$,W]=E,U=l.useLocalization(),Y=[v||h?f.createElement("div",{className:"k-columnmenu-item-wrapper",key:"sorting"},v&&f.createElement(Sn,{title:U.toLanguageString(de,Pe[de]),iconClass:"k-i-sort-asc-small",svgIcon:o.sortAscSmallIcon,selected:"asc"===j.dir,onClick:q}),h&&f.createElement(Sn,{title:U.toLanguageString(pe,Pe[pe]),iconClass:"k-i-sort-desc-small",svgIcon:o.sortDescSmallIcon,selected:"desc"===j.dir,onClick:z})):null,k&&E.length>0?f.createElement("div",{className:"k-columnmenu-item-wrapper",key:"filtering"},f.createElement(Sn,{iconClass:"k-i-filter",svgIcon:o.filterIcon,title:U.toLanguageString(ue,Pe[ue]),onClick:P}),f.createElement(Bn,{show:I,onSubmit:G,onReset:B},H&&f.createElement(H,{filter:k.filters[0],onFilterChange:_}),$&&f.createElement($,{value:k.logic,onChange:X}),W&&f.createElement(W,{filter:k.filters[1],onFilterChange:_}))):null],V=f.createElement("span",{ref:S,onClick:O,onMouseDown:M,className:"k-grid-header-menu k-grid-column-menu"+(N()?" k-active":""),key:"button"},f.createElement(n.IconWrap,{name:"filter",icon:o.filterIcon})),J=f.createElement(p.Popup,{anchor:S.current,show:y,key:"popup",popupClass:"k-column-menu k-column-menu-popup"},f.createElement("div",{ref:T,tabIndex:0,onBlur:F,onFocus:A,style:{outline:"none"}},e.itemsRender?e.itemsRender.call(void 0,Y,{closeMenu:L,field:i}):Y)),Q=t?[V,J,f.createElement(n.WatermarkOverlay,{message:r})]:[V,J];return e.render?e.render.call(void 0,Q):Q};e.BooleanFilter=dn,e.BooleanFilterCell=Kr,e.ClipboardActionType=pr,e.ClipboardService=class{constructor(e){this.copyHandler=e=>{this.clipboardEvent(pr.copy,e)},this.cutHandler=e=>{this.clipboardEvent(pr.cut,e)},this.pasteHandler=e=>{this.clipboardEvent(pr.paste,e)},this.addEventListeners=e=>{e&&(e.addEventListener(pr.copy,this.copyHandler),e.addEventListener(pr.cut,this.cutHandler),e.addEventListener(pr.paste,this.pasteHandler))},this.removeEventListeners=e=>{e&&(e.removeEventListener(pr.copy,this.copyHandler),e.removeEventListener(pr.cut,this.cutHandler),e.removeEventListener(pr.paste,this.pasteHandler))},this.clipboardEvent=e}},e.ColumnDefaultProps=Ct,e.ColumnMenuBooleanColumn=e=>{const{field:t,...r}=e,n=f.useCallback((e=>({logic:"and",filters:[{operator:"eq",field:e,value:!1}]})),[]),a=!!e.field,l=a?[An]:[];return f.createElement(qn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuBooleanFilter=An,e.ColumnMenuDateColumn=e=>{const{field:t,...r}=e,n=f.useCallback((e=>({logic:"or",filters:[{operator:"eq",field:e,value:null},{operator:"eq",field:e,value:null}]})),[]),a=!!e.field,l=a?[Pn,_n,Pn]:[];return f.createElement(qn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuDateFilter=Pn,e.ColumnMenuFilterForm=Bn,e.ColumnMenuFilterLogic=_n,e.ColumnMenuForm=Gn,e.ColumnMenuItem=Sn,e.ColumnMenuNumericColumn=e=>{const{field:t,...r}=e,n=f.useCallback((e=>({logic:"or",filters:[{operator:"eq",field:e,value:null},{operator:"eq",field:e,value:null}]})),[]),a=!!e.field,l=a?[On,_n,On]:[];return f.createElement(qn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuNumericFilter=On,e.ColumnMenuOperators=Ln,e.ColumnMenuTextColumn=e=>{const{field:t,...r}=e,n=f.useCallback((e=>({logic:"and",filters:[{operator:"contains",field:e,value:""},{operator:"contains",field:e,value:""}]})),[]),a=!!e.field,l=a?[Mn,_n,Mn]:[];return f.createElement(qn,{sortAsc:a,sortDesc:a,filterContent:l,initialFilter:a?n:void 0,field:t,...r})},e.ColumnMenuTextFilter=Mn,e.ColumnResize=class{constructor(e){this.columns=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.onResize=e,this.dragHandler=this.dragHandler.bind(this)}dragHandler(e,t,r,n){const a=e.originalEvent;n||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation());const l=r.parentElement;if(!l||!l.parentElement)return;const o=l.clientWidth;let i;if(this.isRtl?(i=r.getBoundingClientRect().right-r.offsetWidth/2-e.clientX,i+=o):i=o+e.clientX-r.getBoundingClientRect().left-r.offsetWidth/2,!n&&Math.abs(i-o)<1)return;this.setWidths(t,Math.floor(i)/o);const s=this.columns.filter((e=>!e.children.length)).indexOf(t);this.onResize(s,o,i,a,n)}setWidths(e,t){const r=this.columns.indexOf(e),n=[];let a=e.children.length;for(let e=r+1;e<this.columns.length&&!(a<=0);e++){const t=this.columns[e];t.children.length?a+=t.children.length:n.push(t),a--}0===n.length&&n.push(e),n.forEach((e=>{let r=e.width?parseFloat(e.width.toString())*t:0;const n=void 0===e.minResizableWidth?10:e.minResizableWidth;r<n&&(r=n),e.width=Math.floor(r)})),this.updateColElements(n)}updateColElements(e){const t=this.columns.filter((e=>!e.children.length));let r=1e-10;for(let n=0;n<e.length;n++){const a=t.indexOf(e[n]),l=parseFloat((e[n].width||0).toString());r+=l-Math.floor(l);const o=Math.floor(l)+Math.floor(r);r-=Math.floor(r),this.setColWidth(this.colGroupMain&&this.colGroupMain.children[a],o),this.setColWidth(this.colGroupHeader&&this.colGroupHeader.children[a],o),this.setColWidth(this.colGroupFooter&&this.colGroupFooter.children[a],o)}}setColWidth(e,t){e&&(e.style.width=t+"px")}},e.ColumnResizer=je,e.CommonDragLogic=class{constructor(e,t,r){this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e},this.refDropElementClue=e=>{this.dropElementClue=e},this.refDragElementClue=e=>{this.dragElementClue=e},this.pressHandler=(e,t)=>{const r=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),r>=0){const e=this.columns[r];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=r)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.getGroupIndex(e),this.groupPanelDivElement&&this.startGroup>=0&&(this.currentGroup=Math.min(this.currentGroup,this.groupPanelDivElement.children.length-2));const r=!this.isValid();r&&(this.currentColumn=-1,this.currentGroup=-1);const n=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,n,r),this.updateDropElementClue(e,t,n,r)},this.releaseHandler=e=>{const t=this.startColumn,r=this.currentColumn,n=this.startGroup,a=this.currentGroup;this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const l=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,l&&(t>=0&&r>=0?this.columnReorder(t,r,e.originalEvent):n>=0&&a>=0?this.groupReorder(n,a,e.originalEvent):t>=0&&a>=0&&this.columnToGroup(t,a,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=r}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const r=Tt(e,t);if(-1===r)return-1;for(let e=0;e<t.parentNode.children.length;e++)if(t.parentNode.children[e]===t)return this.columns.findIndex((t=>t.index===r&&t.depth===e));return-1}getGroupIndex(e){return Tt(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,r,n){if(!this.dragElementClue)return;const a=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:a,status:n||!r?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,r,n){if(!this.dropElementClue)return;if(n||!r)return void this.dropElementClue.setState({visible:!1});const a=r.getBoundingClientRect();let l=a.left+e.pageX-e.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(l+=a.width);const o=a.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:o,left:l,height:this.currentColumn>=0?t.clientHeight:a.height})}},e.DETAIL_EXPAND_ACTION=or,e.DateFilter=on,e.DateFilterCell=Gr,e.DragClue=wt,e.DropClue=Rt,e.EDIT_ACTION=ar,e.EnumFilter=cn,e.Expression=yn,e.FILTER_ROW_CLASS=Hr,e.Filter=Dn,e.FilterRow=function(e){const{columns:t,filter:r,filterChange:a,sort:o=[],ariaRowIndex:i}=e,s=l.useLocalization(),c=e=>{if(!a)return;const t=e.filter.filter((e=>!("eq"===e.operator&&null===e.value)));a({...e,filter:t})};return f.createElement("tr",{className:Hr,"aria-rowindex":i,role:"row"},t.map(((e,t)=>{const a=void 0!==e.locked?{left:e.left,right:e.right,borderRightWidth:e.rightBorder?"1px":""}:{},l=e.filterCell||e.filter;return f.createElement(jr,{columnId:bt(e.id),navigatable:e.navigatable,style:a,key:t,ariaColumnIndex:e.ariaColumnIndex,ariaLabel:l?s.toLanguageString(Oe,Pe[Oe]):void 0,className:n.classNames("k-table-td k-header",$r(o,e.field,e.locked))},l&&f.createElement(l,{field:e.field,filter:r,onFilterChange:c}))})))},e.GROUP_EXPAND_ACTION=ir,e.Group=In,e.Header=Wr,e.HeaderCell=Ur,e.HeaderRow=en,e.HeaderSelectionCell=function(e){const t=[f.createElement("input",{key:0,checked:e.selectionValue,id:e.inputId,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md",onChange:t=>e.selectionChange({field:e.field,syntheticEvent:t})}),f.createElement("label",{key:1,className:"k-checkbox-label",htmlFor:e.inputId})];return f.createElement(f.Fragment,null,e.render?e.render.call(void 0,t,e):t)},e.HeaderTdElement=jr,e.HeaderThElement=Jr,e.KEYBOARD_NAV_CANCEL_BUTTON_CLASS=Je,e.KEYBOARD_NAV_DATA_BODY=Ue,e.KEYBOARD_NAV_DATA_HEADER=We,e.KEYBOARD_NAV_DATA_ID=Ye,e.KEYBOARD_NAV_DATA_LEVEL=He,e.KEYBOARD_NAV_DATA_SCOPE=$e,e.KEYBOARD_NAV_DATA_ZONE="data-keyboardnavzone",e.KEYBOARD_NAV_EDIT_BUTTON_CLASS=Qe,e.KEYBOARD_NAV_FILTER_COL_SUFFIX=Ve,e.NavigatableMode=Bt,e.NumericFilter=an,e.NumericFilterCell=qr,e.Operators=class{static get text(){return[...pn]}static get numeric(){return[...gn]}static get date(){return[...mn]}static get boolean(){return[...fn]}},e.Pager=ze,e.TABLE_COL_INDEX_ATTRIBUTE=$t,e.TABLE_PREVENT_SELECTION_ELEMENT=Wt,e.TABLE_ROW_INDEX_ATTRIBUTE=Ht,e.TableKeyboardNavigationContext=_t,e.TableSelection=e=>{var t;const{onRelease:r,childRef:a}=e,{enabled:l,drag:o,mode:i,cell:s}=nr(e.selectable),c=f.useRef(null),u=f.useRef(null),d=f.useRef({clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}),[p,g]=f.useState(null),m=f.useRef(void 0),h=f.useRef(!1),E=f.useRef(!1),b=f.useCallback((e=>{var t;const{event:r}=e;if(E.current=Yt(r.originalEvent.target),E.current||!c.current)return;m.current=tr(c.current.element);const n=null==(t=c.current.element)?void 0:t.ownerDocument;if(!n)return;r.originalEvent.stopImmediatePropagation();const a=n.elementFromPoint(r.clientX,r.clientY);d.current={clientY:r.clientY,clientX:r.clientX,scrollX:r.scrollX,scrollY:r.scrollY,pressedElement:a}}),[]),y=f.useCallback((e=>{const{event:t}=e,{clientX:r,clientY:n}=d.current;if(!E.current&&o&&"single"!==i&&((Math.abs(n-t.clientY)>5||Math.abs(r-t.clientX)>5)&&(h.current=!0),t.originalEvent.stopImmediatePropagation(),h.current)){const e=rr(m.current);g({top:Math.min(n,t.clientY)-e.top,left:Math.min(r,t.clientX)-e.left,width:Math.abs(t.clientX-r),height:Math.abs(t.clientY-n)})}}),[g,o,i]),C=f.useCallback((e=>{var t;const{event:n}=e,{clientX:a,clientY:l,scrollX:o,scrollY:p,pressedElement:m}=d.current;if(E.current||!c.current)return;const f=null==(t=c.current.element)?void 0:t.ownerDocument;if(f){if(n.originalEvent.stopImmediatePropagation(),h.current){const e=n.scrollY-p,t=n.scrollX-o,c=Math.min(l,n.clientY),d=Math.min(a,n.clientX),g=Math.max(l,n.clientY),v=Math.max(a,n.clientX),h=u.current;if(!h)return;h.style.visibility="hidden";const E=f.elementFromPoint(d,c),b=e>0||t>0?m:E,y=f.elementFromPoint(v,g);if(h.style.visibility="",!b||!y)return;const C=Vt(b,"TD"),I=Vt(C,"TR"),x=Vt(y,"TD"),k=Vt(x,"TR"),D=Qt(C),S=Jt(I),T=Qt(x),w=Jt(k);void 0!==D&&void 0!==S&&void 0!==T&&void 0!==w&&r({nativeEvent:n.originalEvent,startRowIndex:S,startColIndex:D,endRowIndex:w,endColIndex:T,altKey:n.altKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,mode:i,cell:s,isDrag:!0})}else{const e=f.elementFromPoint(a,l);if(!e)return;const t=Vt(e,"TD"),o=Vt(e,"TR"),c=Qt(t),u=Jt(o);t&&o&&void 0!==u&&void 0!==c&&r({nativeEvent:n.originalEvent,startRowIndex:u,startColIndex:c,endRowIndex:u,endColIndex:c,altKey:n.altKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,mode:i,cell:s,isDrag:!1})}g(null),h.current=!1,d.current={clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}}}),[g,i,s,r]),I=n.useDocument(u);return l?f.createElement(f.Fragment,null,f.createElement(n.Draggable,{onPress:b,onDrag:y,onRelease:C,ref:c,childRef:a},e.children),p&&v.createPortal(f.createElement("div",{ref:u,style:{...p,position:"fixed"},className:"k-marquee k-marquee-color"}),null==(t=I())?void 0:t.body)):f.cloneElement(f.Children.only(e.children),{ref:a})},e.TextFilter=rn,e.TextFilterCell=Xr,e.addHeaders=br,e.closestTagName=Vt,e.combineFilters=(e,t)=>t&&!e?t:e&&!t?e:e&&t?{logic:"and",filters:[e,t]}:void 0,e.createDataTree=(e,t,r,n)=>{let a,l={},o=[];return e.forEach((e=>l[t(e)]={...e})),e.forEach((e=>{a=l[r(e)],a?(a[n]=a[n]||[],a[n].push(l[t(e)])):o.push(l[t(e)])})),o},e.createFilterComponent=Or,e.detailExpandReducer=(e,t)=>{switch(t.type){case"DETAIL_EXPAND_DETAIL_EXPAND":return{...e,[t.id]:!0};case"DETAIL_EXPAND_COLLAPSE":return{...e,[t.id]:!1};case"DETAIL_EXPAND_SET":return{...e,[t.id]:t.payload};case"DETAIL_EXPAND_TOGGLE":return{...e,[t.id]:!e[t.id]};default:return e}},e.editReducer=lr,e.extendDataItem=(e,t,r)=>n.extendDataItem(e,t,r),e.filterBy=function(e,t,r){let n={[r]:[...e]};return n=Ft(n,t,r),n[r]||[]},e.findGroupExpand=(e,t)=>{const r=sr(e);return dr(r,t)},e.flatData=function(e,t,r){const n=[],a=[];for(let r=e.length-1;r>=0;r--){const a=e[r];n.push({root:a,data:t(a),level:[r],levelCount:e.length})}for(;n.length>0;){const e=n.pop();if(a.push({dataItem:e.root,level:[...e.level],...r(e.root),levelCount:e.levelCount}),e.data.length)for(let r=e.data.length-1;r>=0;r--){const a=e.data[r];n.push({root:a,data:t(a),level:[...e.level,r],levelCount:e.data.length})}}return a},e.flatToTree=ur,e.getClipboardData=Ir,e.getClipboardItemsToPaste=fr,e.getClipboardText=Cr,e.getColumnIndex=Qt,e.getDetailExpandableOptions=e=>{var t;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,column:"boolean"==typeof e||null==e?void 0:e.column}},e.getEditableOptions=e=>{var t,r;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,mode:"boolean"==typeof e?"incell":null!=(r=null==e?void 0:e.mode)?r:"incell"}},e.getGroupExpandableOptions=e=>{var t;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,defaultExpand:"object"!=typeof e||(null==e?void 0:e.defaultExpand)}},e.getGroupIds=e=>{const t=[];return n.mapTree(e.data,Pt,(e=>{e[Ot]&&t.push(e[Ot])})),t},e.getIndex=Tt,e.getItemPath=Mt,e.getItemsToPaste=vr,e.getItemsToUpdateOnPaste=gr,e.getOffset=rr,e.getPastedItems=hr,e.getPreviouslyCopiedItemsData=mr,e.getRowIndex=Jt,e.getSearchFromString=(e,t)=>({...e,filters:e.filters.map((e=>({...e,value:t})))}),e.getSelectedItems=yr,e.getSelectedState=Zt,e.getSelectedStateFromKeyDown=e=>{const{event:t,dataItemKey:r,selectedState:a}=e,{syntheticEvent:l,nativeEvent:o,dataItems:i,componentId:s,mode:c,cell:u,selectedField:d}=t,{target:p,ctrlKey:g,metaKey:m,altKey:f,shiftKey:v}=o;if(l.isDefaultPrevented()&&!v||o.keyCode!==n.Keys.space&&o.keyCode!==n.Keys.enter&&o.keyCode!==n.Keys.right&&o.keyCode!==n.Keys.left&&o.keyCode!==n.Keys.up&&o.keyCode!==n.Keys.down)return a;l.preventDefault();const h=Vt(p,"TD"),E=Vt(p,"TR");let b=Qt(h),y=Jt(E),C={};return h&&E&&void 0!==y&&void 0!==b&&(o.keyCode===n.Keys.right&&b++,o.keyCode===n.Keys.left&&b--,o.keyCode===n.Keys.down&&y++,o.keyCode===n.Keys.up&&y--,C=Zt({selectedState:a,dataItemKey:r,event:{ctrlKey:g,metaKey:m,altKey:f,shiftKey:v,dataItems:i,cell:u,mode:c,selectedField:d,componentId:s,startColIndex:b,endColIndex:b,startRowIndex:y,endRowIndex:y,isDrag:!1,syntheticEvent:l,nativeEvent:o,target:t.target,dataItem:null}})),C},e.getSelectionOptions=nr,e.getStringFromSearch=e=>null!=e&&e.filters.length&&e.filters[0].value||"",e.groupExpandReducer=(e,t,r)=>{var n,a,l;const o=sr(null!=e?e:[]),i=dr(o,t.group);switch(t.type){case"GROUP-EXPAND_TOGGLE":return ur(i?null==o?void 0:o.map((e=>{var t,n;return e===i?{...e,expanded:!(null==(n=null!=(t=e.expanded)?t:null==r?void 0:r.defaultExpand)||n)}:e})):[...o,{...t.group,expanded:!(null==(n=null==r?void 0:r.defaultExpand)||n)}]);case"GROUP-EXPAND_EXPAND":{let e;return e=i?null==o?void 0:o.map((e=>e===i?{...e,expanded:!0}:e)):null==(a=null==r?void 0:r.defaultExpand)||a?o:[...o,{...t.group,expanded:!0}],ur(e)}case"GROUP-EXPAND_COLLAPSE":{let e;return e=i?null==o?void 0:o.map((e=>e===i?{...e,expanded:!1}:e)):null==(l=null==r?void 0:r.defaultExpand)||l?[...o,{...t.group,expanded:!1}]:o,ur(e)}default:return e}},e.isExpanded=(e,t)=>{var r;const n=sr(e),a=dr(n,t);return!!a&&(null==(r=a.expanded)||r)},e.isInNonSelectable=Yt,e.isRtl=St,e.itemToString=Er,e.mapColumns=function(e,t){const r=[[]];let n=0;for(let t=e.length-1;t>=0;t--)n=Math.max(n,e[t].depth),e[t].colSpan=e[t].colSpan||1,e[t].children.length>0&&(e[t].colSpan=e[t].children.reduce(((e,t)=>t.hidden?e:e+t.colSpan),0));const a=[];let l=1;return e.forEach(((e,t)=>{r[e.depth]=r[e.depth]||[];let o=!1;0===r[e.depth].length&&(l<=1?l=1+(e.children.length>0?0:n-e.depth):(l--,o=!0)),e.rowSpan=1+(e.children.length>0?0:n-e.depth),e.kFirst=o,e.index=r[e.depth].length,r[e.depth].push(t),e.ariaColumnIndex=a[e.depth]?a[e.depth]+1:1;for(let t=e.depth;t<e.depth+e.rowSpan;t++)a[t]=(a[t]||0)+e.colSpan})),kt(r,e,t),Dt(r,e,t),r},e.modifySubItems=(e,t,r,a)=>n.mapTree(e,t,(e=>r(e)?{...e,[t]:a(e[t]||[])}:e)),e.moveTreeItem=(e,t,r,n)=>{const a=[...e],l=Mt(a,t,n),o=l.pop(),i=l.pop(),s=t[t.length-1];if(r){const e=Mt(a,r,n).pop();(i?i[n]:a).splice(s,1),e[n]=e[n]||[],e[n].push(o)}else(i?i[n]:a).splice(s,1),a.push(o);return a},e.nextColumn=It,e.normalize=Yr,e.orderBy=function(e,t,r){let n=u.orderBy(e,t);return n=n.map((e=>Lt(e,t,r))),n},e.populateClipboardData=e=>{const{event:t}=e,r=yr(e)||[],n=Ir(t,r)||"";return{copiedItems:r,pastedItems:"paste"===t.type&&hr(e,n)||[],clipboardData:n}},e.readColumns=function e(t,r,n=0){const a=[];if(!t||!t.length)return[];if(t.forEach((t=>{const l=e(t.children||[],r,n+1);a.push(Object.assign({},{depth:n},Ct,t,{id:t.id?t.id:rt(""+r.prevId++,r.idPrefix,"column"),declarationIndex:a.length,children:l,rowSpan:0,colSpan:0,isAccessible:!0}))})),a.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===n){const e=[],t=(r,n)=>r.forEach((r=>{r.parentIndex=n,t(r.children,e.push(r)-1)}));return t(a,-1),e}return a},e.relativeContextElement=tr,e.removeItems=(e,t,r)=>[...n.mapTree([{[t]:[...e]}],t,(e=>At(e,r,t)))[0][t]],e.selectors=xn,e.setExpandedState=e=>n.mapTree(e.data,Pt,(t=>n.extendDataItem(t,Pt,{expanded:!e.collapsedIds.some((e=>e===t[Ot]))}))),e.setGroupIds=e=>{const{group:t}=e;if(t&&t.length&&e.data)return e.data.forEach((e=>Kt(e,t.length,"")))},e.setSelectedState=e=>{const t=e.subItemsField||"items",r=n.getter(e.dataItemKey);return n.mapTree(e.data,t,(a=>n.extendDataItem(a,t,{[e.selectedField]:e.selectedState[r(a)]})))},e.stringOperator=vn,e.tableColumnsVirtualization=function(e){const{enabled:t,columns:r=[],tableViewPortWidth:n,scrollLeft:a,getColSpan:l,dataItem:o}=e,i=r.map((()=>1)),s=r.map((()=>!1));if(!t)return{colSpans:i,hiddenColumns:s};const c=r.map((e=>parseFloat((e.width||"").toString())||10));let u=0;for(let e=0;e<r.length;e++){if(r[e].locked)continue;let t=1;if(void 0!==l){let n=l(r[e],o);n>2?t=n-1:2===n&&(t=n)}const n=e<c.length-1?c[e+1]*t:0;if(!(u+c[e]+n<a))break;s[e]=!0,u+=c[e]}const d=c.reduce(((e,t)=>e+t),0);u=0;for(let e=r.length-1;e>=0;e--)if(!r[e].locked){if(!(u+2*c[e]<d-n-a))break;s[e]=!0,u+=c[e]}const p=[...s],g=e=>e;let m,f,v=p.lastIndexOf(!1),h=p.some(g),E=p.every(g);for(;h&&p.length&&(-1!==v||E);){for(v<p.length-1&&(m=E?p.length:p.length-v-1,f=p.length-m,0===f&&(f=m-1),s[f]=!1,i[f]=m,p.splice(v+1,m));p.length&&!p[p.length-1];)p.pop();v=p.lastIndexOf(!1),h=p.some(g),E=p.every(g)}return{colSpans:i,hiddenColumns:s}},e.tableKeyboardNavigation=jt,e.tableKeyboardNavigationBodyAttributes=tt,e.tableKeyboardNavigationHeaderAttributes=et,e.tableKeyboardNavigationScopeAttributes=Ze,e.tableKeyboardNavigationTools=yt,e.treeToFlat=(e,t,r)=>{const a=e=>{const a=[];return(e=>!!n.getNestedValue(t,e))(e)&&(e=>!!n.getNestedValue(r,e))(e)&&a.push(...n.getNestedValue(r,e)),a},l=(e,t,r)=>{t.push({...e,level:r}),a(e).forEach((e=>l(e,t,r+1)))},o=[];return e.forEach((e=>l(e,o,0))),o},e.unaryOperator=hn,e.updateLeft=kt,e.updateRight=Dt,e.useDataSource=kr,e.useODataDataSource=e=>{n.validatePackage(xr,{component:"useODataDataSource"});const t=n.deepMerge({},Fr,e.transport),r=n.deepMerge({},Mr,e.schema);return Lr({serverGrouping:!1,...e,transport:t,schema:r})},e.useRemoteDataSource=Lr,e.useTableKeyboardNavigation=Gt}));
